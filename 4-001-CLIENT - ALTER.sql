SET DEFINE OFF;
ALTER TABLE T_SCHEME_PARTY_LINK_DTL ADD AUTO_IND NUMBER(1) DEFAULT 0 CONSTRAINT NN_SPLD_AIND NOT NULL;
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD LOCATION_ID NUMBER(10) DEFAULT 0 CONSTRAINT NN_SPLH_LID NOT NULL;
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD CONSTRAINT FK_SPLH_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 604, 'MIX-VARIANT-BARCODE-TOLLERANCE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_SCHEME_MASTER ADD  APPROVER_ID NUMBER(10);
CREATE TABLE T_PARTY_STONE_CONVERSION_LINK
(
    PK_ID           NUMBER(10),
    PARTY_GROUP_ID  NUMBER(10) DEFAULT 0 CONSTRAINT NN_PSCL_PGID NOT NULL,
    PARTY_ID        NUMBER(10) DEFAULT 0 CONSTRAINT NN_PSCL_PID NOT NULL,    
    ITEM_GROUP_ID   NUMBER(10) DEFAULT 0 CONSTRAINT NN_PSCL_IGID NOT NULL,
    CONVERSION_PER  NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_PSCL_CP NOT NULL,
    LINK_TYPE       VARCHAR2(5)
);

CREATE UNIQUE INDEX PK_PSCL_PKID ON T_PARTY_STONE_CONVERSION_LINK (PK_ID);

ALTER TABLE T_PARTY_STONE_CONVERSION_LINK ADD (CONSTRAINT PK_PSCL_PKID PRIMARY KEY (PK_ID));

ALTER TABLE T_PARTY_STONE_CONVERSION_LINK ADD (CONSTRAINT FK_PSCL_PID_PAM  FOREIGN KEY (PARTY_ID) REFERENCES T_PARTY_MASTER (PARTY_ID));

CREATE SEQUENCE PARTY_STONE_CONVERSION_LINK
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 605, 'STONE-WT-TO-METAL-WT-ON', 'PG', 'P: PARTY, PG: PARTY GROUP', 0); 
COMMIT;
CREATE TABLE T_BUILD_SMS_LOG
(
  BSL_ID          NUMBER(10),
  CALL_MODE       VARCHAR2(100),
  CLIENT_ID       NUMBER(10),
  QUERY_VALUES    VARCHAR2(500),
  ERROR_MESSAGE   VARCHAR2(2000),
  ERROR_TIME      DATE
)
TABLESPACE SEA_TB_MISC;

CREATE SEQUENCE BUILD_SMS_LOG START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;

ALTER TABLE T_BUILD_SMS_LOG ADD CONSTRAINT FK_BSL_CID_CCM FOREIGN KEY(CLIENT_ID) REFERENCES T_CONFIG_CLIENT_MASTER(CLIENT_ID);
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD EXPIRED_IND NUMBER(10) DEFAULT 0 CONSTRAINT NN_AUEM_RIND NOT NULL;
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD LOCKED_IND NUMBER(10) DEFAULT 0 CONSTRAINT NN_AUEM_LIND NOT NULL;
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD FAILED_ATTEMPTS NUMBER(1) DEFAULT 0 CONSTRAINT NN_AUEM_FA NOT NULL;
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD PASSWORD_EXPIRY_DATE DATE;
CREATE TABLE T_FA_PAYMENT_MODE_LIMIT
(
  PAYMENT_MODE_LIMIT_ID         NUMBER(10),
  CONFIG_ID                     NUMBER(10) DEFAULT 0 CONSTRAINT NN_FPML_CID NOT NULL,
  MAX_ALLOWED_LIMIT             NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FPML_MLL NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_PAYMENT_MODE_LIMIT ADD CONSTRAINT PK_FPML_PMLID PRIMARY KEY(PAYMENT_MODE_LIMIT_ID);
ALTER TABLE T_FA_PAYMENT_MODE_LIMIT ADD CONSTRAINT FK_FPML_CID_CNFD FOREIGN KEY(CONFIG_ID) REFERENCES T_CONFIG_FIXED_DATA(CONFIG_ID);

CREATE SEQUENCE FA_PAYMENT_MODE_LIMIT START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
ALTER TABLE T_AUTH_ROLE_MASTER ADD ALLOW_FORMULA_RANGE_APPROVAL NUMBER(1) DEFAULT 0;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING )
VALUES ( 610, 'REQ-FORMULA-RANGE-APPROVAL', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD ROW_STATUS NUMBER(1) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD ROW_STATUS NUMBER(1) DEFAULT 0;
CREATE GLOBAL TEMPORARY TABLE GT_FA_RATIO
(
  RATIO_NAME    VARCHAR2(150),
  RATIO_VALUE   VARCHAR2(50)
)
ON COMMIT PRESERVE ROWS
NOCACHE;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 611, 'ADD-STONE-IN-BARCODE-GEN', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 612, 'BARCODE-GEN-STONE-WT-TO-METAL-WT-CONVERSION', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 613, 'BARCODE-GEN-ITEM-GROUP-WISE-TOLLERANCE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_STOCK_BATCH_TRANS_LINK ADD METAL_VARIANT_ID NUMBER(10) DEFAULT(0);
ALTER TABLE T_STOCK_BATCH_TRANS_LINK ADD ATTRIB_ID NUMBER(10) DEFAULT(0);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 614, 'ALLOW-FETCH-RATE-WO-WT-RANGE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_REPORT_PROCESSING MODIFY  PROCESS_IND NUMBER(2);
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
615, 'PREVIEW-REPORT-FOR-ACCOUNT-RETURN', '0', NULL, 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(480, 'VALIDATE-UNIQUE-PROFILE-EMAIL-MOBILE', '3', '0 = NONE, 1 = EMAIL, 2 = MOBILE, 3 = BOTH', 0); 
COMMIT;

ALTER TABLE T_PARTY_STONE_CONVERSION_LINK ADD FROM_WT NUMBER (20,7) ;
ALTER TABLE T_PARTY_STONE_CONVERSION_LINK ADD TO_WT NUMBER (20,7) ;
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(481, 'CROSSDB-TRANS-TYPE', NULL, 'FOR EX: INV,QTO,PUR', 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
617, 'POS-REPORT-AUTO-PRINT', '1', NULL, 0); 
COMMIT;

ALTER TABLE T_POS_DAY_END ADD EOD_TIME DATE;
CREATE TABLE T_APP_COMPANY_DAY_END_CONFIG
(
  PK_ID         NUMBER(10),
  COMPANY_ID    NUMBER(10),
  APP_DATE      DATE,
  DAY_END_TIME  VARCHAR2(10)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX UNQ_COMPAPPDATE ON T_APP_COMPANY_DAY_END_CONFIG
(COMPANY_ID,APP_DATE)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

ALTER TABLE T_APP_COMPANY_DAY_END_CONFIG ADD (
  CONSTRAINT UNQ_COMPAPPDATE
  UNIQUE (COMPANY_ID,APP_DATE)
  USING INDEX UNQ_COMPAPPDATE
  ENABLE VALIDATE);



CREATE SEQUENCE APP_COMPANY_DAY_END_CONFIG
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1520 NUMBER (10)  ; 
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1520 NUMBER (20,7) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1520 NUMBER (20,7) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1753 NUMBER (10) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD WEIGHT_1753 NUMBER (20,7)  ;  
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1753 NUMBER (20,7) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1753 NUMBER (20,7) ;
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1520 NUMBER (10) ; 
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1520 NUMBER (20,7);
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1753 NUMBER (10) ; 
ALTER TABLE T_SMRY_STOCK_BOM ADD WEIGHT_1753 NUMBER (20,7) ;  
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1753 NUMBER (20,7); 
CREATE TABLE T_DAILY_TRANS_MFGR_INOUT
(
  STOCK_IN_OUT_DTL_ID  NUMBER(10),
  LOCATION_ID          NUMBER(10),
  TRANS_ID             NUMBER(10),
  STOCK_EFFECT_DATE    DATE,
  TRANS_ITEM_ID        NUMBER(10),
  STOCK_ID             NUMBER(10),
  BATCH_ID             NUMBER(10),
  VARIANT_ID           NUMBER(10),
  WC_ID                NUMBER(10),
  WCGROUP_ID           NUMBER(10),
  PARTY_ID             NUMBER(10),
  QUANTITY             NUMBER(20,7),
  CONVERSION_FACTOR    NUMBER(20,7),
  STOCK_VALUE          NUMBER(20,7),
  LABOUR_VALUE         NUMBER(20,7),
  ROW_IDENTITY         VARCHAR2(5 BYTE)
)
TABLESPACE SEA_TB_REPORTS
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX INDX_DTM_INOUT ON T_DAILY_TRANS_MFGR_INOUT
(STOCK_IN_OUT_DTL_ID)
LOGGING
TABLESPACE SEA_TB_REPORTS
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD (
  CONSTRAINT UNQ_DTM_INOUT
  UNIQUE (STOCK_IN_OUT_DTL_ID)
  USING INDEX INDX_DTM_INOUT
  ENABLE VALIDATE);

CREATE TABLE T_DAILY_UPDATE_MFGR_INOUT
(
  TRANS_ID    NUMBER(10),
  ROW_STATUS  NUMBER(1)
)
TABLESPACE SEA_TB_MISC
NOLOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX UNQ_DUMFGR_INOUT ON T_DAILY_UPDATE_MFGR_INOUT
(TRANS_ID)
LOGGING
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_DAILY_UPDATE_MFGR_INOUT ADD (
  CONSTRAINT UNQ_DUMFGR_INOUT
  UNIQUE (TRANS_ID)
  USING INDEX UNQ_DUMFGR_INOUT
  ENABLE VALIDATE);

CREATE TABLE T_MISC_FESTIVAL_MASTER
(
  PK_ID             NUMBER(10),
  LOCATION_ID       NUMBER(10),
  FESTIVAL_NAME     VARCHAR2(100),
  DATE_FROM         DATE,
  DATE_UPTO         DATE
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

CREATE UNIQUE INDEX INDX_MFM ON T_MISC_FESTIVAL_MASTER
(LOCATION_ID, DATE_FROM, DATE_UPTO)
LOGGING
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_MISC_FESTIVAL_MASTER ADD (
  CONSTRAINT INDX_MFM
  UNIQUE (LOCATION_ID, DATE_FROM, DATE_UPTO)
  USING INDEX INDX_MFM
  ENABLE VALIDATE);
  
CREATE TABLE T_MISC_PINCODE_MASTER
(
  PINCODE        NUMBER(10),
  AREA           VARCHAR2(100),
  VILLAGE        VARCHAR2(100),
  POST_OFFICE    VARCHAR2(100),
  TALUKA         VARCHAR2(100),
  DISTRICT      VARCHAR2(100),
  CITY           VARCHAR2(100),
  STATE          VARCHAR2(100),
  COUNTRY        VARCHAR2(100)
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD ZONE_ID NUMBER(10);
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD ATTACHEMENT VARCHAR2(50);

ALTER TABLE T_MISC_ADDRESS_MASTER ADD AREA VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_MASTER ADD VILLAGE VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_MASTER ADD TALUKA VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_MASTER ADD POST_OFFICE VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_MASTER ADD DISTRICT VARCHAR2(100);


ALTER TABLE T_MISC_ADDRESS_DTL ADD AREA VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_DTL ADD VILLAGE VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_DTL ADD TALUKA VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_DTL ADD POST_OFFICE VARCHAR2(100);
ALTER TABLE T_MISC_ADDRESS_DTL ADD DISTRICT VARCHAR2(100);
CREATE SEQUENCE MISC_FESTIVAL_MASTER
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;


ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD EMPLOYEE_ID NUMBER(10) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD EMPLOYEE_ID NUMBER(10) DEFAULT 0;

ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD OPERATION_ID NUMBER(10) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD OPERATION_ID NUMBER(10) DEFAULT 0;
CREATE TABLE T_SYNC_DATA_DB2
(
    PK_ID           NUMBER(10),
    TABLE_NAME      VARCHAR2(50),
    KEY_VALUE       NUMBER(10),
    EVENT_NAME      VARCHAR2(1),
    SYNC_IND        NUMBER(1),
    ERROR_MESSAGE   VARCHAR2(2000),
    CALL_TIME       DATE
);

ALTER TABLE T_SYNC_DATA_DB2 ADD CONSTRAINT PK_SDD_PKID PRIMARY KEY(PK_ID);

CREATE SEQUENCE SYNC_DATA_DB2 START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
ALTER TABLE T_PARTY_STONE_CONVERSION_LINK ADD ITEM_ID NUMBER(10) DEFAULT 0;
CREATE UNIQUE INDEX PK_TIDEDIT ON T_TRANS_ITEM_EDIT_VALIDATE
(TRANS_ITEM_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
620, 'SHOW-SAME-KARAT-ED-PROCESS', '0', NULL, 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
621, 'POS-ATTACHMENT-URL', 'http://43.240.66.152/khimjiattachments/', NULL, 0); 
COMMIT;

CREATE TABLE T_FA_PDC_MASTER
(
    PDC_ID              NUMBER(10),
    PARTY_ID            NUMBER(10),
    BANK_NAME           VARCHAR2(150),
    BRANCH_NAME         VARCHAR2(150),
    CHEQUE_NO           VARCHAR2(10),
    CHEQUE_DATE         DATE,
    CHEQUE_AMT          NUMBER(20,7),
    SPL_DTL_ID          NUMBER(10),
    PDC_REMARK          VARCHAR2(255),
    LOCATION_ID         NUMBER(10),
    ROW_STATUS          NUMBER(1)
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_PDC_MASTER ADD CONSTRAINT PK_FPDCM_PDCID PRIMARY KEY(PDC_ID);
ALTER TABLE T_FA_PDC_MASTER ADD CONSTRAINT FK_FPDCM_PID_PM FOREIGN KEY(PARTY_ID) REFERENCES T_PARTY_MASTER(PARTY_ID);
ALTER TABLE T_FA_PDC_MASTER ADD CONSTRAINT FK_FPDCM_SDID_SPLD FOREIGN KEY(SPL_DTL_ID) REFERENCES T_SCHEME_PARTY_LINK_DTL(SPL_DTL_ID);
ALTER TABLE T_FA_PDC_MASTER ADD CONSTRAINT FK_FPDCM_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);

CREATE SEQUENCE FA_PDC_MASTER START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD CONSTRAINT NN_FWL_FT CHECK (FORMULA_TYPE IS NOT NULL);
CREATE TABLE T_EMPLOYEE_REGION_LINK
(
  PK_ID                  NUMBER(10),
  EMPLOYEE_ID            NUMBER(10),
  REGION_ID              NUMBER(10),
  LINK_DATE              DATE DEFAULT SYSDATE
);

ALTER TABLE T_EMPLOYEE_REGION_LINK ADD CONSTRAINT PK_EMPLOYEE_REGION_LINK PRIMARY KEY(PK_ID);
ALTER TABLE T_EMPLOYEE_REGION_LINK ADD CONSTRAINT FK_ERL_AEM FOREIGN KEY(EMPLOYEE_ID) REFERENCES T_AUTH_EMPLOYEE_MASTER
(EMPLOYEE_ID);
ALTER TABLE T_EMPLOYEE_REGION_LINK ADD CONSTRAINT FK_ERL_MRM FOREIGN KEY(REGION_ID) REFERENCES T_MISC_REGION_MASTER
(REGION_ID);

--DROP SEQUENCE EMPLOYEE_REGION_LINK;

CREATE SEQUENCE EMPLOYEE_REGION_LINK
START WITH 1
MAXVALUE 999999999999999999999999999
MINVALUE 1
NOCYCLE
NOCACHE
ORDER;








ALTER TABLE T_ITEM_ATTRIB_MASTER_EXTD ADD CONFIG_TAG_ID NUMBER(10) DEFAULT(0);

alter table T_STOCK_BATCH_TRANS_LINK ADD METAL_VARIANT_ID NUMBER(10) DEFAULT(0);

alter table T_STOCK_BATCH_TRANS_LINK ADD ATTRIB_ID NUMBER(10) DEFAULT(0);
CREATE TABLE T_FORMULA_FOR_GIFT_ITEM
(
  PK_ID              NUMBER(10) CONSTRAINT PK_FFGI PRIMARY KEY,
  FORMULA_TYPE       VARCHAR2(50),
  LOCATION_ID        NUMBER(10)                 DEFAULT 0,
  SCHEME_ID          NUMBER(10)                 DEFAULT 0,
  VARIANT_ID         NUMBER(10)                 DEFAULT 0,
  STOCK_CODE         VARCHAR2(100),
  ATTRIB_ID1         NUMBER(10)                 DEFAULT 0,
  ATTRIB_ID2         NUMBER(10)                 DEFAULT 0,
  ATTRIB_ID3         NUMBER(10)                 DEFAULT 0,
  ATTRIB_ID4         NUMBER(10)                 DEFAULT 0,
  ATTRIB_ID5         NUMBER(10)                 DEFAULT 0,
  STOCK_AGE          NUMBER(5)                  DEFAULT 0,
  FROM_VALUE         NUMBER(20,7)               DEFAULT 0,
  UPTO_VALUE         NUMBER(20,7)               DEFAULT 0,
  FROM_DATE          DATE,
  UPTO_DATE          DATE,
  GIFT_VARIANT_ID    NUMBER(10)                 DEFAULT 0,
  GIFT_FROM_VALUE    NUMBER(20,7)               DEFAULT 0,
  GIFT_UPTO_VALUE    NUMBER(20,7)               DEFAULT 0,
  ROW_STATUS         NUMBER(1)                  DEFAULT 1
)
TABLESPACE SEA_TB_MISC
NOLOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

CREATE SEQUENCE FORMULA_FOR_GIFT_ITEM
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES (623, 'ALLOW-CHANGE-ATTRIBUTE-IN-BARCODE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_SMRY_ITEM_VARIANT_STONE ADD PACK_CODE VARCHAR2 (50 BYTE);
ALTER TABLE T_SMRY_ITEM_VARIANT_STONE ADD PACK_VALUE VARCHAR2 (50 BYTE);
ALTER TABLE T_SMRY_ITEM_VARIANT_STONE ADD ATTRIB_ID NUMBER (10);
ALTER TABLE T_SCHEME_MASTER ADD GRACE_DAYS_FOR_INSTALLMENT NUMBER(2);
ALTER TABLE T_STOCK_BATCH_DTL DROP  CONSTRAINT GROUP_BATCH_STATUS;
ALTER TABLE T_STOCK_BATCH_TRANS_LINK ADD MAIN_BATCH_ID NUMBER(10) DEFAULT(0);
CREATE TABLE T_MAIL_SERVICE_HISTORY
(
  PK_ID           NUMBER(10),
  LOG_DATE        DATE,
  TO_ADDRESS      VARCHAR2(1200 BYTE),
  CC_ADDRESS      VARCHAR2(1200 BYTE),
  BCC_ADDRESS     VARCHAR2(1200 BYTE),
  SUBJECT         VARCHAR2(1200 BYTE),
  MAIL_BODY       VARCHAR2(4000 BYTE),
  ATTACHMENT_URL  VARCHAR2(4000 BYTE),
  SOAP_METHOD     VARCHAR2(50 BYTE),
  XML_STATUS      CLOB,
  ERROR_MESSAGE   VARCHAR2(4000 BYTE),
  STATUS          VARCHAR2(50 BYTE),
  SEND_STATUS     NUMBER(1)
);

CREATE SEQUENCE MAIL_SERVICE_HISTORY
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
ALTER TABLE T_FA_PDC_MASTER ADD FA_TRANS_BILL_ID NUMBER(10) DEFAULT 0 CONSTRAINT NN_FPDCM_FTBID NOT NULL;
ALTER TABLE T_FA_PDC_MASTER ADD CONSTRAINT FK_FPDCM_FTBID_FTBH FOREIGN KEY(FA_TRANS_BILL_ID) REFERENCES T_FA_TRANS_BILL_HDR(FA_TRANS_BILL_ID);

CREATE TABLE T_TRANS_DEFAULT_REPORT_MAPPING
(
  PK_ID                       NUMBER(10),
  REPORT_CUSTOMER_MAPPING_ID  NUMBER(10),
  TRANS_TYPE                  VARCHAR2(3),
  TRANS_SUBTYPE_ID            NUMBER(10),
  ROLE_ID                     NUMBER(10)        DEFAULT (0),
  ATTRIB_ID1                  NUMBER(10),
  MRP_IND                     NUMBER(1),
  ITEM_GROUP_ID               NUMBER(10)
)
TABLESPACE SEA_TB_MISC
NOLOGGING 
NOCOMPRESS 
NOCACHE
NOMONITORING;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 628, 'STONE-ATTRIBUTES-FOR-CERTIFICATE', '11007|11030', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
629, 'ROW-TYPE-WASTAGE', 'LOSS%', NULL, 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
630, 'ALLOW-SCAN-ADV-VOUCHER-POS-PAYMENT', '0', NULL, 0); 
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (632, 'MOB-LIST-TO-SEND-SMS-AFTER-RATE-UPDATE', NULL, 0);
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (631, 'MOB-LIST-TO-SEND-SCHEME-ENROL-SMS', NULL, 0);
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
624, 'LOAD-SET-IN-POS', '1', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
625, 'ALLOW-STUDDING-FROM-ONACCOUNT-STOCK', '1', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
627, 'LOAD-STOCK-GROUP-IN-POS', '0', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
626, 'RESERVE-STOCK-IN-ORDER(FORPOS)', '0', NULL, 0); 
COMMIT;

ALTER TABLE T_TRANS_ITEM_DTL MODIFY TRANS_REMARK VARCHAR2 (1000 Byte);
ALTER TABLE T_HIERARCHY_MASTER_DTL ADD DISC_ALLOW_APPROV_PER NUMBER(5,2);
ALTER TABLE T_HIERARCHY_MASTER_DTL ADD ALLOW_FIX_METAL_RATE NUMBER(1);
ALTER TABLE T_HIERARCHY_MASTER_DTL ADD MIN_ADV_TO_FIX_METAL_RATE NUMBER(1);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
633, 'RATE-MANDATORY-FOR-TRANSTYPE', '''INV'',''SRN'',''MSI'',''MSR'',''ILO'',''ILI'',''PRI'',''PRT'',''MPI'',''MPR'''
, NULL, 0); 
COMMIT;

ALTER TABLE T_MIGR_EXCEL_ACCOUNT_OP_BILL ADD PARTY_NAME VARCHAR2(250);
ALTER TABLE T_MIGR_EXCEL_ACCOUNT_OP_BILL ADD PARTY_ID NUMBER(10);
ALTER TABLE T_MIGR_EXCEL_ACCOUNT_OP_BILL ADD FA_TRANS_BILL_ID NUMBER(10);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(483, 'ALLOW-EXCESS-PAYMENT-IN-POS', '0', '0 = NO, 1 = YES', 0); 
COMMIT;

ALTER TABLE T_CONFIG_FORM_DTL MODIFY DEF_VALUE VARCHAR2(500);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
635, 'ESTIMATION-PRINT-REPORTID', '6835', '5219-PSI,6835-HZL', 0); 
COMMIT;
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (636, 'AUTO-TRANSFER-SCHEME-CREDIT-NOTE', '1', '5219-PSI,6835-HZL', 0);
COMMIT;

CREATE INDEX TEMP_TFD_TID ON T_TEMP_FORMULA_DTL ("TransId");
CREATE INDEX TEMP_TFD_TIBD ON T_TEMP_FORMULA_DTL ("TransItemBomId");
CREATE INDEX TEMP_TFD_TIID ON T_TEMP_FORMULA_DTL ("TransItemId");
CREATE INDEX TEMP_TFD_TIOD ON T_TEMP_FORMULA_DTL ("TransItemOperationId");
ALTER TABLE T_APP_COMPANY_MASTER MODIFY COMPANY_WEBSITE VARCHAR2(50);
ALTER TABLE T_TEMP_TRANS_ITEM_BOM_DTL ADD "Discount" NUMBER(20,7) DEFAULT(0);
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD ALLOW_LOGIN_FROM_DB2_URL NUMBER(5) DEFAULT(0);
ALTER TABLE T_TRANS_ITEM_DTL_EXTD MODIFY CERTIFICATE_NO VARCHAR2(150);
CREATE TABLE T_PROD_COSTING_EXPENSES
(
    TRANS_DTL_ID    NUMBER(10),
    TRANS_ID        NUMBER(10),
    EXPENSES_HDR    VARCHAR2(150),
    RATE            NUMBER(20,7),
    AMOUNT          NUMBER(20,7),
    ROW_STATUS      NUMBER(10)
);

ALTER TABLE T_PROD_COSTING_EXPENSES ADD ( CONSTRAINT PK_PCE_TDID PRIMARY KEY (TRANS_DTL_ID));

CREATE TABLE T_PROD_COSTING_DTL
(
    TRANS_DTL_ID    NUMBER(10),
    TRANS_ID        NUMBER(10),
    VARIANT_ID      NUMBER(10),
    VARIANT         VARCHAR2(150),
    CUT             VARCHAR2(100),
    CUT_ID          NUMBER(10),
    NET             NUMBER(20,7),
    OUT_PER         NUMBER(20,7),
    RATE            NUMBER(20,7),
    AMOUNT          NUMBER(20,7),
    ROW_STATUS      NUMBER(10),
    GRID_IND        NUMBER(10)
);

ALTER TABLE T_PROD_COSTING_DTL ADD ( CONSTRAINT PK_PCD_TDID PRIMARY KEY (TRANS_DTL_ID));


CREATE TABLE T_TEMP_PROD_COSTING_EXPENSES
(
    TRANS_DTL_ID    NUMBER(10),
    TRANS_ID        NUMBER(10),
    EXPENSES_HDR    VARCHAR2(150),
    RATE            NUMBER(20,7),
    AMOUNT          NUMBER(20,7),
    ROW_STATUS      NUMBER(10),
    GUID            VARCHAR2(1500)
);

CREATE TABLE T_TEMP_PROD_COSTING_DTL
(
    TRANS_DTL_ID    NUMBER(10),
    TRANS_ID        NUMBER(10),
    VARIANT_ID      NUMBER(10),
    VARIANT         VARCHAR2(150),
    CUT             VARCHAR2(100),
    CUT_ID          NUMBER(10),
    NET             NUMBER(20,7),
    OUT_PER         NUMBER(20,7),
    RATE            NUMBER(20,7),
    AMOUNT          NUMBER(20,7),
    ROW_STATUS      NUMBER(10),
    GRID_IND        NUMBER(10),
    GUID            VARCHAR2(1500)    
);

CREATE SEQUENCE PROD_COSTING_EXPENSES
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

CREATE SEQUENCE PROD_COSTING_DTL
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;


INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 637, 'SHOW-YESNO-MESSAGEBOX-FOR-BARCODE-TOLLERANCE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_CONFIG_TRANS_GRID_DTL_EXTD MODIFY OPERATION_RATE_CONFIG VARCHAR2(250 BYTE);
ALTER TABLE T_STOCK_LOCATION_SP MODIFY WASTAGE_PER NUMBER(10,4);
ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD(
    BIRTH_DATE DATE,    JOINING_DATE DATE,    CONFIRMATION_DATE DATE,    EMERGENCY_CONTACT_NAME VARCHAR2(250 BYTE),    EMERGENCY_CONTACT_NO   VARCHAR2(50 BYTE)
);
CREATE TABLE T_TOURIST_DTL
(
    TOURIST_DTL_ID  NUMBER(10),
    SR_NO           VARCHAR2(20 BYTE),
    VISIT_DATE      DATE,
    TOUR_COMPANY_ID NUMBER(10),
    TOURIST_COUNT   NUMBER(10),
    VOUCHER_NO      VARCHAR2(50 BYTE),
    TOUR_GUIDE_ID   NUMBER(10),
    COUNTRY_ID      NUMBER(10),
    TOUR_NO         VARCHAR2(50 BYTE),
    NUMBER_OF_PAX   NUMBER(10),
    TIME_OF_ARRIVAL VARCHAR2(50 BYTE),
    TIME_OF_DEPARTURE VARCHAR2(50 BYTE),
    VEHICLE_NO      VARCHAR2(50 BYTE),
    HANDLED_BY      NUMBER(10),
    REMARKS         VARCHAR2(250 BYTE)
);

ALTER TABLE T_TOURIST_DTL
ADD CONSTRAINT PK_TDI_TD PRIMARY KEY(TOURIST_DTL_ID);

ALTER TABLE T_TOURIST_DTL
ADD CONSTRAINT FK_TCI_PI_TD FOREIGN KEY (TOUR_COMPANY_ID) REFERENCES T_PARTY_MASTER(PARTY_ID);

ALTER TABLE T_TOURIST_DTL
ADD CONSTRAINT FK_TGI_PI_TD FOREIGN KEY (TOUR_GUIDE_ID) REFERENCES T_PARTY_MASTER(PARTY_ID);

ALTER TABLE T_TOURIST_DTL
ADD CONSTRAINT FK_CI_RI_TD FOREIGN KEY (COUNTRY_ID) REFERENCES T_MISC_REGION_MASTER(REGION_ID);

ALTER TABLE T_TOURIST_DTL
ADD CONSTRAINT FK_HBI_EI_TD FOREIGN KEY (HANDLED_BY) REFERENCES T_AUTH_EMPLOYEE_MASTER(EMPLOYEE_ID);

ALTER TABLE T_TOURIST_DTL
RENAME COLUMN HANDLED_BY TO HANDLED_BY_ID

CREATE SEQUENCE TOURIST_DTL
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

COMMIT;
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (638, 'STUD-STONE-AS-PER-ORDER-ONLY', '0', 0);
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 642, 'FTP-FOR-PROCESS-DIRECTORY', 'LOAD_FILE', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 641, 'FTP-FOR-PROCESS-PASSWORD', 'Tuhd98*^FT#0', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 640, 'FTP-FOR-PROCESS-USERNAME', 'COMMON_FTP', NULL, 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 639, 'FTP-FOR-PROCESS-URL', 'ftp://43.240.66.143:32987/', NULL, 0); 
COMMIT;
ALTER TABLE GT_FTRD ADD "PartyID" NUMBER(10);
ALTER TABLE GT_TEMP_FTRD ADD "PartyID" NUMBER(10);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING) 
VALUES(485, 'DEFAULT-ACCOUNT-ID-FOR-CUSTOMER-LIABILITY', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_MIGR_RM_API_DATA ADD CONSUMABLES_WEIGHT NUMBER(20,7);
ALTER TABLE T_MIGR_RM_API_DATA ADD UOM VARCHAR2(50);
ALTER TABLE T_MIGR_RM_API_DATA ADD UOM_ID NUMBER(10);
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD MOBILE_NO VARCHAR2(20);
ALTER TABLE T_SCHEME_PARTY_LINK_DTL ADD RECEIPT_NO VARCHAR2(100);
ALTER TABLE T_SCHEME_PARTY_LINK_DTL ADD RECEIPT_DATE VARCHAR2(100);
ALTER TABLE T_SCHEME_PARTY_LINK_DTL ADD ROW_STATUS NUMBER(1);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 643, 'SHOW-PARTY-LIST-IN-BARCODE-GEN', '0', '5001: CUSTOMER, 5004: VENDOR,  5005: JOBWORKER', 0); 
COMMIT;
ALTER TABLE T_SYNC_DATA_DB2 ADD SESSION_ID NUMBER(10);

CREATE TABLE T_TEMP_FTRH_DB2
(
  "FARecPayHdrID"    NUMBER(10)                 DEFAULT 0,
  "FATransDtlID"     NUMBER(10)                 DEFAULT 0,
  "FATransID"        NUMBER(10)                 DEFAULT 0,
  "LocationID"       NUMBER(10)                 DEFAULT 0,
  "YearID"           NUMBER(10)                 DEFAULT 0,
  "RecPayHdrCode"    VARCHAR2(20),
  "PayModeID"        NUMBER(10)                 DEFAULT 0,
  "PayMode"          VARCHAR2(30),
  "TransCurrRateID"  NUMBER(10)                 DEFAULT 0,
  "TransExRate"      NUMBER(34,16)              DEFAULT 0,
  "TransAmount"      NUMBER(20,7)               DEFAULT 0,
  "LocalAmount"      NUMBER(20,7)               DEFAULT 0,
  "DrawnOnBankID"    NUMBER(10)                 DEFAULT 0,
  "DrawnOnBank"      VARCHAR2(150),
  "DrawnOnBranchID"  NUMBER(10)                 DEFAULT 0,
  "DrawnOnBranch"    VARCHAR2(150),
  "DrawnOnParty"     VARCHAR2(75),
  "CardTypeID"       NUMBER(10)                 DEFAULT 0,
  "CardType"         VARCHAR2(50),
  "PayerAccountNo"   VARCHAR2(30),
  "InstrumentNo"     VARCHAR2(30),
  "InstrumentDate"   VARCHAR2(10),
  "IssuingParty"     VARCHAR2(50),
  "PartyID"          NUMBER(10)                 DEFAULT 0,
  "PartyName"        VARCHAR2(200)         DEFAULT NULL,
  "AcceptanceNo"     VARCHAR2(100),
  "Remarks"          VARCHAR2(100),
  "RowStatus"        NUMBER(1)                  DEFAULT 0,
  "SrNo"             NUMBER(5)                  DEFAULT 0,
  "TerminalID"       NUMBER(10)                 DEFAULT 0,
  "OldTransAmount"   NUMBER(20,7)               DEFAULT 0,
  "RecordStatus"     VARCHAR2(1),
  "AccountID"        NUMBER(10)                 DEFAULT 0,
  "RefTransID"       NUMBER(10)                 DEFAULT 0,
  "CurrencyID"       NUMBER(10)                 DEFAULT 0,
  "CurrencyCode"     VARCHAR2(50),
  "AccountType"      VARCHAR2(50),
  "IFSCCode"         VARCHAR2(20),
  "CardNumber"       VARCHAR2(50),
  "ExpiryMonth"      VARCHAR2(10),
  "ExpiryYear"       VARCHAR2(10),
  "PANNo"            VARCHAR2(20),
  "PANVerified"      NUMBER(1)                  DEFAULT 0,
  "GroupName"        VARCHAR2(100),
  "Guid"             VARCHAR2(50),
  "TransID"          NUMBER(10)
)
TABLESPACE SEA_TB_MISC;
ALTER TABLE T_FA_TRANS_DTL ADD PLACE_OF_SUPPLY VARCHAR2(100);
ALTER TABLE T_FA_TRANS_DTL ADD TDS_PERCENT NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FTD_TDSP NOT NULL;
ALTER TABLE T_FA_TRANS_DTL ADD SGST_PERCENT NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FTD_SGSTP NOT NULL;
ALTER TABLE T_FA_TRANS_DTL ADD CGST_PERCENT NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FTD_CGSTP NOT NULL;
ALTER TABLE T_FA_TRANS_DTL ADD IGST_PERCENT NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FTD_IGSTP NOT NULL;
ALTER TABLE GT_FTRH ADD "GroupName" VARCHAR2(100);
ALTER TABLE T_STOCK_BATCH_TRANS_LINK ADD ORDER_CATEGORY NUMBER(10) DEFAULT(0);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
644, 'VALIDATE-URL-LOCK', '1', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
645, 'SHOW-TRANS-STONE-TOTAL', '1', '5001: CUSTOMER, 5004: VENDOR,  5005: JOBWORKER'
, 0); 
COMMIT;


INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
646, 'MAX-PAYMENT-CASH-LIMIT', '20000', NULL, 0); 
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (647, 'DO-NOT-SHOW-BARCODE-HISTORY-IF-SOLD', '0', 0);
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 648, 'STYLE-ITEM-GROUP-FOR-TRANS', '0', '1508,4580', 0); 
COMMIT;
CREATE TABLE T_FA_PAYMENT_MODE_CONFIG
(
  PAYMENT_MODE_CONFIG_ID NUMBER(10),
  CONFIG_ID              NUMBER(10) DEFAULT 0 CONSTRAINT NN_FPMC_CID NOT NULL,
  POS_IND                NUMBER(1) DEFAULT 0 CONSTRAINT NN_FPMC_POSIND NOT NULL,
  SL_IND                 NUMBER(1) DEFAULT 0 CONSTRAINT NN_FPMC_SLIND NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_PAYMENT_MODE_CONFIG ADD CONSTRAINT PK_FPMC_PMCID PRIMARY KEY(PAYMENT_MODE_CONFIG_ID);
ALTER TABLE T_FA_PAYMENT_MODE_CONFIG ADD CONSTRAINT FK_FPMC_CID_CNFD FOREIGN KEY(CONFIG_ID) REFERENCES T_CONFIG_FIXED_DATA(CONFIG_ID);

CREATE SEQUENCE FA_PAYMENT_MODE_CONFIG START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(488, 'RESTRICT-FA-PAYMENT-MODE', '0', '0 = NO, 1 = YES', 0); 
COMMIT;

ALTER table T_MISC_API_LOG modify IP_ADDRESS  VARCHAR2(100 BYTE);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 649, 'MERGE-BOM-OF-BULK-STYLE', '0', 'Style Item Group Id 4580 - Style Wt', 0); 
COMMIT;
CREATE TABLE T_CAM_PRODUCTION
(
    CAM_PROD_ID     NUMBER(10) CONSTRAINT PK_CPID PRIMARY KEY,
    PLATFORM_NO     VARCHAR2(250 BYTE),
    CAM_DATE        DATE,
    QUANTITY        NUMBER(10),
    TOTAL_ISSUED_WT NUMBER(10,7),
    PRODUCTION_WT   NUMBER(10,7),
    LOSS_WT         NUMBER(10,7),
    REMARKS         VARCHAR2(500 BYTE)
);

CREATE SEQUENCE CAM_PRODUCTION
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

ALTER TABLE T_FA_LOCATION_ACCOUNT_MAPPING ADD OTHER_ACCOUNT_ID NUMBER(10) DEFAULT 0 CONSTRAINT NN_FLAM_OACID NOT NULL;
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAPPING ADD CONSTRAINT FK_FLAM_OACID_FAACM FOREIGN KEY(OTHER_ACCOUNT_ID) REFERENCES T_FA_ACCOUNT_MASTER(ACCOUNT_ID);
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (653, 'CONSIDER-STONE-WT-IN-METAL-WSTG-JOBWORK', '0', 0);
COMMIT;

ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD CONSTRAINT FK_SPLH_FTID_FTH FOREIGN KEY(FA_TRANS_ID) REFERENCES T_FA_TRANS_HDR(FA_TRANS_ID);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(489, 'POS-CREDIT-APPROVAL-IND', '1', '0 = NO, 1 = YES', 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 654, 'EDIT-WASTEGE-IN-BARCODE', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
655, 'OLD-METAL-ITEM-ID', '0', NULL, 0); 
COMMIT;

ALTER TABLE T_AUTH_EMPLOYEE_MASTER ADD SALARY_INSTR VARCHAR2 (250 BYTE);
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD FROM_VAL NUMBER(23,5) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD UPTO_VAL NUMBER(23,5) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD FROM_VAL NUMBER(23,5) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD UPTO_VAL NUMBER(23,5) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD TRANS_CATEGORY_LINK_ID NUMBER(10) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD TRANS_CATEGORY_LINK_ID NUMBER(10) DEFAULT 0;
CREATE TABLE T_DAILY_UPDATE_FOR_REPORTDB
(
  TRANS_ID       NUMBER(10),
  TRANS_ITEM_ID  NUMBER(10),
  ROW_STATUS     NUMBER(1)
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE TABLE T_DAILY_UPDATE_MFGR_RPTDB
(
  TRANS_ID    NUMBER(10),
  ROW_STATUS  NUMBER(1)
)
TABLESPACE SEA_TB_MISC
NOLOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

CREATE TABLE T_DAILY_UPDATE_FA
(
  FA_TRANS_ID    NUMBER(10),
  ROW_STATUS  NUMBER(1)
)
TABLESPACE SEA_TB_MISC
NOLOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

ALTER TABLE T_DAILY_UPDATE_FA ADD (
  CONSTRAINT UNQ_FA_TID
  UNIQUE (FA_TRANS_ID)
  ENABLE VALIDATE);

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD BATCH_NO VARCHAR2(50);

ALTER TABLE T_TRANS_MFG_LOSS_DTL ADD WIRE_1 NUMBER(20,7) DEFAULT(0);

ALTER TABLE T_TRANS_MFG_LOSS_DTL ADD WIRE_2 NUMBER(20,7) DEFAULT(0);

ALTER TABLE T_TRANS_MFG_LOSS_DTL ADD WIRE_3 NUMBER(20,7) DEFAULT(0);

ALTER TABLE T_TRANS_MFG_LOSS_DTL ADD WIRE_4 NUMBER(20,7) DEFAULT(0);

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
658, 'VISIBLE-COL-GROUP-MODULE', 'XXX', NULL, 0); 
COMMIT;

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD STOCK_CODE VARCHAR2(250);

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 659, 'SHOW-ORG-PCS-WT-IN-BARCODE', '0', NULL, 0); 
COMMIT;
CREATE GLOBAL TEMPORARY TABLE GT_DAILY_CASH_SHEET
(
  TRANS_ID        NUMBER(10),
  DOC_NO          VARCHAR2(50),
  PARTY_NAME      VARCHAR2(250),
  ADDRESS         VARCHAR2(250),
  MOBILE_NO       VARCHAR2(50),
  PCS             NUMBER(23,5),
  GROSS_WEIGHT    NUMBER(23,5),
  NET_WEIGHT      NUMBER(23,5),
  DIA_WT          NUMBER(23,5),
  DIA_AMT         NUMBER(23,5),
  TRANS_AMOUNT    NUMBER(23,5),
  SALE_AMT        NUMBER(23,5),
  OMP_WEIGHT      NUMBER(23,5),
  OMP_AMOUNT      NUMBER(23,5),
  STN_WEIGHT      NUMBER(23,5),
  AR_NO           VARCHAR2(100),
  ADVANCE_ADJ     NUMBER(23,5),
  CASH_AMT        NUMBER(23,5),
  CHEQUE_AMT      NUMBER(23,5),
  CC_AMT          NUMBER(23,5),
  ROUNDOFF_AMT    NUMBER(23,5),
  BAL_WEIGHT      NUMBER(23,5),
  BAL_DIA_WEIGHT  NUMBER(23,5),
  BALANCE_AMT     NUMBER(23,5),
  DUE_DATE        DATE,
  APPROVED_BY     VARCHAR2(255),
  NARRATION       VARCHAR2(255),
  GROUPING_NAME   VARCHAR2(50),
  SORT_ORDER      NUMBER(10)
)
ON COMMIT PRESERVE ROWS
NOCACHE;
ALTER TABLE T_CONFIG_TRANS_EXTD MODIFY FORM_TITLE VARCHAR2(100 BYTE);
ALTER TABLE T_CONFIG_MENU_STRUCTURE MODIFY MENU_DESC VARCHAR2(100 BYTE);
CREATE TABLE T_STOCK_BATCH_MISC_INFO
(
    BATCH_ID    NUMBER(10),
    BATCH_CREATION_DATE DATE,
    WAX_SHOOT_DATE DATE,
    STOCK_STATUS NUMBER(10) DEFAULT(0),
    BATCH_REMARKS VARCHAR2(400),
    LAST_TRANS_REMARKS VARCHAR2(400),
    MOULD_QTY   NUMBER(20,7) DEFAULT(0)
);    

ALTER TABLE T_STOCK_BATCH_MISC_INFO RENAME COLUMN STOCK_STATUS TO STOCK_STATUS_ID;

ALTER TABLE T_WORKER_OPERATION_MASTER ADD VARIANT_ID NUMBER(10);
ALTER TABLE T_WORKER_OPERATION_MASTER ADD CALC_METHOD_ID NUMBER(10);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
661, 'CASH-CREDIT-SMS-CONTACT', '9867337346,8149746756', '1508,4580,1504', 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
662, 'DISCOUNT-APPROVAL-SMS-CONTACT', '9867337346,8149746756', '1508,4580,1504', 0); 
COMMIT;

ALTER TABLE T_APP_FINANCIAL_YEAR ADD CONSTRAINT UNQ_AFY UNIQUE (LOCATION_ID,YEAR_START_DATE,YEAR_END_DATE,ROW_STATUS);
CREATE TABLE T_ORDER_STATUS
(
  TRANS_ITEM_ID     NUMBER(10),
  QUANTITY          NUMBER(20,7)                DEFAULT 0,
  CANCELLED_QTY     NUMBER(20,7)                DEFAULT 0,
  CLOSED_QTY        NUMBER(20,7)                DEFAULT 0,
  INVOICED_QTY      NUMBER(20,7)                DEFAULT 0,
  CANCELLED_REMARK  VARCHAR2(1000 BYTE),
  CLOSED_REMARK     VARCHAR2(1000 BYTE),
  INVOICED_REMARK   VARCHAR2(1000 BYTE)
);

ALTER TABLE T_ORDER_STATUS ADD (
  CONSTRAINT FK_OS_TIID_TID 
 FOREIGN KEY (TRANS_ITEM_ID) 
 REFERENCES T_TRANS_ITEM_DTL (TRANS_ITEM_ID));

ALTER TABLE T_ORDER_STATUS ADD (
  CONSTRAINT PK_OS_TIID
 PRIMARY KEY
 (TRANS_ITEM_ID));
ALTER TABLE T_DAILY_TRANS_PURCHASE_BOM ADD WASTAGE_PER NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD WASTAGE_PER NUMBER(23,5);
CREATE TABLE T_SCHEME_GRACE_DTL
(
  SCHEME_GRACE_DTL_ID   NUMBER(10),
  SCHEME_ID             NUMBER(10) DEFAULT 0 CONSTRAINT NN_SGD_SID NOT NULL,
  FROM_DAYS             NUMBER(10) DEFAULT 0 CONSTRAINT NN_SGD_FD NOT NULL,
  TO_DAYS               NUMBER(10) DEFAULT 0 CONSTRAINT NN_SGD_TD NOT NULL,
  COMM_PERCENT          NUMBER(23,5) DEFAULT 0 CONSTRAINT NN_SGD_CPER NOT NULL
)
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_SCHEME_GRACE_DTL ADD CONSTRAINT PK_SGD_SGDID PRIMARY KEY(SCHEME_GRACE_DTL_ID);
ALTER TABLE T_SCHEME_GRACE_DTL ADD CONSTRAINT FK_SGD_SCID FOREIGN KEY(SCHEME_ID) REFERENCES T_SCHEME_MASTER(SCHEME_ID);

CREATE SEQUENCE SCHEME_GRACE_DTL START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD INWARD_TRANS_ITEM_BOM_ID NUMBER(10);

ALTER TABLE T_DAILY_TRANS_SALES ADD PIECES_4538 NUMBER(10);
ALTER TABLE T_DAILY_TRANS_SALES ADD WEIGHT_4538 NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD VALUE_4538 NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD AMOUNT_4538 NUMBER(23,5);

ALTER TABLE T_DAILY_TRANS_SALES ADD PIECES_4531 NUMBER(10);
ALTER TABLE T_DAILY_TRANS_SALES ADD WEIGHT_4531 NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD VALUE_4531 NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD AMOUNT_4531 NUMBER(23,5);

ALTER TABLE T_DAILY_TRANS_SALES ADD VENDOR_ID NUMBER(10);
ALTER TABLE T_DAILY_TRANS_SALES ADD SALES_PERSON_ID NUMBER(10);


ALTER TABLE T_WORKCENTER_GROUP_MASTER
ADD EMAIL_ID VARCHAR2(500 BYTE);

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD SOR_TRANS_ITEM_BOM_ID NUMBER(10);
ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD SOR_TRANS_ITEM_ID NUMBER(10);
ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD SOR_TRANS_ID NUMBER(10);
ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD SOR_VARIANT_ID NUMBER(10);
CREATE TABLE T_MENU_REPORT_LINK
(
  PK_ID                       NUMBER(10),
  MENU_ID                     NUMBER(10) DEFAULT 0 CONSTRAINT NN_MRL_MEID NOT NULL,
  REPORT_ID                   NUMBER(10) DEFAULT 0 CONSTRAINT NN_MRL_RPID NOT NULL,
  LOAD_IND                    NUMBER(1) DEFAULT 0,
  REPORT_DASHBOARD_TYPE_ID    NUMBER(10) DEFAULT 0,
  REPORT_DASHBOARD_SUBTYPE_ID NUMBER(10) DEFAULT 0
);

CREATE SEQUENCE MENU_REPORT_LINK START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;

ALTER TABLE T_MENU_REPORT_LINK ADD CONSTRAINT PK_MRL_MRLID PRIMARY KEY(PK_ID);
ALTER TABLE T_MENU_REPORT_LINK ADD CONSTRAINT FK_MRL_MID FOREIGN KEY(MENU_ID) REFERENCES T_CONFIG_MENU_STRUCTURE(MENU_ID);
ALTER TABLE T_MENU_REPORT_LINK ADD CONSTRAINT FK_MRL_RID FOREIGN KEY(REPORT_ID) REFERENCES T_REPORT_CONFIG(REPORT_ID);

ALTER TABLE T_MENU_REPORT_LINK ADD (CONSTRAINT FK_MRL_RDID_CFD FOREIGN KEY (REPORT_DASHBOARD_TYPE_ID) REFERENCES T_CONFIG_FIXED_DATA (CONFIG_ID));
ALTER TABLE T_MENU_REPORT_LINK ADD (CONSTRAINT FK_MRL_RDSID_CFD FOREIGN KEY (REPORT_DASHBOARD_SUBTYPE_ID) REFERENCES T_CONFIG_FIXED_DATA (CONFIG_ID));



ALTER TABLE T_SCHEME_PARTY_LINK_HDR
ADD (REFERAL_PARTY_ID NUMBER(10), SCHEME_TYPE_ID NUMBER(10));

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (663, 'SHOW-METAL-FOR-SET-IN-SALARY', '0', 0);
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
664, 'DATE-FILTER-IN-ADVANCE-CATALOG', '1', NULL, 0); 
COMMIT;

ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1896 NUMBER(10);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1896 NUMBER(20,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1896 NUMBER(20,7);
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1896 NUMBER(10);
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1896 NUMBER(20,7);
CREATE TABLE T_FA_TRANS_RECPAY_ADJ
(
  FA_RECPAY_ADJ_ID      NUMBER(10),
  FA_TRANS_DTL_ID       NUMBER(10) CONSTRAINT NN_FATRPA_FTDID NOT NULL,
  FA_RECPAY_HDR_ID      NUMBER(10) CONSTRAINT NN_FATRPA_FRHID NOT NULL,
  FA_TRANS_ID           NUMBER(10) CONSTRAINT NN_FATRPA_FTID NOT NULL,
  LOCATION_ID           NUMBER(10) CONSTRAINT NN_FATRPA_LID NOT NULL,
  YEAR_ID               NUMBER(10) CONSTRAINT NN_FATRPA_YID NOT NULL,
  TRANS_CURR_RATE_ID    NUMBER(10) CONSTRAINT NN_FATRPA_TCRID NOT NULL,
  TRANS_EXCH_RATE       NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FATRPA_TER NOT NULL,
  ADJ_TRANS_AMT         NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FATRPA_RPTAMT NOT NULL,
  ADJ_LOCAL_AMT         NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FATRPA_RPLAMT NOT NULL,
  RECPAY_EXCH_RATE      NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FATRPA_RER NOT NULL,
  ROW_STATUS            NUMBER(1) DEFAULT 0 CONSTRAINT NN_FATRPA_RS NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT PK_FATRPA_RPAID PRIMARY KEY(FA_RECPAY_ADJ_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_FTDID_FTD FOREIGN KEY(FA_TRANS_DTL_ID) REFERENCES T_FA_TRANS_DTL(FA_TRANS_DTL_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_FRHID_FTRH FOREIGN KEY(FA_RECPAY_HDR_ID) REFERENCES T_FA_TRANS_RECPAY_HDR(FA_RECPAY_HDR_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_FTID_FTH FOREIGN KEY(FA_TRANS_ID) REFERENCES T_FA_TRANS_HDR(FA_TRANS_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_YID_AFY FOREIGN KEY(YEAR_ID) REFERENCES T_APP_FINANCIAL_YEAR(YEAR_ID);
ALTER TABLE T_FA_TRANS_RECPAY_ADJ ADD CONSTRAINT FK_FATRPA_TCRID_ACR FOREIGN KEY(TRANS_CURR_RATE_ID) REFERENCES T_APP_CURRENCY_RATE(CURRENCY_RATE_ID);

CREATE SEQUENCE FA_TRANS_RECPAY_ADJ START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;

CREATE TABLE T_TEMP_FTRA
(
  "FARecPayAdjID"           NUMBER(10),
  "FATransDtlID"            NUMBER(10) DEFAULT 0,
  "FARecPayHdrID"           NUMBER(10) DEFAULT 0,
  "FATransID"               NUMBER(10) DEFAULT 0,
  "LocationID"              NUMBER(10) DEFAULT 0,
  "YearID"                  NUMBER(10) DEFAULT 0,
  "TransCurrRateID"         NUMBER(10) DEFAULT 0,
  "TransExRate"             NUMBER(34,16) DEFAULT 0,
  "PayModeID"               NUMBER(10) DEFAULT 0, 
  "PayMode"                 VARCHAR2(30),
  "InvoiceNo"               VARCHAR2(50),
  "PartyName"               VARCHAR2(100),
  "InvoiceDate"             VARCHAR2(10),
  "RecPayTransAmount"       NUMBER(20,7) DEFAULT 0,
  "RecPayPaidTransAmount"   NUMBER(20,7) DEFAULT 0,
  "AdjTransAmount"          NUMBER(20,7) DEFAULT 0,
  "AdjLocalAmount"          NUMBER(20,7) DEFAULT 0,
  "RecPayExRate"            NUMBER(34,16) DEFAULT 0,
  "ForexGainLoss"           NUMBER(20,7) DEFAULT 0,
  "DrCrIndID"               NUMBER(1) DEFAULT 0,
  "AccountID"               NUMBER(10) DEFAULT 0,
  "RowStatus"               NUMBER(1) DEFAULT 0,
  "SrNo"                    NUMBER(5) DEFAULT 0,
  "RecordStatus"            VARCHAR2(1),
  "GroupName"               VARCHAR2(100),
  "Guid"                    VARCHAR2(50)
)
TABLESPACE SEA_TB_MISC;

CREATE GLOBAL TEMPORARY TABLE GT_FTRA
(
  "FARecPayAdjID"           NUMBER(10),
  "FATransDtlID"            NUMBER(10) DEFAULT 0,
  "FARecPayHdrID"           NUMBER(10) DEFAULT 0,
  "FATransID"               NUMBER(10) DEFAULT 0,
  "LocationID"              NUMBER(10) DEFAULT 0,
  "YearID"                  NUMBER(10) DEFAULT 0,
  "TransCurrRateID"         NUMBER(10) DEFAULT 0,
  "TransExRate"             NUMBER(34,16) DEFAULT 0,
  "PayModeID"               NUMBER(10) DEFAULT 0, 
  "PayMode"                 VARCHAR2(30),
  "InvoiceNo"               VARCHAR2(50),
  "PartyName"               VARCHAR2(100),
  "InvoiceDate"             VARCHAR2(10),
  "RecPayTransAmount"       NUMBER(20,7) DEFAULT 0,
  "RecPayPaidTransAmount"   NUMBER(20,7) DEFAULT 0,
  "AdjTransAmount"          NUMBER(20,7) DEFAULT 0,
  "AdjLocalAmount"          NUMBER(20,7) DEFAULT 0,
  "RecPayExRate"            NUMBER(34,16) DEFAULT 0,
  "ForexGainLoss"           NUMBER(20,7) DEFAULT 0,
  "DrCrIndID"               NUMBER(1) DEFAULT 0,
  "AccountID"               NUMBER(10) DEFAULT 0,
  "RowStatus"               NUMBER(1) DEFAULT 0,
  "SrNo"                    NUMBER(5) DEFAULT 0,
  "RecordStatus"            VARCHAR2(1)
)
ON COMMIT DELETE ROWS
NOCACHE;
ALTER TABLE GT_TID_EXTD ADD "ShippingChargesOverwrite" VARCHAR2(1);
ALTER TABLE GT_TID_EXTD ADD "ShippingCharges" NUMBER(20,7);
ALTER TABLE GT_TID_EXTD ADD "AdditionalDiscountOverwrite" VARCHAR2(1);
ALTER TABLE GT_TID_EXTD ADD "AdditionalDiscount" NUMBER(20,7);
ALTER TABLE GT_TID_EXTD ADD "AdditionalChargesOverwrite" VARCHAR2(1);
ALTER TABLE GT_TID_EXTD ADD "AdditionalCharges" NUMBER(20,7);

CREATE TABLE T_TRANS_ISS_ORD_LINKING
(
  PK_ID         NUMBER(10),
  TRANS_ID      NUMBER(10),
  SOR_TRANS_ID  NUMBER(10),
  QUANTITY      NUMBER(23,7),
  REMARKS       VARCHAR2(100 BYTE)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX PK_TIOL ON T_TRANS_ISS_ORD_LINKING
(PK_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


ALTER TABLE T_TRANS_ISS_ORD_LINKING ADD (
  CONSTRAINT NN_TIOL_Q
 CHECK (QUANTITY IS NOT NULL AND QUANTITY >0));

ALTER TABLE T_TRANS_ISS_ORD_LINKING ADD (
  CONSTRAINT PK_TIOL
 PRIMARY KEY
 (PK_ID)
    USING INDEX 
    TABLESPACE SEA_TB_MISC
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             1M
                MINEXTENTS       1
                MAXEXTENTS       2147483645
                PCTINCREASE      0
               ));


ALTER TABLE T_TRANS_ISS_ORD_LINKING ADD (
  CONSTRAINT FK_TIOL 
 FOREIGN KEY (TRANS_ID) 
 REFERENCES T_TRANS_HDR (TRANS_ID));

ALTER TABLE T_TRANS_ISS_ORD_LINKING ADD (
  CONSTRAINT FK_TIOL_SO 
 FOREIGN KEY (SOR_TRANS_ID) 
 REFERENCES T_TRANS_HDR (TRANS_ID));
 
DROP SEQUENCE TRANS_ISS_ORD_LINKING;

CREATE SEQUENCE TRANS_ISS_ORD_LINKING
  START WITH 13
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
ALTER TABLE T_SCHEME_PARTY_LINK_HDR
ADD( COLLECTION_PERSON_ID NUMBER(10), SCHEME_MANAGER_ID NUMBER(10), REMARKS VARCHAR2(250 BYTE));


ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1877 NUMBER(10);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1877 NUMBER(20,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1877 NUMBER(20,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1746 NUMBER(10);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1746 NUMBER(20,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1746 NUMBER(20,7);
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1877 NUMBER(10);
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1746 NUMBER(10);
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1877 NUMBER(20,7);
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1746 NUMBER(20,7);


ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD REQ VARCHAR2(100);
ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD REQ_LINE_ID VARCHAR2(100);
ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD B_PART VARCHAR2(100);
ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD INDENT_TYPE VARCHAR2(100);
ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD CUSTOMER_BATCH VARCHAR2(100);
CREATE TABLE T_GR_WT_TOLLERANCE
(
  PK_ID    NUMBER(10),
  FORM_WT  NUMBER(20,7)                         DEFAULT 0,
  TO_WT    NUMBER(20,7)                         DEFAULT 0,
  MIN_PER  NUMBER(20,7)                         DEFAULT 0,
  MAX_PER  NUMBER(20,7)                         DEFAULT 0
);

CREATE UNIQUE INDEX PK_GWT_PKID ON T_GR_WT_TOLLERANCE (PK_ID);

ALTER TABLE T_GR_WT_TOLLERANCE ADD CONSTRAINT PK_GWT_PKID PRIMARY KEY (PK_ID);
ALTER TABLE T_SCHEME_PARTY_LINK_DTL
ADD (GIS_TRANS_ID NUMBER(10),
    CONSTRAINT FK_GSITID_SPLD_TH FOREIGN KEY (GIS_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID));

CREATE TABLE T_SCHEME_GIFT_MAPPING
(
    SGM_ID  NUMBER(10),
    SCHEME_ID NUMBER(10),
    VARIANT_ID  NUMBER(10),
    STOCK_CODE  VARCHAR2(100 BYTE),
    APPLICABLE_INST_COUNTER NUMBER(2),
    ROW_STATUS NUMBER(1),
    CONSTRAINT PK_SGMID_SGM PRIMARY KEY (SGM_ID),
    CONSTRAINT FK_SI_SM_SGM FOREIGN KEY (SCHEME_ID) REFERENCES T_SCHEME_MASTER(SCHEME_ID),
    CONSTRAINT FK_VI_VM_SGM FOREIGN KEY (VARIANT_ID) REFERENCES T_ITEM_VARIANT_MASTER(VARIANT_ID)
);

CREATE SEQUENCE SCHEME_GIFT_MAPPING
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
  
ALTER TABLE T_SCHEME_GIFT_MAPPING
ADD CONSTRAINT UNQ_SCH_GF UNIQUE(SCHEME_ID,VARIANT_ID,ROW_STATUS);

CREATE TABLE COMPARE_MIS
(
  CLOSING_DATE  DATE,
  TYPE          CHAR(7 BYTE),
  ITEM_GROUP    VARCHAR2(100 BYTE),
  QUANTITY      NUMBER(20,7),
  STOCK_VALUE   NUMBER(20,7),
  LAB           NUMBER(20,7)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

CREATE TABLE PARTY_STOCK_MISMATCH
(
  LOCATION_ID      NUMBER(10),
  PARTY_NAME       VARCHAR2(250 BYTE),
  BASE_ITEM_GROUP  VARCHAR2(100 BYTE),
  IN_OUT           NUMBER(20,7),
  STOCK            NUMBER(20,7),
  DIFF             NUMBER(20,7)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
CREATE TABLE T_DASHBOARD_COLUMN_CONFIG
(
  DASHBOARD_COL_ID        NUMBER(10),
  DASHBOARD_ID            NUMBER(10),
  DB_COL_NAME             VARCHAR2(30 BYTE),
  DISPLAY_NAME        	  VARCHAR2(30 BYTE),
  COL_TYPE          	  VARCHAR2(10 BYTE),
  COL_USED_AS             VARCHAR2(10 BYTE),
  COL_PARAMETERS    	  VARCHAR2(1000 BYTE),
  SR_NO                   NUMBER(3)
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING
ENABLE ROW MOVEMENT;

ALTER TABLE T_DASHBOARD_COLUMN_CONFIG ADD CONSTRAINT PK_DCC PRIMARY KEY(DASHBOARD_COL_ID);

ALTER TABLE T_DASHBOARD_COLUMN_CONFIG ADD CONSTRAINT FK_DID_DCC_DC FOREIGN KEY(DASHBOARD_ID) REFERENCES T_DASHBOARD_CONFIG(DASHBOARD_ID);

ALTER TABLE T_DASHBOARD_CONFIG ADD DISPLAY_SETTINGS VARCHAR2(500);

CREATE TABLE T_DASHBOARD_USER_SETTINGS
(
  PK_ID               NUMBER(10),
  DASHBOARD_ID        NUMBER(10),
  EMPLOYEE_ID         NUMBER(10),
  ROLE_ID             NUMBER(10),
  DASHBOARD_MODE      VARCHAR2(100 BYTE),
  DASHBOARD_GROUP_ID  NUMBER(10),
  DASHBOARD_TYPE_ID   NUMBER(10),
  DISPLAY_HEADING     VARCHAR2(100 BYTE),
  DISPLAY_SETTINGS    VARCHAR2(500 BYTE),
  SR_NO               NUMBER(3)
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING
ENABLE ROW MOVEMENT;


CREATE UNIQUE INDEX PK_DUS ON T_DASHBOARD_USER_SETTINGS
(PK_ID)
LOGGING
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_DASHBOARD_USER_SETTINGS ADD (
  CONSTRAINT PK_DUS
  PRIMARY KEY
  (PK_ID)
  USING INDEX PK_DUS
  ENABLE VALIDATE);

ALTER TABLE T_DASHBOARD_USER_SETTINGS ADD (
  CONSTRAINT FK_DID_DUS_DC 
  FOREIGN KEY (DASHBOARD_ID) 
  REFERENCES T_DASHBOARD_CONFIG (DASHBOARD_ID)
  ENABLE VALIDATE);


CREATE TABLE T_DASHBOARD_USER_COLUMN_CONFIG
(
  DASHBOARD_USER_COL_ID		NUMBER(10),
  DASHBOARD_COL_ID  		NUMBER(10),
  PK_ID      				NUMBER(10),
  COL_DISPLAY_NAME      	VARCHAR2(100 BYTE),
  COL_USED_AS          		VARCHAR2(10 BYTE),
  COL_PARAMETERS    		VARCHAR2(1000 BYTE),
  SR_NO             		NUMBER(3)
)
TABLESPACE SEA_TB_MISC
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING
ENABLE ROW MOVEMENT;


CREATE UNIQUE INDEX PK_DUCC ON T_DASHBOARD_USER_COLUMN_CONFIG
(DASHBOARD_USER_COL_ID)
LOGGING
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_DASHBOARD_USER_COLUMN_CONFIG ADD (
  CONSTRAINT PK_DUCC
  PRIMARY KEY
  (DASHBOARD_USER_COL_ID)
  USING INDEX PK_DUCC
  ENABLE VALIDATE);

ALTER TABLE T_DASHBOARD_USER_COLUMN_CONFIG ADD (
  CONSTRAINT FK_DCI_DUCC_DUC 
  FOREIGN KEY (DASHBOARD_COL_ID) 
  REFERENCES T_DASHBOARD_COLUMN_CONFIG (DASHBOARD_COL_ID)
  ENABLE VALIDATE);

ALTER TABLE T_DASHBOARD_USER_COLUMN_CONFIG ADD (
  CONSTRAINT FK_PKID_DUCC_DUS 
  FOREIGN KEY (PK_ID) 
  REFERENCES T_DASHBOARD_USER_SETTINGS (PK_ID)
  ENABLE VALIDATE);

CREATE SEQUENCE DASHBOARD_USER_COLUMN_CONFIG
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

CREATE SEQUENCE DASHBOARD_USER_SETTINGS
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD (NEW_SCHEME_IND NUMBER(1));
ALTER TABLE T_FA_TRANS_BILL_HDR_EXTD ADD REF_FA_TRANS_BILL_ID NUMBER(10) DEFAULT 0 CONSTRAINT NN_FATBHE_RFTBID NOT NULL;
ALTER TABLE T_FA_TRANS_BILL_HDR_EXTD ADD CONSTRAINT FK_FATBHE_RFTBID_FTBH FOREIGN KEY(REF_FA_TRANS_BILL_ID) REFERENCES T_FA_TRANS_BILL_HDR(FA_TRANS_BILL_ID);
ALTER TABLE T_MISC_COMMON_DATA_MASTER
ADD (FROM_DATE DATE, TILL_DATE DATE);
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (667, 'HIDE_SSPL_LOGO', '0', 0);
COMMIT;

ALTER TABLE T_DAILY_TRANS_SALES ADD ITEM_AMT_PRETAX NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD ITEM_AMT_POSTTAX NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD TOTAL_DISC_AMT NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD IGST_AMT NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD CGST_AMT NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES ADD SGST_AMT NUMBER(23,5);
SET DEFINE OFF;
Insert into DNETTMPL.T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (668, 'MAINTAIN-AUDIT-INFO', '0', 0);
COMMIT;

ALTER TABLE T_DAILY_TRANS_PURCHASE MODIFY TRANS_ITEM_REMARK VARCHAR2 (1000);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
669, 'REPORT-MAPPING-CHANGEFORJJ/PJ', '1', NULL, 0); 
COMMIT;

CREATE TABLE T_TRANS_VOUCHER_INFO
(
    PK_ID                           NUMBER(10),
    DISPATCH_TRANS_ITEM_ID          NUMBER(10)  DEFAULT(0),
    SOR_TRANS_ITEM_ID               NUMBER(10)  DEFAULT(0),
    CREATION_DATE                   DATE,
    VOUCHER_NO                      VARCHAR2(150),
    EXPIRY_DATE                     DATE,
    ROW_STATUS                      NUMBER(2)  DEFAULT(0),
    EMPLOYEE_NAME                   VARCHAR2(150),
    DEPARTMENT_ID                   NUMBER(10)  DEFAULT(0),
    IS_PRINTED                      NUMBER(2)  DEFAULT(0),
    VOUCHER_DISPATCH_TRANS_ID       NUMBER(10)  DEFAULT(0),
    PRODUCT_DISPATCH_TRANS_ID      NUMBER(10)  DEFAULT(0),
    EMPLOYEE_ACCEPTED_DATE          DATE,
    EMPLOYEE_ACCEPTED_REMARKS       VARCHAR2(150),
    EMPLOYEE_ACCEPTED_FILE          VARCHAR2(150)
);

ALTER TABLE T_TRANS_VOUCHER_INFO ADD CONSTRAINT PK_VCHR_INFO PRIMARY KEY(PK_ID);
ALTER TABLE T_TRANS_VOUCHER_INFO ADD CONSTRAINT FK_VCHRINFO_DTID_TID FOREIGN KEY(DISPATCH_TRANS_ITEM_ID) REFERENCES T_TRANS_ITEM_DTL(TRANS_ITEM_ID);
ALTER TABLE T_TRANS_VOUCHER_INFO ADD CONSTRAINT FK_VCHRINFO_STID_TID FOREIGN KEY(SOR_TRANS_ITEM_ID) REFERENCES T_TRANS_ITEM_DTL(TRANS_ITEM_ID);
ALTER TABLE T_TRANS_VOUCHER_INFO ADD CONSTRAINT FK_VCHRINFO_VDID_TID FOREIGN KEY(VOUCHER_DISPATCH_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);
ALTER TABLE T_TRANS_VOUCHER_INFO ADD CONSTRAINT FK_VCHRINFO_PDID_TID FOREIGN KEY(PRODUCT_DISPATCH_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);


CREATE SEQUENCE TRANS_VOUCHER_INFO
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;



INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
671, 'LOAD MASTER OTHER THAN REPAIRING IN REPAIR', '0', NULL, 0); 
COMMIT;
CREATE TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL
(
  ACCOUNT_MAP_DTL_ID        NUMBER(10),
  REF_LOCATION_ID           NUMBER(10) DEFAULT (0) CONSTRAINT NN_FLAMD_RLID NOT NULL,
  CONFIG_ID                 NUMBER(10) DEFAULT (0) CONSTRAINT NN_FLAMD_CID NOT NULL,
  TRANS_CATEGORY_LINK_ID    NUMBER(10) DEFAULT (0) CONSTRAINT NN_FLAMD_TCLID NOT NULL,
  ACCOUNT_ID                NUMBER(10) DEFAULT (0) CONSTRAINT NN_FLAMD_AID NOT NULL,
  LOCATION_ID               NUMBER(10) DEFAULT (0) CONSTRAINT NN_FLAMD_LID NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT PK_FLAMD_AMDID PRIMARY KEY(ACCOUNT_MAP_DTL_ID);
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT FK_FLAMD_RLID_APLM FOREIGN KEY(REF_LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT FK_FLAMD_CID_CNFD FOREIGN KEY(CONFIG_ID) REFERENCES T_CONFIG_FIXED_DATA(CONFIG_ID);
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT FK_FLAMD_TCLID_CNTCL FOREIGN KEY(TRANS_CATEGORY_LINK_ID) REFERENCES T_CONFIG_TRANS_CATEGORY_LINK(TRANS_CATEGORY_LINK_ID);
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT FK_FLAMD_ACID_FAACM FOREIGN KEY(ACCOUNT_ID) REFERENCES T_FA_ACCOUNT_MASTER(ACCOUNT_ID);
ALTER TABLE T_FA_LOCATION_ACCOUNT_MAP_DTL ADD CONSTRAINT FK_FLAMD_LID_APLM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);

CREATE SEQUENCE FA_LOCATION_ACCOUNT_MAP_DTL START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
CREATE TABLE T_STOCK_BATCH_PPC_DTL
(
    PPC_DTL         NUMBER(10),
    BATCH_ID        NUMBER(10),
    SOR_TRANS_ID    NUMBER(10),
    SOR_TRANS_ITEM_ID   NUMBER(10),
    WCGROUP_ID      NUMBER(10),
    PARTY_ID        NUMBER(10),
    IN_TRANS_DATE   DATE,
    IN_TRANS_ID     NUMBER(10),
    OUT_TRANS_DATE  DATE,     
    OUT_TRANS_ID    NUMBER(10),
    TOTAL_HRS       NUMBER(20,2)    DEFAULT(0),
    OT_HRS          NUMBER(20,2)    DEFAULT(0)
);


ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD CONSTRAINT PK_SBD_PPC_DTL PRIMARY KEY(PPC_DTL);

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD CONSTRAINT FK_SBDID_SBD_SBDPPC FOREIGN KEY(BATCH_ID) REFERENCES T_STOCK_BATCH_DTL(BATCH_ID);

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD CONSTRAINT FK_INTH_TH_SBDPPC FOREIGN KEY(IN_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD CONSTRAINT FK_OUTTH_TH_SBDPPC FOREIGN KEY(OUT_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);


CREATE SEQUENCE STOCK_BATCH_PPC_DTL
  START WITH 7
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD (CONSTRAINT UNQ_PPCDTL UNIQUE (BATCH_ID, IN_TRANS_ID));

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD ROUTIG_HRS NUMBER(20,2) DEFAULT(0);

ALTER TABLE T_STOCK_BATCH_PPC_DTL ADD HOLIDAY_HRS NUMBER(20,2) DEFAULT(0);

INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(471, 'SHOW-CUSTOMER-ADD-IN-LEDGER-LOV', '0', '0 = NO, 1 = YES', 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 673, 'SHOW-CUSTOMER-WISE-VARIANTS', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_SYNC_DATA_DB2 ADD CONSTRAINT UK_1_SDD UNIQUE(TABLE_NAME,KEY_VALUE);
DELETE FROM T_APP_LOCATION_MASTER_EXTD WHERE LOCATION_ID NOT IN (SELECT LOCATION_ID FROM T_APP_LOCATION_MASTER);
COMMIT;

ALTER TABLE T_APP_LOCATION_MASTER_EXTD ADD CONSTRAINT PK_APLME_LID PRIMARY KEY(LOCATION_ID);
ALTER TABLE T_APP_LOCATION_MASTER_EXTD ADD CONSTRAINT FK_APLME_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);
ALTER TABLE T_DAILY_TRANS ADD INWARD_DOC_NO VARCHAR2(100);
ALTER TABLE T_DASHBOARD_CONFIG MODIFY DASHBOARD_MODE VARCHAR2(100);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(472, 'POPULATE-SMRY-CUSTOMER-STOCK-BAL', '0', '0 = NO, 1 = YES', 0); 
COMMIT;
ALTER TABLE T_OPERATION_ROUTING_DTL ADD WCGROUP_ID NUMBER(10) DEFAULT(0);

CREATE TABLE T_SMRY_CUSTOMER_STOCK_BALANCE
(
    PK_ID                   NUMBER(10),
    PARTY_ID                NUMBER(10),
    TRANS_ID                NUMBER(10),
    TRANS_TYPE              VARCHAR2(3 BYTE),
    TRANS_CATEGORY_LINK_ID  NUMBER(10),
    QUANTITY                NUMBER(20,7)        DEFAULT(0),
    AMOUNT                  NUMBER(20,7)        DEFAULT(0),
    RATE_CUT_QUANTITY       NUMBER(20,7)        DEFAULT(0),
    RATE_CUT_AMOUNT         NUMBER(20,7)        DEFAULT(0),
    ADJ_QUANTITY            NUMBER(20,7)        DEFAULT(0),
    ADJ_AMOUNT              NUMBER(20,7)        DEFAULT(0),
    FA_TRANS_ID             NUMBER(10),
    FA_TRANS_DTL_ID         NUMBER(10)
)
TABLESPACE SEA_TB_MISC;

CREATE TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL
(
    DTL_ID        NUMBER(10),
    BAL_ID        NUMBER(10),  
    BAL_TRANS_ID  NUMBER(10),
    TRANS_ID      NUMBER(10),
    ADJ_QUANTITY  NUMBER(20,7),
    ADJ_AMOUNT    NUMBER(20,7)
)
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BALANCE ADD CONSTRAINT PK_CS_STK_BAL PRIMARY KEY(PK_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BALANCE ADD CONSTRAINT FK_CS_STK_BAL_TID FOREIGN KEY(TRANS_ID) REFERENCES T_TRANS_HDR (TRANS_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BALANCE ADD CONSTRAINT FK_CS_STK_BAL_FATID FOREIGN KEY(FA_TRANS_ID) REFERENCES T_FA_TRANS_HDR (FA_TRANS_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BALANCE ADD CONSTRAINT FK_CS_STK_BAL_FADTLID FOREIGN KEY(FA_TRANS_DTL_ID) REFERENCES T_FA_TRANS_DTL (FA_TRANS_DTL_ID);


ALTER TABLE T_SMRY_CUSTOMER_STOCK ADD CONSTRAINT FK_CS_STK_TID FOREIGN KEY(TRANS_ID) REFERENCES T_TRANS_HDR (TRANS_ID); 


ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD CONSTRAINT PK_CS_STK_BAL_DTL PRIMARY KEY(DTL_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD CONSTRAINT FK_CS_STK_BAL_DTL_BALID FOREIGN KEY(BAL_ID) REFERENCES T_SMRY_CUSTOMER_STOCK_BALANCE (PK_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD CONSTRAINT FK_CS_STK_BAL_DTL_TID FOREIGN KEY(BAL_TRANS_ID) REFERENCES T_TRANS_HDR (TRANS_ID);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD CONSTRAINT FK_CS_STK_BAL_DTL_TTID FOREIGN KEY(TRANS_ID) REFERENCES T_TRANS_HDR (TRANS_ID);



CREATE SEQUENCE SMRY_CUSTOMER_STOCK_BALANCE
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;




CREATE SEQUENCE SMRY_CUSTOMER_STOCK_BAL_DTL
  START WITH 18
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;


ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD SESSION_ID NUMBER(10) DEFAULT(0);

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD ENTRY_DATE DATE;

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD DELETE_IND    NUMBER(1) DEFAULT(0);


INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
677, 'MANUAL-GROUP-NAME', '0', NULL, 0); 
COMMIT;


ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD ORG_METAL_RATE NUMBER(23,5);
ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD APPLIED_METAL_RATE NUMBER(23,5);

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 679, 'STOCK-REMARK-MANDETORY-IN-BARCODE-GEN', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_OPERATION_ROUTING_DTL DROP  CONSTRAINT UNQ_ORD_VAR_OPN;

DROP INDEX UNQ_ORD_VAR_OPN;

ALTER TABLE T_MISC_ADDRESS_MASTER ADD WCGROUP_ID NUMBER (10) DEFAULT 0 ;  
ALTER TABLE T_MISC_ADDRESS_MASTER ADD (
  CONSTRAINT FK_MIADM_WCG_ID 
 FOREIGN KEY (WCGROUP_ID) 
 REFERENCES T_WORKCENTER_GROUP_MASTER (WCGROUP_ID));
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 681, 'CLOSE-EMPTY-BATCH-AFTER-BARCODE-GEN', '0', NULL, 0); 
COMMIT;

ALTER TABLE T_DASHBOARD_CONFIG MODIFY DASHBOARD_MODE	VARCHAR2(50);
ALTER TABLE T_DASHBOARD_USER_SETTINGS MODIFY DASHBOARD_MODE	VARCHAR2(50);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
683, 'PAYMENT-GET-APPROVAL-POS', '1', NULL, 0); 
COMMIT;

ALTER TABLE T_TRANS_VOUCHER_INFO
ADD ( 
    IDENTITY_TYPE   NUMBER(10),
    CONSTRAINT FK_IT_CFD_CI
    FOREIGN KEY(IDENTITY_TYPE)
    REFERENCES T_CONFIG_FIXED_DATA(CONFIG_ID)
);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
684, 'SHOW-PRINT-BUTTON-IN-GRID', '1', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
682, 'DISPLAY-ADDITIONAL-BUTTONS-POS', '1', NULL, 0); 
COMMIT;


INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
685, 'GENERATE-METAL-LEDGER', '0', NULL, 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
686, 'ADD-WASTAGE-FINE-RTN-METAL-LEDGER', '1', '0 = ADD AS PER ANSW, 1 AS AS PER GRN'
, 0); 
COMMIT;


INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
687, 'MERGE-STOCK-ON-AC-STOCK', '0', '0 = ADD AS PER ANSW, 1 AS AS PER GRN', 0); 
COMMIT;

DROP TABLE T_GENERATE_METAL_LEDGER;

CREATE TABLE T_GENERATE_METAL_LEDGER
(
  SESSION_ID      NUMBER(10),
  DATA_MODE       VARCHAR2(10 BYTE),
  TYPE            VARCHAR2(10 BYTE),
  TRANS_ITEM_ID   NUMBER(10),
  PARTY_TYPE_ID   NUMBER(10),
  PARTY_ID        NUMBER(10),
  PARTY_NAME      VARCHAR2(250 BYTE),
  ENTRY_TYPE      CHAR(5 BYTE),
  TRANS_TYPE      VARCHAR2(3 BYTE),
  SUBTYPE         VARCHAR2(100 BYTE),
  TRANS_ID        NUMBER(10),
  DOC_NO          VARCHAR2(50 BYTE),
  TRANS_DATE      DATE ,
  STYLE_VARIANT   VARCHAR2(100 BYTE),
  METAL_VARIANT   VARCHAR2(100 BYTE),
  FINENESS        NUMBER(20,7),
  QUANTITY        NUMBER(20,7),
  PG_WEIGHT       NUMBER(20,7),
  WASTAGE         NUMBER(20,7),
  WASTAGE_PG      NUMBER(20,7),
  TOTAL_PG        NUMBER(20,7),
  TRANS_AMOUNT    NUMBER(20,7),
  TRANS_CATEGORY  VARCHAR2(100 BYTE),
  LOCK_DATE       DATE,
  GROSS_WT        NUMBER(20,7),
  DIA_WT          NUMBER(20,7),
  CLS_WT          NUMBER(20,7),
  REMARK          VARCHAR2(500 BYTE),
  TRANS_REMARK    VARCHAR2(500 BYTE),
  ROW_IDENTITY    NUMBER(5),
  AMOUNT_1004     NUMBER(20,7),
  AMOUNT_1504     NUMBER(20,7),
  AMOUNT_1005     NUMBER(20,7),
  LABOUR_AMOUNT   NUMBER(20,7)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT drop constraint UNQ_DTM_INOUT;

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD (
  CONSTRAINT UNQ_DTM_INOUT
  UNIQUE (STOCK_IN_OUT_DTL_ID,TRANS_ITEM_ID)
  ENABLE VALIDATE);
CREATE TABLE T_MIGR_RM_API_DATA
(
  SR_NO                  NUMBER(10),
  ITEM_GROUP             VARCHAR2(50 BYTE),
  ITEM_NAME              VARCHAR2(100 BYTE),
  ITEM_DESC              VARCHAR2(100 BYTE),
  ATTR_11004_ID          NUMBER(10),
  ATTR_11007_ID          NUMBER(10),
  ATTR_11008_ID          NUMBER(10),
  ATTR_11010_ID          NUMBER(10),
  ATTR_11019_ID          NUMBER(10),
  ATTR_11030_ID          NUMBER(10),
  ATTR_11496_ID          NUMBER(10),
  ATTR_11005_ID          NUMBER(10),
  ATTR_11006_ID          NUMBER(10),
  ATTR_11012_ID          NUMBER(10),
  ATTR_11197_ID          NUMBER(10),
  ATTR_11371_ID          NUMBER(10),
  CUSTOMER_VARIANT_NAME  VARCHAR2(50 BYTE),
  STD_SELLING_RATE       NUMBER(25,7),
  STD_BUYING_RATE        NUMBER(25,7),
  REORDER_MIN_QTY        NUMBER(25,7),
  USED_AS_BOM            VARCHAR2(1 BYTE),
  CAN_RETURN_IN_MELTING  NUMBER(1),
  MIX_VARIANT            NUMBER(10),
  VENDOR_ID              NUMBER(10),
  ERROR_LOG              VARCHAR2(2000 BYTE),
  ITEM_TYPE_ID           NUMBER(10),
  ITEM_STOCK_UOM         VARCHAR2(30 BYTE),
  AVG_WT                 NUMBER(25,7),
  ITEM_NATURE_ID         NUMBER(10),
  VARIANT_ID             NUMBER(10),
  ITEM_CONFIG_ID         NUMBER(10),
  ITEM_ID                NUMBER(10),
  CODE_GEN_REQ           NUMBER(1),
  BASE_VARIANT_ID        NUMBER(10),
  CONSUMABLES_WEIGHT     NUMBER(20,7),
  UOM                    VARCHAR2(50 BYTE),
  UOM_ID                 NUMBER(10)
);

CREATE TABLE T_MIGR_BOM_API_DATA
(
  SR_NO                  NUMBER(10),
  ROW_NO                 NUMBER(10),
  ITEM_GROUP             VARCHAR2(50 BYTE),
  ITEM_NAME              VARCHAR2(100 BYTE),
  VARIANT_NAME           VARCHAR2(100 BYTE),
  VARIANT_REMARK         VARCHAR2(100 BYTE),
  IMAGE_FILE_NAME        VARCHAR2(200 BYTE),
  ATTR_11001_ID          NUMBER(10),
  ATTR_11002_ID          NUMBER(10),
  ATTR_11003_ID          NUMBER(10),
  ATTR_11010_ID          NUMBER(10),
  ATTR_11011_ID          NUMBER(10),
  ATTR_11033_ID          NUMBER(10),
  ATTR_11073_ID          NUMBER(10),
  ATTR_11077_ID          NUMBER(10),
  ATTR_11108_ID          NUMBER(10),
  ATTR_11116_ID          NUMBER(10),
  ATTR_11149_ID          NUMBER(10),
  ATTR_11163_ID          NUMBER(10),
  ATTR_11168_ID          NUMBER(10),
  ATTR_11192_ID          NUMBER(10),
  ATTR_11193_ID          NUMBER(10),
  ATTR_11201_ID          NUMBER(10),
  ATTR_11322_ID          NUMBER(10),
  ATTR_11351_ID          NUMBER(10),
  ATTR_11353_ID          NUMBER(10),
  ATTR_11355_ID          NUMBER(10),
  ATTR_11356_ID          NUMBER(10),
  ATTR_11384_ID          NUMBER(10),
  ATTR_11393_ID          NUMBER(10),
  ATTR_11470_ID          NUMBER(10),
  ATTR_11496_ID          NUMBER(10),
  BOM_STONE_SETTING      VARCHAR2(50 BYTE),
  BOM_STONE_SET_TYPE     VARCHAR2(50 BYTE),
  SPECIAL_CHARACTER      VARCHAR2(5 BYTE),
  PIECES                 NUMBER(10),
  WEIGHT                 NUMBER(20,7),
  ERROR_LOG              VARCHAR2(2000 BYTE),
  ITEM_TYPE_ID           NUMBER(10),
  ITEM_STOCK_UOM         VARCHAR2(30 BYTE),
  ITEM_NATURE_ID         NUMBER(10),
  ITEM_CONFIG_ID         NUMBER(10),
  MAIN_VARIANT_ID        VARCHAR2(10 BYTE),
  PARENT_VARIANT_ID      VARCHAR2(10 BYTE),
  BOM_LEVEL              VARCHAR2(3 BYTE),
  BOM_SET_NO             VARCHAR2(6 BYTE),
  PARENT_SET_NO          VARCHAR2(6 BYTE),
  BOM_DTL_ID             NUMBER(10),
  VARIANT_ID             NUMBER(10),
  ITEM_ID                NUMBER(10),
  OLD_VARIANT_ID         NUMBER(10),
  STONE_MAX_WT           NUMBER(20,7),
  VENDOR_ID              NUMBER(10),
  OLD_VARIANT_NAME       VARCHAR2(50 BYTE),
  VENDOR_VARIANT_NAME    VARCHAR2(50 BYTE),
  CUSTOMER_VARIANT_NAME  VARCHAR2(50 BYTE),
  LIVE_IND               NUMBER(1),
  FOR_WEB_IND            NUMBER(1),
  VARIANT_REMARK1        VARCHAR2(750 BYTE),
  REORDER_MIN_QTY        NUMBER(25,7),
  REORDER_MAX_QTY        NUMBER(25,7),
  DELIVERY_DAYS          NUMBER(10),
  MISC_INFO              VARCHAR2(500 BYTE),
  ADD_FLD1               VARCHAR2(100 BYTE),
  VARIANT_REMARK2        VARCHAR2(750 BYTE),
  VARIANT_REMARK3        VARCHAR2(750 BYTE),
  MIN_WT                 NUMBER(25,7),
  MAX_WT                 NUMBER(25,7),
  HEIGHT                 VARCHAR2(15 BYTE),
  WIDTH                  VARCHAR2(15 BYTE),
  SHIPPING_DAYS          NUMBER(10),
  ADD_FLD2               VARCHAR2(750 BYTE),
  LONG_INFO              VARCHAR2(1000 BYTE),
  BASE_VARIANT_ID        NUMBER(10),
  STYLE_OPERATION_ID     NUMBER(10),
  BOM_STONE_SETTING_ID   NUMBER(10),
  BOM_STONE_SET_TYPE_ID  NUMBER(10),
  NET_WT                 NUMBER(20,7),
  ITEM_CODE_GEN_REQ      NUMBER(1),
  CODE_GEN_REQ           NUMBER(1),
  NEW_COMP_ROW           NUMBER(1),
  COMP_BOM_DTL_ID        NUMBER(10),
  ROW_STATUS             VARCHAR2(5 BYTE),
  CUSTOMER_ID            NUMBER(10),
  ITEM_DESC              VARCHAR2(100 BYTE)
);

CREATE TABLE T_ITEM_CREATION_LOG
(
  SR_NO         NUMBER(10),
  CALLMODE      VARCHAR2(5 BYTE),
  FILE_POINTER  VARCHAR2(100 BYTE),
  STATUS        VARCHAR2(2000 BYTE),
  LOG_TIME      DATE
);

DROP TABLE GT_DAILY_CASH_SHEET;

CREATE TABLE GT_DAILY_CASH_SHEET
(
  TRANS_ID        NUMBER(10),
  DOC_NO          VARCHAR2(50),
  PARTY_NAME      VARCHAR2(250),
  ADDRESS         VARCHAR2(250),
  MOBILE_NO       VARCHAR2(50),
  PCS             NUMBER(23,5),
  GROSS_WEIGHT    NUMBER(23,5),
  NET_WEIGHT      NUMBER(23,5),
  DIA_WT          NUMBER(23,5),
  DIA_AMT         NUMBER(23,5),
  TRANS_AMOUNT    NUMBER(23,5),
  SALE_AMT        NUMBER(23,5),
  OMP_WEIGHT      NUMBER(23,5),
  OMP_AMOUNT      NUMBER(23,5),
  STN_WEIGHT      NUMBER(23,5),
  AR_NO           VARCHAR2(100),
  ADVANCE_ADJ     NUMBER(23,5),
  CASH_AMT        NUMBER(23,5),
  CHEQUE_AMT      NUMBER(23,5),
  CC_AMT          NUMBER(23,5),
  ROUNDOFF_AMT    NUMBER(23,5),
  BAL_WEIGHT      NUMBER(23,5),
  BAL_DIA_WEIGHT  NUMBER(23,5),
  BALANCE_AMT     NUMBER(23,5),
  DUE_DATE        DATE,
  APPROVED_BY     VARCHAR2(255),
  NARRATION       VARCHAR2(255),
  GROUPING_NAME   VARCHAR2(50),
  SORT_ORDER      NUMBER(10),
  SESSION_ID      NUMBER(10)
);
CREATE TABLE T_ITEM_N_STYLE_LINK 
(
PK_ID           NUMBER(10), 
ITEM_ID         NUMBER(10),
VARIANT_ID      NUMBER(10),
QUANTITY        NUMBER(25,7) DEFAULT 0 ,
ROW_STATUS      NUMBER(1) DEFAULT 0 ,
VARIANT_REMARK      VARCHAR2(750 BYTE)  
);
  
ALTER TABLE T_ITEM_N_STYLE_LINK  ADD (
  CONSTRAINT FK_INSL_IID_IM 
 FOREIGN KEY (ITEM_ID) 
 REFERENCES T_ITEM_MASTER (ITEM_ID));
 
 
ALTER TABLE T_ITEM_N_STYLE_LINK  ADD (
  CONSTRAINT FK_INSL_IID_VM 
 FOREIGN KEY (VARIANT_ID) 
 REFERENCES T_ITEM_VARIANT_MASTER (VARIANT_ID));
 
 
CREATE UNIQUE INDEX UNQ_INSL_1 ON t_ITEM_N_STYLE_LINK
(ITEM_ID, VARIANT_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;


DROP SEQUENCE ITEM_N_STYLE_LINK;

CREATE SEQUENCE ITEM_N_STYLE_LINK
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;


ALTER TABLE T_MIGR_BOM_API_DATA ADD ATTR_11542_ID NUMBER(10);
CREATE TABLE T_PARTY_RESERVATION_MAPPING
(
    PK_ID           NUMBER(10),
    PARTY_ID        NUMBER(10) DEFAULT 0,
    VARIANT_ID      NUMBER(10) DEFAULT 0,
    WCGROUP_ID      NUMBER(10) DEFAULT 0,
    PHYSICAL_STOCK  VARCHAR2(5),
    VIRTUAL_STOCK   VARCHAR2(5),
    TIME_FRAME      NUMBER(10) DEFAULT 0
);

CREATE UNIQUE INDEX PK_PRM_PKID ON T_PARTY_RESERVATION_MAPPING (PK_ID);

ALTER TABLE T_PARTY_RESERVATION_MAPPING ADD (CONSTRAINT PK_PRM_PKID PRIMARY KEY (PK_ID) USING INDEX);

ALTER TABLE T_PARTY_RESERVATION_MAPPING ADD (CONSTRAINT FK_PRM_PID FOREIGN KEY (PARTY_ID) REFERENCES T_PARTY_MASTER (PARTY_ID));

ALTER TABLE T_PARTY_RESERVATION_MAPPING ADD (CONSTRAINT FK_PRM_VID FOREIGN KEY (VARIANT_ID) REFERENCES T_ITEM_VARIANT_MASTER (VARIANT_ID)); 

ALTER TABLE T_PARTY_RESERVATION_MAPPING ADD (CONSTRAINT FK_PRM_WCGID FOREIGN KEY (WCGROUP_ID) REFERENCES T_WORKCENTER_GROUP_MASTER (WCGROUP_ID)); 

CREATE SEQUENCE PARTY_RESERVATION_MAPPING
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;


alter table T_TEMP_TRANS_ITEM_DTL add "AddNum5B" number(1) ;
alter table T_TEMP_TRANS_ITEM_DTL add "AddNum6B" number(1) ;
alter table T_TEMP_TRANS_ITEM_DTL add "AddFld1B" number(1) ;
alter table T_TEMP_TRANS_ITEM_DTL add "AddFld2B" number(1) ;
alter table T_TEMP_TRANS_ITEM_DTL add "AddFld3B" number(1) ;
ALTER TABLE T_TRANS_ITEM_DTL MODIFY TRANS_REMARK VARCHAR2 (1500);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
695, 'LOCAL-FILE-PATH', 'C:\', 'FOR DEBUG MODE', 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
694, 'SAVE-PATH-FTP-PASSWORD', NULL, 'FOR DEBUG MODE', 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
693, 'SAVE-PATH-FTP-USERNAME', NULL, 'FOR DEBUG MODE', 0); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
692, 'SAVE-PATH-FTP-URL', NULL, 'FOR DEBUG MODE', 0); 
COMMIT;

DROP TABLE GT_DAILY_CASH_SHEET;

CREATE TABLE GT_DAILY_CASH_SHEET
(
  TRANS_ID        NUMBER(10),
  DOC_NO          VARCHAR2(50),
  PARTY_NAME      VARCHAR2(250),
  ADDRESS         VARCHAR2(250),
  MOBILE_NO       VARCHAR2(50),
  PCS             NUMBER(23,5),
  GROSS_WEIGHT    NUMBER(23,5),
  NET_WEIGHT      NUMBER(23,5),
  DIA_WT          NUMBER(23,5),
  DIA_AMT         NUMBER(23,5),
  TRANS_AMOUNT    NUMBER(23,5),
  SALE_AMT        NUMBER(23,5),
  OMP_WEIGHT      NUMBER(23,5),
  OMP_AMOUNT      NUMBER(23,5),
  STN_WEIGHT      NUMBER(23,5),
  CS_WEIGHT       NUMBER(23,5),
  AR_NO           VARCHAR2(100),
  ADVANCE_ADJ     NUMBER(23,5),
  CASH_AMT        NUMBER(23,5),
  CHEQUE_AMT      NUMBER(23,5),
  CC_AMT          NUMBER(23,5),
  ROUNDOFF_AMT    NUMBER(23,5),
  BAL_WEIGHT      NUMBER(23,5),
  BAL_DIA_WEIGHT  NUMBER(23,5),
  BALANCE_AMT     NUMBER(23,5),
  DUE_DATE        DATE,
  APPROVED_BY     VARCHAR2(255),
  NARRATION       VARCHAR2(255),
  GROUPING_NAME   VARCHAR2(50),
  SORT_ORDER      NUMBER(10),
  SESSION_ID      NUMBER(10)  
)
TABLESPACE SEA_TB_MISC;
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (696, 'ASSORT-STOCK-AS-PER-ORD-IN-BUN', '1', 0);
COMMIT;

ALTER TABLE T_ITEM_N_STYLE_LINK ADD RE_ORDER_LEVEL NUMBER(1) DEFAULT 0;
ALTER TABLE T_REPORT_SCHEDULER_DTL MODIFY EMAIL_TO VARCHAR2(1000 BYTE);
ALTER TABLE T_FA_TRANS_HDR MODIFY NARRATION VARCHAR2(500);
ALTER TABLE T_FA_TRANS_SMRY MODIFY NARRATION VARCHAR2(500);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(473, 'ALLOW-CROSS-COMPANY-BILL-ADJUSTMENT', '1', '0 = NO, 1 = YES', 0); 
COMMIT;

ALTER TABLE T_STOCK_BATCH_MISC_INFO ADD GR_WEIGHT NUMBER(20,7) DEFAULT(0);
CREATE UNIQUE INDEX UNQ_ISL ON T_ITEM_N_STYLE_LINK
(ITEM_ID);
ALTER TABLE GT_FA_LEDGER_REPORT MODIFY NARRATION VARCHAR2(500 BYTE);
ALTER TABLE T_INVOICE_API_LOG ADD KNOCKOFF_DATA CLOB;
CREATE TABLE T_MISC_NOTE_MASTER 
(PK_ID          NUMBER(10),
 REPORT_ID      NUMBER(10),
 DESCRIPTION    VARCHAR2(50 BYTE),
 NOTE1          VARCHAR2(1000 BYTE),
 NOTE2          VARCHAR2(1000 BYTE),
 NOTE3          VARCHAR2(1000 BYTE),
 NOTE4          VARCHAR2(1000 BYTE),
 NOTE5          VARCHAR2(1000 BYTE),
 NOTE6          VARCHAR2(1000 BYTE),
 NOTE7          VARCHAR2(1000 BYTE),
 ROW_STATUS     NUMBER(1) DEFAULT 1 CONSTRAINT NN_MNM NOT NULL
);
ALTER TABLE T_MISC_NOTE_MASTER ADD (CONSTRAINT PK_MNM_ID PRIMARY KEY (PK_ID) );
ALTER TABLE T_MISC_NOTE_MASTER ADD (
  CONSTRAINT FK_MNM_RID_RCID 
 FOREIGN KEY (REPORT_ID) 
 REFERENCES T_REPORT_CONFIG (REPORT_ID));
DROP SEQUENCE MISC_NOTE_MASTER;
CREATE SEQUENCE MISC_NOTE_MASTER
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

CREATE UNIQUE INDEX UNQ_RPT_NM ON T_MISC_NOTE_MASTER (REPORT_ID);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,CAN_CHANGE_SETTING ) 
VALUES ( 701, 'LOAD-BATCH-IN-BARCODE-IF-PMC-DONE', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_MISC_ADDRESS_MASTER
ADD (PAN_NO VARCHAR2(50 BYTE), GST_NO VARCHAR2(50 BYTE));
CREATE TABLE T_MAIL_TEMPLATE
(
  EMAIL_TEMPLATE_ID       NUMBER(10) CONSTRAINT PK_ETID_ET PRIMARY KEY,
  EMAIL_TYPE              VARCHAR2(10 BYTE) NOT NULL,
  TRANS_TYPE              VARCHAR2(50 BYTE),
  TRANS_SUBTYPE_ID        NUMBER(10),
  TRANS_CATEGORY_LINK_ID  NUMBER(10),
  TO_EMAIL                VARCHAR2(250 BYTE) NOT NULL,
  TO_CCEMAIL              VARCHAR2(250 BYTE),
  TO_BCCEMAIL             VARCHAR2(250 BYTE),
  EMAIL_SUBJECT           VARCHAR2(250 BYTE) NOT NULL,
  EMAIL_BODY              VARCHAR2(250 BYTE) NOT NULL,
  REMARKS                 VARCHAR2(500 BYTE)
);
ALTER TABLE T_APP_COMPANY_MASTER ADD BANK_BRANCH_ID NUMBER(10) DEFAULT(0);
ALTER TABLE T_APP_COMPANY_MASTER ADD (CONSTRAINT FK_CP_BBID FOREIGN KEY (BANK_BRANCH_ID) REFERENCES T_FA_BANK_BRANCH_MASTER (BRANCH_ID));
ALTER TABLE GT_TID_EXTD ADD "StockBomID" NUMBER(10);
ALTER TABLE GT_TID_EXTD ADD "BOMVariantID" NUMBER(10);
ALTER TABLE GT_TID_EXTD ADD "Pieces" NUMBER(10);
ALTER TABLE GT_TID_EXTD ADD "StockRate" NUMBER(20,7);
ALTER TABLE GT_TID_EXTD ADD "PStockBomID" NUMBER(10);
ALTER TABLE T_TRANS_VOUCHER_INFO
ADD IDENTITY_DETAIL VARCHAR2(250 BYTE);

ALTER TABLE T_TRANS_VOUCHER_INFO
MODIFY IDENTITY_TYPE NUMBER(10) DEFAULT (0) NOT NULL;

ALTER TABLE T_MISC_API_LOG ADD ADDN_DATA CLOB;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
706, 'ORDER-INVOICE-VARIANT-MISMATCH', '1', NULL, 0); 
COMMIT;
CREATE TABLE T_FA_EXPENSE_TDS_MAPPING
(
  EXP_TDS_MAPPING_ID    NUMBER(10),
  EXP_ACCOUNT_ID        NUMBER(10) DEFAULT 0 CONSTRAINT NN_FETM_ETMID NOT NULL,
  TDS_PERCENT           NUMBER(20,7) DEFAULT 0 CONSTRAINT NN_FETM_TPER NOT NULL,
  TDS_ACCOUNT_ID        NUMBER(10) DEFAULT 0 CONSTRAINT NN_FETM_TAID NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_EXPENSE_TDS_MAPPING ADD CONSTRAINT PK_FETM_ETMID PRIMARY KEY(EXP_TDS_MAPPING_ID);
ALTER TABLE T_FA_EXPENSE_TDS_MAPPING ADD CONSTRAINT FK_FETM_EAID_FAACM FOREIGN KEY(EXP_ACCOUNT_ID) REFERENCES T_FA_ACCOUNT_MASTER(ACCOUNT_ID);
ALTER TABLE T_FA_EXPENSE_TDS_MAPPING ADD CONSTRAINT FK_FETM_TAID_FAACM FOREIGN KEY(TDS_ACCOUNT_ID) REFERENCES T_FA_ACCOUNT_MASTER(ACCOUNT_ID);

CREATE SEQUENCE FA_EXPENSE_TDS_MAPPING START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,CAN_CHANGE_SETTING ) 
VALUES ( 707, 'SRC-DEST-STONE-WT-EQUAL-IN-BARCODE', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(474, 'FA-FORMULA-ACCOUNT-RANGE-IND', '0', '0 = FORMULA RANGE, 1 = EXPENSE TDS MAPPING', 0); 
COMMIT;

CREATE TABLE T_DAILY_UPDATE_STOCK
(
  STOCK_ID    NUMBER(10),
  ROW_STATUS  NUMBER(1)
)
TABLESPACE SEA_TB_STOCK
NOLOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


ALTER TABLE T_DAILY_UPDATE_STOCK ADD CONSTRAINT UNQ_DUS_1 UNIQUE(STOCK_ID,ROW_STATUS);

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (709, 'SYNC-STOCK-REPORTDB', '0', 0);
COMMIT;

CREATE TABLE T_TEMP_TRANS_HISTORY (
	GUID				VARCHAR2(100),
	EXEC_DATE			DATE,
	COLUMN_INFO			VARCHAR2(50),
	TRANS_ID			NUMBER(10),
	TRANS_ITEM_ID		NUMBER(10),
	TRANS_ITEM_BOM_ID	NUMBER(10),
	BATCH_ID			NUMBER(10),
	VARIANT_ID			NUMBER(10),
	STOCK_CODE			VARCHAR2(100),
	ROW_STATUS			NUMBER(1),
	CREATED_SESSION_ID	NUMBER(10),
	MODIFIED_SESSION_ID	NUMBER(10),
	PARTY_ID			NUMBER(10),
	TRANS_TYPE			VARCHAR2(5),
	TRANS_SUBTYPE		VARCHAR2(100),
	DOC_NO				VARCHAR2(100),
	TRANS_DATE			DATE,
	YEAR_CODE			VARCHAR2(50),
	OPERATION_NAME		VARCHAR2(255),
	SRC_LOCATION_NAME	VARCHAR2(255),
	DEST_LOCATION_NAME	VARCHAR2(255),
	PARTY_NAME			VARCHAR2(255),
	VENDOR_NAME			VARCHAR2(255),
	SRC_WC_NAME			VARCHAR2(255),
	SRC_WCGROUP_NAME	VARCHAR2(255),
	DEST_WC_NAME		VARCHAR2(255),
	DEST_WCGROUP_NAME	VARCHAR2(255),
	CREATED_USER		VARCHAR2(100),
	CREATED_ROLE		VARCHAR2(100),
	CREATION_DATE		DATE,
	CREATED_FROM		VARCHAR2(255),
	LAST_MODIFIED_USER	VARCHAR2(100),
	LAST_MODIFIED_FROM	VARCHAR2(100),
	BATCH_NO			VARCHAR2(100),
	ITEM_TYPE			VARCHAR2(100),
	ITEM_GROUP			VARCHAR2(100),
	ITEM_NAME			VARCHAR2(100),
	VARIANT_NAME		VARCHAR2(100),
	LINE_NO				VARCHAR2(50),
	ATTRIB_TYPE			VARCHAR2(100),
	ATTRIB_DESC			VARCHAR2(255),
	KARAT_COLOR			VARCHAR2(100),
	STOCK_STATUS		VARCHAR2(100),
	PCS					NUMBER(23,5),
	WT					NUMBER(23,5),
	DIA_WT				NUMBER(23,5),
	CLS_WT				NUMBER(23,5),
	MTL_WT				NUMBER(23,5),
	STOCK_VALUE			NUMBER(23,5),
	LABOUR				NUMBER(23,5)
);

CREATE INDEX TTHIST_IDX_1 ON T_TEMP_TRANS_HISTORY(GUID) TABLESPACE SEA_TB_INDX_MISC;


ALTER TABLE T_ITEM_N_STYLE_LINK DROP CONSTRAINT FK_INSL_IID_IM;

ALTER TABLE T_ITEM_N_STYLE_LINK RENAME COLUMN ITEM_ID TO SRC_VARIANT_ID;

DELETE FROM T_ITEM_N_STYLE_LINK;

COMMIT; 

ALTER TABLE T_ITEM_N_STYLE_LINK ADD (
  CONSTRAINT FK_INSL_IID_IM 
 FOREIGN KEY (SRC_VARIANT_ID) 
 REFERENCES T_ITEM_VARIANT_MASTER (VARIANT_ID));
 
ALTER TABLE T_ITEM_N_STYLE_LINK RENAME COLUMN VARIANT_REMARK TO RE_ORDER_QUANTITY;
ALTER TABLE T_ITEM_N_STYLE_LINK MODIFY RE_ORDER_QUANTITY NUMBER(20,7); 
ALTER TABLE EXCEL_OPTION_MAPPING ADD (
  COL51       VARCHAR2(500 BYTE), 
  COL52       VARCHAR2(500 BYTE),
  COL53       VARCHAR2(500 BYTE),
  COL54       VARCHAR2(500 BYTE),
  COL55       VARCHAR2(500 BYTE),
  COL56       VARCHAR2(500 BYTE),
  COL57       VARCHAR2(500 BYTE),
  COL58       VARCHAR2(500 BYTE),
  COL59       VARCHAR2(500 BYTE),
  COL60       VARCHAR2(500 BYTE),
  COL61       VARCHAR2(500 BYTE),
  COL62       VARCHAR2(500 BYTE),
  COL63       VARCHAR2(500 BYTE),
  COL64       VARCHAR2(500 BYTE),
  COL65       VARCHAR2(500 BYTE),
  COL66       VARCHAR2(500 BYTE),
  COL67       VARCHAR2(500 BYTE),
  COL68       VARCHAR2(500 BYTE),
  COL69       VARCHAR2(500 BYTE),
  COL70       VARCHAR2(500 BYTE),
  COL71       VARCHAR2(500 BYTE),
  COL72       VARCHAR2(500 BYTE),
  COL73       VARCHAR2(500 BYTE),
  COL74       VARCHAR2(500 BYTE),
  COL75       VARCHAR2(500 BYTE),
  COL76       VARCHAR2(500 BYTE),
  COL77       VARCHAR2(500 BYTE),
  COL78       VARCHAR2(500 BYTE),
  COL79       VARCHAR2(500 BYTE),
  COL80       VARCHAR2(500 BYTE),
  COL81       VARCHAR2(500 BYTE),
  COL82       VARCHAR2(500 BYTE),
  COL83       VARCHAR2(500 BYTE),
  COL84       VARCHAR2(500 BYTE),
  COL85       VARCHAR2(500 BYTE),
  COL86       VARCHAR2(500 BYTE),
  COL87       VARCHAR2(500 BYTE),
  COL88       VARCHAR2(500 BYTE),
  COL89       VARCHAR2(500 BYTE),
  COL90       VARCHAR2(500 BYTE),
  COL91       VARCHAR2(500 BYTE),
  COL92       VARCHAR2(500 BYTE),
  COL93       VARCHAR2(500 BYTE),
  COL94       VARCHAR2(500 BYTE),
  COL95       VARCHAR2(500 BYTE),
  COL96       VARCHAR2(500 BYTE),
  COL97       VARCHAR2(500 BYTE),
  COL98       VARCHAR2(500 BYTE),
  COL99       VARCHAR2(500 BYTE),
  COL100      VARCHAR2(500 BYTE),
  DUMMY       NUMBER(10)
);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(475, 'PARTY-CREDIT-LIMIT-UPDATE-IND', '0', '0 = NO, 1 = YES', 0); 
COMMIT;

CREATE TABLE ORDER_REQ_RC
(
  VARIANT_ID            NUMBER(10),
  KARAT                 VARCHAR2(100 BYTE),
  ODRER_VARIANT_NAME    VARCHAR2(100 BYTE),
  STYLE_VARIANT         VARCHAR2(100 BYTE),
  ORDER_PCS             NUMBER(10)              DEFAULT (0),
  ORDER_WT              NUMBER(20,7)            DEFAULT (0),
  MIN_STOCK_QUANTITY    NUMBER(20,7)            DEFAULT (0),
  RE_ORDER_QUANTITY     NUMBER(20,7)            DEFAULT (0),
  STOCK_QUANTITY        NUMBER(20,7),
  STOCK_ORDER_QUANTITY  NUMBER(20,7)            DEFAULT (0),
  MASTER_AVG_WT         NUMBER(20,7)            DEFAULT (0)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
ALTER TABLE T_CONFIG_CODEGEN_OTHERS ADD COMPANY_ID NUMBER(10) DEFAULT(0);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,CAN_CHANGE_SETTING ) 
VALUES ( 711, 'DO-NOT-CREATE-BARCODE-IN-MRP-BARCODEGEN', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,CAN_CHANGE_SETTING ) 
VALUES ( 713, 'PARTY-MANDATORY-IN-BARCODE-GEN', '0', NULL, 0); 
COMMIT;

ALTER TABLE T_SMRY_CUSTOMER_STOCK_BAL_DTL ADD FA_TRANS_DTL_ID NUMBER(10) DEFAULT(0);
CREATE TABLE T_TEMP_TRANS_ID_GRU
(
  TRANS_ID     NUMBER(10)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
ALTER TABLE T_BATCH_SALARY_DTL ADD CALC_METHOD_ID NUMBER(10);
ALTER TABLE T_STOCK_BATCH_MISC_INFO ADD ORDER_STATUS_REMARKS VARCHAR2(750);
DROP TABLE T_STOCK_DEPT_MISMATCH_VALUE;

CREATE GLOBAL TEMPORARY TABLE T_STOCK_DEPT_MISMATCH_VALUE
(
    LOCATION_ID         NUMBER(10),
    WCGROUP_ID          NUMBER(10),
    PARTY_ID            NUMBER(10),
    ITEM_GROUP_ID       NUMBER(10),
    SIOD_QUANTITY       NUMBER(20,7),
    SIOD_VALUE          NUMBER(20,7),
    STOCK_QUANTITY      NUMBER(20,7),
    STOCK_VALUE         NUMBER(20,7),
    TRANSIT_QUANTITY    NUMBER(20,7),
    TRANSIT_VALUE       NUMBER(20,7),
    STOCK_LABOUR_VALUE  NUMBER(20,7)              DEFAULT (0),
    SIOD_LABOUR_VALUE   NUMBER(20,7)              DEFAULT (0)
)
ON COMMIT DELETE ROWS
NOCACHE;
create table T_TRANS_TYPE_CATEGORY_DATA(
PK_ID               NUMBER(10),
TRANSCATG_ID        NUMBER(10),
WITHIN_BEYOND_DAYS  NUMBER(10),
ATTRIB_ID           NUMBER(10),
FROM_VALUE          NUMBER(23,7),
TO_VALUE            NUMBER(23,7),
ALLOWED_NT_ALLOWED  NUMBER(1),
ROW_STATUS          NUMBER(1),
REMARK              VARCHAR2(100)
); 
CREATE UNIQUE INDEX PK_TTCD ON T_TRANS_TYPE_CATEGORY_DATA (PK_ID); 
ALTER TABLE T_TRANS_TYPE_CATEGORY_DATA ADD (
 CONSTRAINT PK_ID_TTCD
 PRIMARY KEY
 (PK_ID)); 
ALTER TABLE T_TRANS_TYPE_CATEGORY_DATA ADD (
  CONSTRAINT FK_TC_TC 
 FOREIGN KEY (TRANSCATG_ID) 
 REFERENCES T_CONFIG_TRANS_CATEGORY_LINK (TRANS_CATEGORY_LINK_ID));  
ALTER TABLE T_TRANS_TYPE_CATEGORY_DATA ADD (
  CONSTRAINT FK_AI_AI 
 FOREIGN KEY (ATTRIB_ID) 
 REFERENCES T_ITEM_ATTRIB_MASTER (ATTRIB_ID)); 
 
DROP SEQUENCE TRANS_TYPE_CATEGORY_DATA; 
CREATE SEQUENCE TRANS_TYPE_CATEGORY_DATA
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
ALTER TABLE T_CONFIG_TAG_DTL MODIFY TAG_VALUE VARCHAR2(1500);
ALTER TABLE T_AUTH_EMPLOYEE_MASTER MODIFY LOGIN_PWD VARCHAR2(100);
ALTER TABLE T_FA_ACCOUNT_MASTER MODIFY ACCOUNT_CODE VARCHAR2(50);
/*
ALTER TABLE T_STOCK_DTL ADD (
  CONSTRAINT CHK_STOCK_DTL_INTEGRITY
  CHECK (
        (STOCK_ID = 0) OR
        (BATCH_ID > 0 AND WC_ID = 0 AND WCGROUP_ID = 0 AND PARTY_ID = 0 AND LOCATION_ID = 0 AND TRANSIT_IND = 0) OR
        (BATCH_ID = 0 AND WC_ID > 0 AND WCGROUP_ID > 0 AND PARTY_ID = 0 AND LOCATION_ID > 0 AND TRANSIT_IND > 0) OR
        (BATCH_ID = 0 AND WC_ID > 0 AND WCGROUP_ID > 0 AND PARTY_ID = 0 AND LOCATION_ID > 0 AND TRANSIT_IND = 0) OR
        (BATCH_ID = 0 AND WC_ID = 0 AND WCGROUP_ID = 0 AND PARTY_ID = 0 AND LOCATION_ID > 0 AND TRANSIT_IND > 0) OR
        (BATCH_ID = 0 AND WC_ID = 0 AND WCGROUP_ID = 0 AND PARTY_ID > 0 AND LOCATION_ID > 0 AND TRANSIT_IND = 0)
    )
  ENABLE VALIDATE);

DISABLE ALL THE INDEXES FOR THE FOLLOWING COLUMNS
WC_ID,WCGROUP_ID,PARTY_ID,LOCATION_ID

ALTER TABLE T_STOCK_DTL DROP CONSTRAINT CHK_STOCK_DTL_INTEGRITY;

DROP INDEX TSD_IDX_1;
DROP INDEX TSD_IDX_2;
DROP INDEX TSD_IDX_3;
DROP INDEX TSD_IDX_4;
DROP INDEX TSD_IDX_6;

ALTER TRIGGER STOCK_DTL_ROW_A DISABLE;
ALTER TRIGGER STOCK_DTL_BEF_ROW_A DISABLE;

UPDATE T_STOCK_DTL SD
SET (SD.WC_ID,SD.WCGROUP_ID,SD.LOCATION_ID,SD.PARTY_ID,SD.TRANSIT_IND) = (SELECT SBD.WC_ID,SBD.WCGROUP_ID,SBD.LOCATION_ID,SBD.PARTY_ID,SBD.TRANSIT_IND FROM T_STOCK_BATCH_DTL SBD WHERE SD.BATCH_ID = SBD.BATCH_ID)
WHERE EXISTS (SELECT 1 FROM T_STOCK_BATCH_DTL SBD WHERE SD.BATCH_ID = SBD.BATCH_ID)
AND SD.BATCH_ID > 0;

COMMIT;
*/

/*
ENABLE ALL THE INDEXES FOR THE FOLLOWING COLUMNS
WC_ID,WCGROUP_ID,PARTY_ID,LOCATION_ID

REPLACE FOLLOWING TRIGGERS FROM DNETTMPL

STOCK_DTL_BEF_ROW_A
STOCK_BATCH_DTL_ROW_A
*/


/*
CREATE INDEX TSD_IDX_1 ON T_STOCK_DTL
(BATCH_ID)
NOLOGGING
TABLESPACE SEA_TB_INDX_STOCK
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );


CREATE INDEX TSD_IDX_2 ON T_STOCK_DTL
(WC_ID)
NOLOGGING
TABLESPACE SEA_TB_INDX_STOCK
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );


CREATE INDEX TSD_IDX_3 ON T_STOCK_DTL
(WCGROUP_ID)
NOLOGGING
TABLESPACE SEA_TB_INDX_STOCK
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );


CREATE INDEX TSD_IDX_4 ON T_STOCK_DTL
(LOCATION_ID)
NOLOGGING
TABLESPACE SEA_TB_INDX_STOCK
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );


CREATE INDEX TSD_IDX_6 ON T_STOCK_DTL
(PARTY_ID)
NOLOGGING
TABLESPACE SEA_TB_INDX_STOCK
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );

ANALYZE TABLE T_STOCK_DTL COMPUTE STATISTICS;

CREATE OR REPLACE FORCE VIEW V_STOCK_DTL AS
SELECT * FROM T_STOCK_DTL;
*/

DROP INDEX TIVL_IDX_1;
DROP INDEX TIVL_IDX_2;
ANALYZE TABLE T_ITEM_VARIANT_LINK COMPUTE STATISTICS;
ALTER TABLE T_TRANS_ITEM_REF_DTL DROP CONSTRAINT FK_TIRD_PTIBID_TIBID;
ALTER TABLE T_TRANS_ITEM_REF_DTL DROP CONSTRAINT FK_TIRD_PTIID_TID;

ALTER TABLE T_DAILY_UPDATE_TRANS ADD CONSTRAINT NN_DUT_1 CHECK (TRANS_ID IS NOT NULL);
DROP TABLE GT_MISC_TABLE_1 CASCADE CONSTRAINTS;

CREATE GLOBAL TEMPORARY TABLE GT_MISC_TABLE_1
(
  ID_COL  NUMBER(10),
  CHAR_COL VARCHAR2(50)
)
ON COMMIT PRESERVE ROWS
NOCACHE;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 716, 'AUTHORIZATION-REQUIRED-PRO', '1', NULL, 0); 
COMMIT;
CREATE INDEX TEMP_TIOD_IDX_1 ON T_TEMP_TRANS_ITEM_OPN_DTL("Guid") TABLESPACE SEA_TB_INDX_TRANS;
ALTER TABLE T_STOCK_TRANS_LINK DROP CONSTRAINT FK_STL_OLOC_ID;
CREATE TABLE T_FA_EXPENSE_PRO_MAPPING
(
  EXP_PRO_MAPPING_ID    NUMBER(10),
  TRANS_ID              NUMBER(10) CONSTRAINT NN_FEPM_TID NOT NULL,
  FA_TRANS_ID           NUMBER(10) CONSTRAINT NN_FEPM_FTID NOT NULL
)
TABLESPACE SEA_TB_FA;

ALTER TABLE T_FA_EXPENSE_PRO_MAPPING ADD CONSTRAINT PK_FEPM_EPMID PRIMARY KEY(EXP_PRO_MAPPING_ID);

ALTER TABLE T_FA_EXPENSE_PRO_MAPPING ADD CONSTRAINT FK_FEPM_TID_TH FOREIGN KEY(TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);
ALTER TABLE T_FA_EXPENSE_PRO_MAPPING ADD CONSTRAINT FK_FEPM_FTID_FTH FOREIGN KEY(FA_TRANS_ID) REFERENCES T_FA_TRANS_HDR(FA_TRANS_ID);

CREATE SEQUENCE FA_EXPENSE_PRO_MAPPING START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;

alter table t_stock_group
add group_attrib_id number(10);
CREATE TABLE T_STOCK_CODE_MISC_DTL
(
    STOCK_CODE      VARCHAR2(75) NOT NULL,
    LAST_SLG_ID     NUMBER(10)
)
TABLESPACE SEA_TB_TRANS;

ALTER TABLE T_STOCK_CODE_MISC_DTL ADD CONSTRAINT PK_SSCODE_MSC_DTL PRIMARY KEY(STOCK_CODE);

INSERT INTO T_STOCK_CODE_MISC_DTL
SELECT TID.STOCK_CODE , MAX(TID.TRANS_ITEM_ID) AS TRANS_ITEM_ID 
FROM T_TRANS_ITEM_DTL TID,T_TRANS_HDR TH
WHERE TID.TRANS_ID = TH.TRANS_ID
AND TH.TRANS_TYPE = 'SLG'
GROUP BY TID.STOCK_CODE;
 
COMMIT;
CREATE TABLE T_TEMP_DAILY_TRANS_HZL
(
  TRANS_TYPE     VARCHAR2(10 BYTE)              NOT NULL,
  DOC_NO         VARCHAR2(50 BYTE),
  PARTY_NAME     VARCHAR2(250 BYTE),
  TRANS_ID       NUMBER(10)                     NOT NULL,
  TRANS_ITEM_ID  NUMBER(10),
  STOCK_CODE     VARCHAR2(100 BYTE),
  PCS            NUMBER(23,5),
  GROSS_WEIGHT   NUMBER(23,5),
  NET_WEIGHT     NUMBER(23,5),
  METAL_AMT      NUMBER(23,5),
  METAL_RATE     NUMBER(23,5),
  DIA_WT         NUMBER(23,5),
  DIA_AMT        NUMBER(23,5),
  STN_WT         NUMBER(23,5),
  STN_AMT        NUMBER(23,5),
  OTHER_WT       NUMBER(23,5),
  OTHER_AMT      NUMBER(23,5),
  PRODUCT_NAME   VARCHAR2(250 BYTE),
  SALES_PERSON   VARCHAR2(250 BYTE),
  LABOUR_VALUE   NUMBER(23,5),
  LABOUR_RATE    NUMBER(23,5),
  AMT_BEF_TAX    NUMBER(23,5),
  GST_AMT        NUMBER(23,5),
  TOTAL          NUMBER(23,5),
  CNO            NUMBER(23,5),
  MAKING_PERC    NUMBER(23,5),
  BAL_WT         NUMBER(23,5),
  OG_AMT         NUMBER(23,5),
  OG_WT          NUMBER(23,5),
  OG_STN_AMT     NUMBER(23,5),
  OG_STN_WT      NUMBER(23,5),
  OG_DIA_AMT     NUMBER(23,5),
  OG_DIA_WT      NUMBER(23,5),
  CASH           NUMBER(23,5),
  CHEQUE         NUMBER(23,5),
  CREDIT_CARD    NUMBER(23,5),
  LESS_ADV       NUMBER(23,5),
  ADV_VOUCHER    VARCHAR2(255 BYTE),
  SESSION_ID     NUMBER(23,5),
  SORT_IND       NUMBER(23,5),
  AB             NUMBER(23,5)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD PARTY_GROUP_ID NUMBER(10) DEFAULT 0;
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD PARTY_GROUP_ID NUMBER(10) DEFAULT 0;
CREATE TABLE T_SHOPPING_CART (
    PK_ID               NUMBER(10)  PRIMARY KEY,
    CART_ITEM_TYPE_ID   NUMBER(10)  NOT NULL,
    PARTY_ID            NUMBER(10)  NOT NULL,
    VARIANT_ID          NUMBER(10)  NOT NULL,
    QUANTITY            NUMBER(5)   NOT NULL,
    CREATION_DATE       DATE        DEFAULT TRUNC(SYSDATE)
);

ALTER TABLE T_SHOPPING_CART
ADD (
    CONSTRAINT FK_CITI_CFD_ID FOREIGN KEY(CART_ITEM_TYPE_ID) REFERENCES T_CONFIG_FIXED_DATA(CONFIG_ID),
    CONSTRAINT FK_CITI_PM_PID FOREIGN KEY(PARTY_ID) REFERENCES T_PARTY_MASTER(PARTY_ID),
    CONSTRAINT FK_CITI_VM_VID FOREIGN KEY(VARIANT_ID) REFERENCES T_ITEM_VARIANT_MASTER(VARIANT_ID)
);

ALTER TABLE T_TRANS_HDR DROP CONSTRAINT FK_TH_TCLID_CNTCL;
ALTER TABLE T_TRANS_HDR DROP CONSTRAINT FK_TH_OID_OPM;
ALTER TABLE T_TRANS_ITEM_DTL_EXTD DROP CONSTRAINT FK_TIDE_SVID_IVM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_CVID_IVM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_RID_OPRM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_VNID_PAM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_DID_MICDM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_EID1_AUEM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_EID2_AUEM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_CSIID_CSIM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_ICBID_AUEM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_COOID_MIRGM;
ALTER TABLE T_ITEM_VARIANT_MASTER_EXTD DROP CONSTRAINT FK_IVME_IDBID_AUEM;
ALTER TABLE T_TRANS_HDR_EXTD DROP CONSTRAINT FK_THE_TRID_MITRM;
ALTER TABLE T_TRANS_HDR_EXTD DROP CONSTRAINT FK_THE_TID_TH;



ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1895 NUMBER(10) ;
ALTER TABLE T_SMRY_STOCK_BOM ADD WEIGHT_1895 NUMBER(23,7) ;
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1895  NUMBER(23,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1895 NUMBER(10) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD WEIGHT_1895 NUMBER(23,7) ;
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1895  NUMBER(23,7);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1895 NUMBER(23,7) ;  
ALTER TABLE T_SMRY_STOCK_BOM ADD PIECES_1013 NUMBER(10);
ALTER TABLE T_SMRY_STOCK_BOM ADD WEIGHT_1013 NUMBER(23,5);
ALTER TABLE T_SMRY_STOCK_BOM ADD VALUE_1013 NUMBER(23,5); 
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD PIECES_1013 NUMBER(10);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD WEIGHT_1013 NUMBER(23,5);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD AMOUNT_1013 NUMBER(23,5);
ALTER TABLE T_SMRY_TRANS_ITEM_BOM ADD VALUE_1013 NUMBER(23,5);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 721, 'PARTY-GROUP-MANDATORY-IN-BARCODE-GEN', '0', NULL, 0); 
COMMIT;
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (722, 'ALLOW-ACROSS-GROUP-BUNCH-MAKING-FOR-STONE', '0', 0);
COMMIT;

DROP TABLE T_DAILY_TRANS_VOUCHER;
DROP TABLE T_DAILY_TRANS_VOUCHER_BOM;
DROP TABLE T_DAILY_TRANS_VOUCHER_FORMULA;

CREATE GLOBAL TEMPORARY TABLE T_DAILY_TRANS_VOUCHER
(
  SESSION_ID              NUMBER(10)            DEFAULT (0),
  TRANS_ID                NUMBER(10)            DEFAULT (0),
  LOCATION_ID             NUMBER(10)            DEFAULT (0),
  REF_LOCATION_ID         NUMBER(10)            DEFAULT (0),
  TRANS_TYPE              VARCHAR2(10 BYTE),
  TRANS_SUBTYPE_ID        NUMBER(10)            DEFAULT (0),
  TRANS_CATEGORY_LINK_ID  NUMBER(10)            DEFAULT (0),
  TRANS_ITEM_ID           NUMBER(10)            DEFAULT (0),
  SUBTYPE                 VARCHAR2(1000 BYTE),
  TRANS_CATEGORY          VARCHAR2(1000 BYTE),
  SHIPMENT_DATE           DATE,
  SHIPMENT_ADDRESS_ID     NUMBER(10),
  BILL_ADDRESS_ID         NUMBER(10),
  TERMS_ID                NUMBER(10),
  TRANS_CURR_RATE_ID      NUMBER(10),
  TRANS_EXCH_RATE         NUMBER(20,7),
  BILL_NO                 VARCHAR2(750 BYTE),
  CREATED_BY              NUMBER(10),
  ENTRY_DATE              DATE,
  VERIFIED_IND            NUMBER(1),
  DOC_NO                  VARCHAR2(50 BYTE),
  TRANS_DATE              DATE,
  REF_DOC_NO              VARCHAR2(50 BYTE),
  REF_DOC_DATE            DATE,
  INWARD_DOC_NO           VARCHAR2(50 BYTE),
  INWARD_DOC_DATE         DATE,
  SOR_DOC_NO              VARCHAR2(50 BYTE),
  SOR_DOC_DATE            DATE,
  PARTY_ID                NUMBER(10)            DEFAULT (0),
  OPERATION_ID            NUMBER(10)            DEFAULT (0),
  REF_TRANS_ITEM_ID       NUMBER(10)            DEFAULT (0),
  REF_TRANS_ID            NUMBER(10)            DEFAULT (0),
  INWARD_TRANS_ITEM_ID    NUMBER(10)            DEFAULT (0),
  INWARD_TRANS_ID         NUMBER(10)            DEFAULT (0),
  VARIANT_ID              NUMBER(10)            DEFAULT (0),
  SRC_BATCH_ID            NUMBER(10)            DEFAULT (0),
  DEST_BATCH_ID           NUMBER(10)            DEFAULT (0),
  SRC_WC_ID               NUMBER(10)            DEFAULT (0),
  SRC_WCGROUP_ID          NUMBER(10)            DEFAULT (0),
  DEST_WC_ID              NUMBER(10)            DEFAULT (0),
  DEST_WCGROUP_ID         NUMBER(10)            DEFAULT (0),
  SRC_PARTY_ID            NUMBER(10)            DEFAULT (0),
  DEST_PARTY_ID           NUMBER(10)            DEFAULT (0),
  SRC_STOCK_ID            NUMBER(10)            DEFAULT (0),
  DEST_STOCK_ID           NUMBER(10)            DEFAULT (0),
  STOCK_STATUS_ID         NUMBER(10)            DEFAULT (0),
  WIP_ITEM_TYPE_ID        NUMBER(10)            DEFAULT (0),
  STOCK_CODE              VARCHAR2(150 BYTE),
  LINE_NO                 VARCHAR2(150 BYTE),
  SOR_TRANS_ID            NUMBER(10)            DEFAULT (0),
  SOR_TRANS_ITEM_ID       NUMBER(10)            DEFAULT (0),
  SOR_VARIANT_ID          NUMBER(10)            DEFAULT (0),
  CUSTOM_STOCK_ID         NUMBER(10)            DEFAULT (0),
  KARAT_COLOR             VARCHAR2(150 BYTE),
  SETTLED_IND             NUMBER(2)             DEFAULT (0),
  ROW_STATUS              NUMBER(2)             DEFAULT (0),
  QUANTITY                NUMBER(20,7)          DEFAULT (0),
  CONVERSION_FACTOR       NUMBER(20,7)          DEFAULT (0),
  PIECES                  NUMBER(10)            DEFAULT (0),
  WEIGHT                  NUMBER(23,7),
  TRANS_RATE              NUMBER(23,7),
  TRANS_AMOUNT            NUMBER(23,7),
  STOCK_VALUE             NUMBER(23,7),
  LABOUR_VALUE            NUMBER(23,7),
  ORG_LABOOUR_RATE        NUMBER(23,7),
  TRANS_REMARK            VARCHAR2(1500 BYTE),
  HEADER_REMARKS          VARCHAR2(500 BYTE),
  RETURN_ITEM_STATUS      VARCHAR2(25 BYTE),
  IMAGE_FILE_NAME         VARCHAR2(500 BYTE),
  ADD_NUM3                NUMBER(20,7),
  ROW_IDENTITY_ID         NUMBER(10),
  STAMP_VARIANT_ID        NUMBER(10),
  STAMP_REMARK            VARCHAR2(4000 BYTE),
  ROUTING_ID              NUMBER(10),
  CUSTOMER_VARIANT_NAME   VARCHAR2(1000 BYTE),
  UPC_NO                  VARCHAR2(100 BYTE),
  BATCH_NO                VARCHAR2(100 BYTE),
  GC_NO                   VARCHAR2(100 BYTE),
  PRODUCTION_REMARK       VARCHAR2(1200 BYTE),
  CUSTOMER_REMARK         VARCHAR2(1200 BYTE),
  PRICING_REMARK          VARCHAR2(1200 BYTE),
  SPECIAL_REMARK          VARCHAR2(1200 BYTE),
  TRAY_NO                 NUMBER(10),
  PTRANS_ITEM_ID          NUMBER(10),
  MISC_REMARK_1           VARCHAR2(4000 BYTE),
  MISC_REMARK_2           VARCHAR2(500 BYTE),
  SALES_PERSON_ID         NUMBER(10)            DEFAULT (0),
  CERTIFICATE_NO          VARCHAR2(75 BYTE),
  SALES_PERSON_ID1        NUMBER(10)            DEFAULT (0),
  PIECES_1003             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1003             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1003          NUMBER(20,7)          DEFAULT (0),
  VALUE_1003              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1003             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1004             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1004          NUMBER(20,7)          DEFAULT (0),
  VALUE_1004              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1004             NUMBER(20,7)          DEFAULT (0),
  PIECES_1005             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1005             NUMBER(20,7)          DEFAULT (0),
  VALUE_1005              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1005             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1501             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1501          NUMBER(20,7)          DEFAULT (0),
  VALUE_1501              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1501             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1502             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1502          NUMBER(20,7)          DEFAULT (0),
  VALUE_1502              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1502             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1503             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1503          NUMBER(20,7)          DEFAULT (0),
  VALUE_1503              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1503             NUMBER(20,7)          DEFAULT (0),
  PIECES_1504             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1504             NUMBER(20,7)          DEFAULT (0),
  VALUE_1504              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1504             NUMBER(20,7)          DEFAULT (0),
  PIECES_1539             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1539             NUMBER(20,7)          DEFAULT (0),
  VALUE_1539              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1539             NUMBER(20,7)          DEFAULT (0),
  PIECES_1510             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1510             NUMBER(20,7)          DEFAULT (0),
  VALUE_1510              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1510             NUMBER(20,7)          DEFAULT (0),
  PIECES_1511             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1511             NUMBER(20,7)          DEFAULT (0),
  VALUE_1511              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1511             NUMBER(20,7)          DEFAULT (0),
  PIECES_1866             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_1866             NUMBER(20,7)          DEFAULT (0),
  PG_WEIGHT_1866          NUMBER(20,7)          DEFAULT (0),
  VALUE_1866              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_1866             NUMBER(20,7)          DEFAULT (0),
  PIECES_4538             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_4538             NUMBER(20,7)          DEFAULT (0),
  VALUE_4538              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_4538             NUMBER(20,7)          DEFAULT (0),
  PIECES_4531             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_4531             NUMBER(20,7)          DEFAULT (0),
  VALUE_4531              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_4531             NUMBER(20,7)          DEFAULT (0),
  PCS_1003_1501           NUMBER(20,7)          DEFAULT (0),
  WT_1003_1501            NUMBER(20,7)          DEFAULT (0),
  PG_1003_1501            NUMBER(20,7)          DEFAULT (0),
  AMT_1003_1501           NUMBER(20,7)          DEFAULT (0),
  VAL_1003_1501           NUMBER(20,7)          DEFAULT (0),
  PCS_1003_1502           NUMBER(20,7)          DEFAULT (0),
  WT_1003_1502            NUMBER(20,7)          DEFAULT (0),
  PG_1003_1502            NUMBER(20,7)          DEFAULT (0),
  AMT_1003_1502           NUMBER(20,7)          DEFAULT (0),
  VAL_1003_1502           NUMBER(20,7)          DEFAULT (0),
  PCS_1003_1503           NUMBER(20,7)          DEFAULT (0),
  WT_1003_1503            NUMBER(20,7)          DEFAULT (0),
  PG_1003_1503            NUMBER(20,7)          DEFAULT (0),
  AMT_1003_1503           NUMBER(20,7)          DEFAULT (0),
  VAL_1003_1503           NUMBER(20,7)          DEFAULT (0),
  PIECES_4569             NUMBER(20,7)          DEFAULT (0),
  WEIGHT_4569             NUMBER(20,7)          DEFAULT (0),
  VALUE_4569              NUMBER(20,7)          DEFAULT (0),
  AMOUNT_4569             NUMBER(20,7)          DEFAULT (0),
  OWNER_PIECES_1504       NUMBER(20,7)          DEFAULT (0),
  OWNER_WEIGHT_1504       NUMBER(20,7)          DEFAULT (0),
  OWNER_VALUE_1504        NUMBER(20,7)          DEFAULT (0),
  OWNER_AMOUNT_1504       NUMBER(20,7)          DEFAULT (0),
  OWNER_PIECES_1005       NUMBER(20,7)          DEFAULT (0),
  OWNER_WEIGHT_1005       NUMBER(20,7)          DEFAULT (0),
  OWNER_VALUE_1005        NUMBER(20,7)          DEFAULT (0),
  OWNER_AMOUNT_1005       NUMBER(20,7)          DEFAULT (0)
)
ON COMMIT PRESERVE ROWS;

CREATE GLOBAL TEMPORARY TABLE T_DAILY_TRANS_VOUCHER_BOM
(
  SESSION_ID                NUMBER(10),
  TRANS_ID                  NUMBER(10),
  TRANS_ITEM_BOM_ID         NUMBER(10),
  TRANS_ITEM_ID             NUMBER(10),
  MAIN_VARIANT_ID           NUMBER(10),
  PARENT_VARIANT_ID         NUMBER(10),
  BOM_VARIANT_ID            NUMBER(10),
  ACTUAL_VARIANT_ID         NUMBER(10),
  STOCK_STATUS_ID           NUMBER(10),
  SRC_STOCK_BOM_ID          NUMBER(10),
  DEST_STOCK_BOM_ID         NUMBER(10),
  SOR_TRANS_ITEM_BOM_ID     NUMBER(10),
  BOM_LEVEL                 NUMBER(1),
  QUANTITY                  NUMBER(20,7),
  CONVERSION_FACTOR         NUMBER(20,7),
  STOCK_VALUE               NUMBER(20,7),
  BOM_SET_NO                NUMBER(5),
  PARENT_SET_NO             NUMBER(5),
  ROW_NO                    NUMBER(10),
  SPECIAL_CHARACTER         VARCHAR2(5 BYTE),
  STOCK_CODE                VARCHAR2(100 BYTE),
  TRANS_BOM_RATE            NUMBER(20,7),
  TRANS_BOM_AMOUNT          NUMBER(20,7),
  TRANS_BOM_LABOUR_VALUE    NUMBER(20,7),
  OWNER_PARTY_ID            NUMBER(10),
  INWARD_TRANS_ITEM_ID      NUMBER(10),
  INWARD_TRANS_ITEM_BOM_ID  NUMBER(10),
  REMARKS                   VARCHAR2(1200 BYTE),
  FETCH_RATE_OPTION         NUMBER,
  FETCH_QUANTITY_OPTION     NUMBER,
  PTRANS_ITEM_BOM_ID        NUMBER(10),
  CUSTOM_STOCK_ID           NUMBER(10)
)
ON COMMIT PRESERVE ROWS;

CREATE GLOBAL TEMPORARY TABLE T_DAILY_TRANS_VOUCHER_FORMULA
(
  SESSION_ID               NUMBER(10),
  TRANS_ITEM_ID            NUMBER(10),
  FIRST_ROW                NUMBER(20,7)         DEFAULT (0),
  WHOLESALE                NUMBER(20,7)         DEFAULT (0),
  TROUNC                   NUMBER(20,7)         DEFAULT (0),
  "LOSS%"                  NUMBER(20,7)         DEFAULT (0),
  MKUP                     NUMBER(20,7)         DEFAULT (0),
  AMT                      NUMBER(20,7)         DEFAULT (0),
  RETFEE                   NUMBER(20,7)         DEFAULT (0),
  WHBEFALLOW               NUMBER(20,7)         DEFAULT (0),
  WHAFTALLOW               NUMBER(20,7)         DEFAULT (0),
  "GM%ATALLOW"             NUMBER(20,7)         DEFAULT (0),
  RETAIL                   NUMBER(20,7)         DEFAULT (0),
  CUSTGMPER                NUMBER(20,7)         DEFAULT (0),
  BASERATE                 NUMBER(20,7)         DEFAULT (0),
  "VAT%"                   NUMBER(20,7)         DEFAULT (0),
  VATAMT                   NUMBER(20,7)         DEFAULT (0),
  "TDS%"                   NUMBER(20,7)         DEFAULT (0),
  ITEMRATE                 NUMBER(20,7)         DEFAULT (0),
  DISC_SCHEM_PER           NUMBER(20,7)         DEFAULT (0),
  DISC                     NUMBER(20,7)         DEFAULT (0),
  COST                     NUMBER(20,7)         DEFAULT (0),
  "CLP-POINTS"             NUMBER(20,7)         DEFAULT (0),
  "CLP-REDEEM"             NUMBER(20,7)         DEFAULT (0),
  DEFVALUE                 NUMBER(20,7)         DEFAULT (0),
  GOLDLOSS                 NUMBER(20,7)         DEFAULT (0),
  GV                       NUMBER(20,7)         DEFAULT (0),
  DISC_SCHEM               NUMBER(20,7)         DEFAULT (0),
  RATEMARKUP               NUMBER(20,7)         DEFAULT (0),
  FA                       NUMBER(20,7)         DEFAULT (0),
  CASH                     NUMBER(20,7)         DEFAULT (0),
  URDPURCHASE              NUMBER(20,7)         DEFAULT (0),
  SAVINGWINNER             NUMBER(20,7)         DEFAULT (0),
  REDEMPTION               NUMBER(20,7)         DEFAULT (0),
  RECEIPTS                 NUMBER(20,7)         DEFAULT (0),
  BALANCE                  NUMBER(20,7)         DEFAULT (0),
  "ADDDISC%"               NUMBER(20,7)         DEFAULT (0),
  FRT                      NUMBER(20,7)         DEFAULT (0),
  EXCHANGE                 NUMBER(20,7)         DEFAULT (0),
  NETFOB                   NUMBER(20,7)         DEFAULT (0),
  "DISC%"                  NUMBER(20,7)         DEFAULT (0),
  ADDDISC                  NUMBER(20,7)         DEFAULT (0),
  DISC_TRADE               NUMBER(20,7)         DEFAULT (0),
  ADVANCE                  NUMBER(20,7)         DEFAULT (0),
  OGP                      NUMBER(20,7)         DEFAULT (0),
  SRN                      NUMBER(20,7)         DEFAULT (0),
  "Bank"                   NUMBER(20,7)         DEFAULT (0),
  "CreditCard"             NUMBER(20,7)         DEFAULT (0),
  "DebitCard"              NUMBER(20,7)         DEFAULT (0),
  "CreditAmount"           NUMBER(20,7)         DEFAULT (0),
  EDP                      NUMBER(20,7)         DEFAULT (0),
  SLDP                     NUMBER(20,7)         DEFAULT (0),
  CUSTOMRATE               NUMBER(20,7)         DEFAULT (0),
  TAX                      NUMBER(20,7)         DEFAULT (0),
  "VAT%-1"                 NUMBER(20,7)         DEFAULT (0),
  "VATAMT-1"               NUMBER(20,7)         DEFAULT (0),
  "VAT%-2"                 NUMBER(20,7)         DEFAULT (0),
  "VATAMT-2"               NUMBER(20,7)         DEFAULT (0),
  "VAT%-3"                 NUMBER(20,7)         DEFAULT (0),
  "VATAMT-3"               NUMBER(20,7)         DEFAULT (0),
  "EXCISE%"                NUMBER(20,7)         DEFAULT (0),
  EXDPO                    NUMBER(20,7)         DEFAULT (0),
  CSDP                     NUMBER(20,7)         DEFAULT (0),
  DPDP                     NUMBER(20,7)         DEFAULT (0),
  "CST%"                   NUMBER(20,7)         DEFAULT (0),
  "Profit%"                NUMBER(20,7)         DEFAULT (0),
  CBSP                     NUMBER(20,7)         DEFAULT (0),
  EDV                      NUMBER(20,7)         DEFAULT (0),
  SLDV                     NUMBER(20,7)         DEFAULT (0),
  EXDIV                    NUMBER(20,7)         DEFAULT (0),
  CSDV                     NUMBER(20,7)         DEFAULT (0),
  DPDV                     NUMBER(20,7)         DEFAULT (0),
  CBDAV                    NUMBER(20,7)         DEFAULT (0),
  CBDEP                    NUMBER(20,7)         DEFAULT (0),
  CBDEV                    NUMBER(20,7)         DEFAULT (0),
  "CST AMOUNT = 1"         NUMBER(20,7)         DEFAULT (0),
  CWP                      NUMBER(20,7)         DEFAULT (0),
  CWV                      NUMBER(20,7)         DEFAULT (0),
  AP                       NUMBER(20,7)         DEFAULT (0),
  BPP                      NUMBER(20,7)         DEFAULT (0),
  TCP                      NUMBER(20,7)         DEFAULT (0),
  TCV                      NUMBER(20,7)         DEFAULT (0),
  DDP                      NUMBER(20,7)         DEFAULT (0),
  DDV                      NUMBER(20,7)         DEFAULT (0),
  RCP                      NUMBER(20,7)         DEFAULT (0),
  RCV                      NUMBER(20,7)         DEFAULT (0),
  MCDP                     NUMBER(20,7)         DEFAULT (0),
  EXCISEDUTY               NUMBER(20,7)         DEFAULT (0),
  DISCAMT                  NUMBER(20,7)         DEFAULT (0),
  "SDDISC%"                NUMBER(20,7)         DEFAULT (0),
  SDDISCAMT                NUMBER(20,7)         DEFAULT (0),
  "SDPAC%"                 NUMBER(20,7)         DEFAULT (0),
  SDPACAMT                 NUMBER(20,7)         DEFAULT (0),
  CDNAGCHG                 NUMBER(20,7)         DEFAULT (0),
  CDNSSCHG                 NUMBER(20,7)         DEFAULT (0),
  CDNREIMB                 NUMBER(20,7)         DEFAULT (0),
  CDNWHFEES                NUMBER(20,7)         DEFAULT (0),
  CDNPKGCHG                NUMBER(20,7)         DEFAULT (0),
  CDNFRTCHG                NUMBER(20,7)         DEFAULT (0),
  CDNADDNFRTCHG            NUMBER(20,7)         DEFAULT (0),
  CDNAIRVALNCHG            NUMBER(20,7)         DEFAULT (0),
  CDNINSEXP                NUMBER(20,7)         DEFAULT (0),
  CDNASSYCHG               NUMBER(20,7)         DEFAULT (0),
  CDNWTCHG                 NUMBER(20,7)         DEFAULT (0),
  CDNFUELCHG               NUMBER(20,7)         DEFAULT (0),
  CDNBDBCHG                NUMBER(20,7)         DEFAULT (0),
  RATE                     NUMBER(20,7)         DEFAULT (0),
  "EXCISE AMOUNT"          NUMBER(20,7)         DEFAULT (0),
  "CST %-1"                NUMBER(20,7)         DEFAULT (0),
  DISC_RATE                NUMBER(20,7)         DEFAULT (0),
  CSTAMT                   NUMBER(20,7)         DEFAULT (0),
  "MRKUP%"                 NUMBER(20,7)         DEFAULT (0),
  "BROK%"                  NUMBER(20,7)         DEFAULT (0),
  BROKGROSSAMT             NUMBER(20,7)         DEFAULT (0),
  "BROKTDS%"               NUMBER(20,7)         DEFAULT (0),
  BROKNETAMT               NUMBER(20,7)         DEFAULT (0),
  "TCS%"                   NUMBER(20,7)         DEFAULT (0),
  FDV                      NUMBER(20,7)         DEFAULT (0),
  FORMULA_WASTAGE          NUMBER(20,7)         DEFAULT (0),
  "IGST1%"                 NUMBER(20,7)         DEFAULT (0),
  IGST1AMT                 NUMBER(20,7)         DEFAULT (0),
  "SGST1%"                 NUMBER(20,7)         DEFAULT (0),
  SGST1AMT                 NUMBER(20,7)         DEFAULT (0),
  "CGST1%"                 NUMBER(20,7)         DEFAULT (0),
  CGST1AMT                 NUMBER(20,7)         DEFAULT (0),
  ASSESSABLE               NUMBER(20,7)         DEFAULT (0),
  GST                      NUMBER(20,7)         DEFAULT (0),
  "CGST3%"                 NUMBER(20,7)         DEFAULT (0),
  CGST3AMT                 NUMBER(20,7)         DEFAULT (0),
  "MKUP-A"                 NUMBER(20,7)         DEFAULT (0),
  "GST%"                   NUMBER(20,7)         DEFAULT (0),
  GSTAMT                   NUMBER(20,7)         DEFAULT (0),
  ITEMTAX                  NUMBER(20,7)         DEFAULT (0),
  "VAT%-1.1"               NUMBER(20,7)         DEFAULT (0),
  "VAT -1.1 AMT"           NUMBER(20,7)         DEFAULT (0),
  "VAT%-4"                 NUMBER(20,7)         DEFAULT (0),
  "VATAMT-4"               NUMBER(20,7)         DEFAULT (0),
  "VAT%-5"                 NUMBER(20,7)         DEFAULT (0),
  "VATAMT-5"               NUMBER(20,7)         DEFAULT (0),
  "VAT%-8"                 NUMBER(20,7)         DEFAULT (0),
  "VAT-8 AMT"              NUMBER(20,7)         DEFAULT (0),
  "VAT%-12.5"              NUMBER(20,7)         DEFAULT (0),
  "VAT -12.5 AMT"          NUMBER(20,7)         DEFAULT (0),
  "VAT -1.2 AMT"           NUMBER(20,7)         DEFAULT (0),
  TAXABSORB                NUMBER(20,7)         DEFAULT (0),
  "VAT%-1.2"               NUMBER(20,7)         DEFAULT (0),
  "CST %-1.1"              NUMBER(20,7)         DEFAULT (0),
  "CST -1.1 AMT"           NUMBER(20,7)         DEFAULT (0),
  "CST %-2"                NUMBER(20,7)         DEFAULT (0),
  "CST AMOUNT = 2"         NUMBER(20,7)         DEFAULT (0),
  "CST %-12.5"             NUMBER(20,7)         DEFAULT (0),
  "CST -12.5 AMT"          NUMBER(20,7)         DEFAULT (0),
  "ITEM-PURITY"            NUMBER(20,7)         DEFAULT (0),
  DISD                     NUMBER(20,7)         DEFAULT (0),
  DISCSTO                  NUMBER(20,7)         DEFAULT (0),
  DISCMET                  NUMBER(20,7)         DEFAULT (0),
  DISCLAB                  NUMBER(20,7)         DEFAULT (0),
  CGSTAMT                  NUMBER(20,7)         DEFAULT (0),
  SGSTAMT                  NUMBER(20,7)         DEFAULT (0),
  IGSTAMT                  NUMBER(20,7)         DEFAULT (0),
  OVERCOST                 NUMBER(20,7)         DEFAULT (0),
  PAC                      NUMBER(20,7)         DEFAULT (0),
  CUSTOM_WEIGHT            NUMBER(20,7)         DEFAULT (0),
  "CGST%"                  NUMBER(20,7)         DEFAULT (0),
  "SGST%"                  NUMBER(20,7)         DEFAULT (0),
  "IGST%"                  NUMBER(20,7)         DEFAULT (0),
  IPBGST                   NUMBER(20,7)         DEFAULT (0),
  "REDEEMED CLP AMT"       NUMBER(20,7)         DEFAULT (0),
  "ROUNDOFF-CR"            NUMBER(20,7)         DEFAULT (0),
  "ROUNDOFF-DR"            NUMBER(20,7)         DEFAULT (0),
  AMTAFTTAX                NUMBER(20,7)         DEFAULT (0),
  TDV                      NUMBER(20,7)         DEFAULT (0),
  FORMULA_STONE_RATE       NUMBER(20,7)         DEFAULT (0),
  DISCALLOWED              NUMBER(20,7)         DEFAULT (0),
  DISCAPPLIED              NUMBER(20,7)         DEFAULT (0),
  STYLEDISAMT              NUMBER(20,7)         DEFAULT (0),
  IPBST                    NUMBER(20,7)         DEFAULT (0),
  OW                       NUMBER(20,7)         DEFAULT (0),
  OWC                      NUMBER(20,7)         DEFAULT (0),
  WASTAGEPER               NUMBER(20,7)         DEFAULT (0),
  ITEMDISC                 NUMBER(20,7)         DEFAULT (0),
  METALRATE                NUMBER(20,7)         DEFAULT (0),
  LOSS_PER                 NUMBER(20,7)         DEFAULT (0),
  ORIGMETALRATE            NUMBER(20,7)         DEFAULT (0),
  "CGST 1.5 AMT"           NUMBER(20,7)         DEFAULT (0),
  "SGST 1.5 AMT"           NUMBER(20,7)         DEFAULT (0),
  "IGST 3 AMOUNT"          NUMBER(20,7)         DEFAULT (0),
  "IGST 3.0%"              NUMBER(20,7)         DEFAULT (0),
  "CGST 1.5%"              NUMBER(20,7)         DEFAULT (0),
  "SGST 1.5%"              NUMBER(20,7)         DEFAULT (0),
  "SGST0.125 AMOUNT"       NUMBER(20,7)         DEFAULT (0),
  "SLG-STONE-RATE"         NUMBER(20,7)         DEFAULT (0),
  "SLG-USD-RATE"           NUMBER(20,7)         DEFAULT (0),
  "SLG-PUR-RAP-BACK"       NUMBER(20,7)         DEFAULT (0),
  "SLG-PSI-RAP-BACK"       NUMBER(20,7)         DEFAULT (0),
  "SLG-RAP-BACK-PER"       NUMBER(20,7)         DEFAULT (0),
  CERT                     NUMBER(20,7)         DEFAULT (0),
  AMTBFT                   NUMBER(20,7)         DEFAULT (0),
  OTHCOST                  NUMBER(20,7)         DEFAULT (0),
  CDNTERMCHG               NUMBER(20,7)         DEFAULT (0),
  INS                      NUMBER(20,7)         DEFAULT (0),
  "RETFEE%"                NUMBER(20,7)         DEFAULT (0),
  "DUTY%"                  NUMBER(20,7)         DEFAULT (0),
  OTHERCHARGES             NUMBER(20,7)         DEFAULT (0),
  "OTHCOST%"               NUMBER(20,7)         DEFAULT (0),
  CDNOTHCHG                NUMBER(20,7)         DEFAULT (0),
  "Handling"               NUMBER(20,7)         DEFAULT (0),
  "MEMO %"                 NUMBER(20,7)         DEFAULT (0),
  "PORTAL CHARGES"         NUMBER(20,7)         DEFAULT (0),
  DROPSHIP                 NUMBER(20,7)         DEFAULT (0),
  FINAL_RATE               NUMBER(20,7)         DEFAULT (0),
  "ShippingCost"           NUMBER(20,7)         DEFAULT (0),
  "COOP%"                  NUMBER(20,7)         DEFAULT (0),
  "CO-OP"                  NUMBER(20,7)         DEFAULT (0),
  DUTYAMT                  NUMBER(20,7)         DEFAULT (0),
  FOB                      NUMBER(20,7)         DEFAULT (0),
  ADVT                     NUMBER(20,7)         DEFAULT (0),
  CUST_CHRG                NUMBER(20,7)         DEFAULT (0),
  LOP                      NUMBER(20,7)         DEFAULT (0),
  ENGRAVING                NUMBER(20,7)         DEFAULT (0),
  HST                      NUMBER(20,7)         DEFAULT (0),
  PROAMT                   NUMBER(20,7)         DEFAULT (0),
  BROKTDSAMT               NUMBER(20,7)         DEFAULT (0),
  CUSTOM                   NUMBER(20,7)         DEFAULT (0),
  COMM                     NUMBER(20,7)         DEFAULT (0),
  CDNEUCHG                 NUMBER(20,7)         DEFAULT (0),
  SHIPTAX                  NUMBER(20,7)         DEFAULT (0),
  CDNOTHCHGPC              NUMBER(20,7)         DEFAULT (0),
  "OVERCOST%"              NUMBER(20,7)         DEFAULT (0),
  "MEMO AMOUNT"            NUMBER(20,7)         DEFAULT (0),
  "COMM%"                  NUMBER(20,7)         DEFAULT (0),
  HSTPER                   NUMBER(20,7)         DEFAULT (0),
  TOTAL_COST               NUMBER(20,7)         DEFAULT (0),
  "Return%"                NUMBER(20,7)         DEFAULT (0),
  PACKINGCHG               NUMBER(20,7)         DEFAULT (0),
  "CGST0.125 %"            NUMBER(20,7)         DEFAULT (0),
  "CGST0.125 AMOUNT"       NUMBER(20,7)         DEFAULT (0),
  BKCHG                    NUMBER(20,7)         DEFAULT (0),
  BKINT                    NUMBER(20,7)         DEFAULT (0),
  "IGST0.125 %"            NUMBER(20,7)         DEFAULT (0),
  "IGST0.125 AMOUNT"       NUMBER(20,7)         DEFAULT (0),
  "SGST0.125 %"            NUMBER(20,7)         DEFAULT (0),
  "FORMULA-ROW-1"          NUMBER(20,7)         DEFAULT (0),
  "IGST3%"                 NUMBER(20,7)         DEFAULT (0),
  SR                       NUMBER(20,7)         DEFAULT (0),
  IGST4AMT                 NUMBER(20,7)         DEFAULT (0),
  "AL-EXV"                 NUMBER(20,7)         DEFAULT (0),
  MARKUPPER                NUMBER(20,7)         DEFAULT (0),
  CASHDISC                 NUMBER(20,7)         DEFAULT (0),
  "IGST 28%"               NUMBER(20,7)         DEFAULT (0),
  "SGST 9%"                NUMBER(20,7)         DEFAULT (0),
  "CGST 6%"                NUMBER(20,7)         DEFAULT (0),
  OCTROI                   NUMBER(20,7)         DEFAULT (0),
  "SGST2%"                 NUMBER(20,7)         DEFAULT (0),
  SGST2AMT                 NUMBER(20,7)         DEFAULT (0),
  "SGST5%"                 NUMBER(20,7)         DEFAULT (0),
  "CGST 6 AMT"             NUMBER(20,7)         DEFAULT (0),
  "SGST4%"                 NUMBER(20,7)         DEFAULT (0),
  SGST4AMT                 NUMBER(20,7)         DEFAULT (0),
  "IGST4%"                 NUMBER(20,7)         DEFAULT (0),
  IGST2AMT                 NUMBER(20,7)         DEFAULT (0),
  IGST3AMT                 NUMBER(20,7)         DEFAULT (0),
  "IGST5%"                 NUMBER(20,7)         DEFAULT (0),
  "IGST 18%"               NUMBER(20,7)         DEFAULT (0),
  "SGST 9 AMT"             NUMBER(20,7)         DEFAULT (0),
  "SGST 6 AMT"             NUMBER(20,7)         DEFAULT (0),
  "MKTCost"                NUMBER(20,7)         DEFAULT (0),
  SGST5AMT                 NUMBER(20,7)         DEFAULT (0),
  "CGST5%"                 NUMBER(20,7)         DEFAULT (0),
  IGST5AMT                 NUMBER(20,7)         DEFAULT (0),
  "SGST 14%"               NUMBER(20,7)         DEFAULT (0),
  "CST%-13.5"              NUMBER(20,7)         DEFAULT (0),
  SGST3AMT                 NUMBER(20,7)         DEFAULT (0),
  "IGST2%"                 NUMBER(20,7)         DEFAULT (0),
  "SGST 2.5 AMT"           NUMBER(20,7)         DEFAULT (0),
  CGST5AMT                 NUMBER(20,7)         DEFAULT (0),
  "CGST 14 AMT"            NUMBER(20,7)         DEFAULT (0),
  "SGST 6%"                NUMBER(20,7)         DEFAULT (0),
  "IGST 12%"               NUMBER(20,7)         DEFAULT (0),
  "CGST4%"                 NUMBER(20,7)         DEFAULT (0),
  CGST2AMT                 NUMBER(20,7)         DEFAULT (0),
  "CGST 2.5%"              NUMBER(20,7)         DEFAULT (0),
  "CGST 14%"               NUMBER(20,7)         DEFAULT (0),
  "CGST 9%"                NUMBER(20,7)         DEFAULT (0),
  "CGST 9 AMT"             NUMBER(20,7)         DEFAULT (0),
  "CST -13.5 AMT"          NUMBER(20,7)         DEFAULT (0),
  "CGST2%"                 NUMBER(20,7)         DEFAULT (0),
  "SGST 2.5%"              NUMBER(20,7)         DEFAULT (0),
  "IGST 18 AMT"            NUMBER(20,7)         DEFAULT (0),
  "SGST 14 AMT"            NUMBER(20,7)         DEFAULT (0),
  "VAT%-13.5"              NUMBER(20,7)         DEFAULT (0),
  "VAT -13.5 AMT"          NUMBER(20,7)         DEFAULT (0),
  CGST4AMT                 NUMBER(20,7)         DEFAULT (0),
  "SGST3%"                 NUMBER(20,7)         DEFAULT (0),
  "CGST 2.5 AMT"           NUMBER(20,7)         DEFAULT (0),
  "IGST 28 AMT"            NUMBER(20,7)         DEFAULT (0),
  "IGST 12 AMT"            NUMBER(20,7)         DEFAULT (0),
  MCDA                     NUMBER(20,7)         DEFAULT (0),
  FORMULA_LABOUR           NUMBER(20,7)         DEFAULT (0),
  NETDIFF                  NUMBER(20,7)         DEFAULT (0),
  REFDOCNETPAY             NUMBER(20,7)         DEFAULT (0),
  DIFF_MINE_ORP2           NUMBER(20,7)         DEFAULT (0),
  AMTBEFTAX                NUMBER(20,7)         DEFAULT (0),
  DIFF_MINE_ORP1           NUMBER(20,7)         DEFAULT (0),
  "KFC%"                   NUMBER(20,7)         DEFAULT (0),
  KFCA                     NUMBER(20,7)         DEFAULT (0),
  "IGST 0.25%"             NUMBER(20,7)         DEFAULT (0),
  "IGST 0.25 AMT"          NUMBER(20,7)         DEFAULT (0),
  TDSAMT                   NUMBER(20,7)         DEFAULT (0),
  "IGST 5 AMOUNT"          NUMBER(20,7)         DEFAULT (0),
  "INW LOSS%"              NUMBER(20,7)         DEFAULT (0),
  HALLMARK                 NUMBER(20,7)         DEFAULT (0),
  COMPDISC                 NUMBER(20,7)         DEFAULT (0),
  GEMAMT1                  NUMBER(20,7)         DEFAULT (0),
  SETORDTAX                NUMBER(20,7)         DEFAULT (0),
  GEMAMT2                  NUMBER(20,7)         DEFAULT (0),
  "TDS 194 C - 2%"         NUMBER(20,7)         DEFAULT (0),
  "TDS 195 Amount"         NUMBER(20,7)         DEFAULT (0),
  "TDS 194 J"              NUMBER(20,7)         DEFAULT (0),
  "TDS 194 I Amount"       NUMBER(20,7)         DEFAULT (0),
  PREVOTHCHG               NUMBER(20,7)         DEFAULT (0),
  TCDA                     NUMBER(20,7)         DEFAULT (0),
  TPD                      NUMBER(20,7)         DEFAULT (0),
  "DAV-INDT"               NUMBER(20,7)         DEFAULT (0),
  WBD                      NUMBER(20,7)         DEFAULT (0),
  FINDINGAMT               NUMBER(20,7)         DEFAULT (0),
  "TDS 195"                NUMBER(20,7)         DEFAULT (0),
  "TDS 194 IA"             NUMBER(20,7)         DEFAULT (0),
  TCCV                     NUMBER(20,7)         DEFAULT (0),
  MCDV                     NUMBER(20,7)         DEFAULT (0),
  HALLMARKCHG              NUMBER(20,7)         DEFAULT (0),
  "GV-EDT"                 NUMBER(20,7)         DEFAULT (0),
  EDVA                     NUMBER(20,7)         DEFAULT (0),
  SDP                      NUMBER(20,7)         DEFAULT (0),
  METALAMT                 NUMBER(20,7)         DEFAULT (0),
  "TDS 194 C - 1% Amount"  NUMBER(20,7)         DEFAULT (0),
  "TDS 194 C - 1%"         NUMBER(20,7)         DEFAULT (0),
  "TDS 194 K Amount"       NUMBER(20,7)         DEFAULT (0),
  "TDS 194 H"              NUMBER(20,7)         DEFAULT (0),
  LABDISPER                NUMBER(20,7)         DEFAULT (0),
  TCSAMT                   NUMBER(20,7)         DEFAULT (0),
  "EXCHANGE%"              NUMBER(20,7)         DEFAULT (0),
  "TDS 194 C - 2% Amount"  NUMBER(20,7)         DEFAULT (0),
  "TDS 194 K"              NUMBER(20,7)         DEFAULT (0),
  "ST-DISCA"               NUMBER(20,7)         DEFAULT (0),
  MAKING                   NUMBER(20,7)         DEFAULT (0),
  MKTRATE                  NUMBER(20,7)         DEFAULT (0),
  PREVDISC                 NUMBER(20,7)         DEFAULT (0),
  DIAAMT                   NUMBER(20,7)         DEFAULT (0),
  STNAMT                   NUMBER(20,7)         DEFAULT (0),
  "TDS 194 J Amount"       NUMBER(20,7)         DEFAULT (0),
  "TDS 194 IA Amount"      NUMBER(20,7)         DEFAULT (0),
  "TDS 194 H Amount"       NUMBER(20,7)         DEFAULT (0),
  METALFINENESS            NUMBER(20,7)         DEFAULT (0),
  "FORMULA-ROW-2"          NUMBER(20,7)         DEFAULT (0),
  INSCHG                   NUMBER(20,7)         DEFAULT (0),
  FETCHORDTAX              NUMBER(20,7)         DEFAULT (0),
  LABDISAMT                NUMBER(20,7)         DEFAULT (0),
  "TDS 194 I"              NUMBER(20,7)         DEFAULT (0),
  "TDS 194 D Amount"       NUMBER(20,7)         DEFAULT (0),
  "TDS 194 D"              NUMBER(20,7)         DEFAULT (0),
  "FORMULA-ROW-3"          NUMBER(20,7)         DEFAULT (0),
  IRBGST                   NUMBER(20,7)         DEFAULT (0),
  MNTBGST                  NUMBER(20,7)         DEFAULT (0),
  "LABOUR-ADD_CHG"         NUMBER(20,7)         DEFAULT (0),
  "CLP-AMT"                NUMBER(20,7)         DEFAULT (0),
  PER                      NUMBER(20,7)         DEFAULT (0),
  CLP                      NUMBER(20,7)         DEFAULT (0)
)
ON COMMIT PRESERVE ROWS;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
720, 'LOAD-SOURCE-CONFIG-BY-XML', '1', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
719, 'ALLOW-OTHER-VARIANT-IN-RTN-LOSS', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
710, 'PAYMENT-GATEWAY-IN-POS', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
699, 'POS-BARCODE-MRPGEN-DISPLAY-IND', '0', NULL, 0); 
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (724, 'MERGE-STONE-ROWS-IN-STOCK', '0', 0);
COMMIT;

SET DEFINE OFF;
DROP TABLE T_PGD_ATTRIBUTE_PARAMETER;
DROP TABLE T_PGD_ATTRIBUTE_PARAMETER_DTL;
DROP TABLE T_PGD_EMAIL_SETTINGS;
DROP TABLE T_PGD_INQUIRY_DTL;
DROP TABLE T_PGD_MARGIN_DTL;
DROP TABLE T_PGD_MARGIN_HDR;
DROP TABLE T_PGD_MEMO_STOCK;
DROP TABLE T_PGD_OLD_ORDES;
DROP TABLE T_PGD_PARTY_WCGROUP_MAPPING;
DROP TABLE T_PGD_SITE_ATTRIB_CONFIG;
DROP TABLE T_PGD_WISHLIST;


CREATE TABLE T_PGD_ATTRIBUTE_PARAMETER
(
  PK_ID           NUMBER(10),
  DESCRIPTION     VARCHAR2(75 BYTE),
  DATA_TYPE       VARCHAR2(75 BYTE),
  FROM_VALUE      NUMBER(20,7)                  DEFAULT (0),
  TO_VALUE        NUMBER(20,7)                  DEFAULT (0),
  ATTRIB_TYPE_ID  NUMBER(10)                    DEFAULT (0)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_ATTRIBUTE_PARAMETER_DTL
(
  PK_ID            NUMBER(10),
  PARAMETER_ID     NUMBER(10),
  ATTRIB_ID        NUMBER(10),
  SORT_IND         NUMBER(3),
  IMAGE_FILE_NAME  VARCHAR2(255 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_MARGIN_HDR
(
  MARGIN_ID             NUMBER(10),
  MARGIN_DESC           VARCHAR2(75 BYTE),
  PARTY_ID              NUMBER(10),
  CREATION_DATE         DATE,
  MODIFY_DATE           DATE,
  MARGIN_PER            NUMBER(20,7)            DEFAULT (0),
  TYPE_LIST             VARCHAR2(1500 BYTE),
  SHAPE_LIST            VARCHAR2(1500 BYTE),
  COLOR_LIST            VARCHAR2(1500 BYTE),
  CLARITY_LIST          VARCHAR2(1500 BYTE),
  CUT_LIST              VARCHAR2(1500 BYTE),
  FROM_WEIGHT           NUMBER(20,7)            DEFAULT (0),
  TO_WEIGHT             NUMBER(20,7)            DEFAULT (0),
  FROM_PRICE            NUMBER(20,7)            DEFAULT (0),
  TO_PRICE              NUMBER(20,7)            DEFAULT (0),
  STATUS                NUMBER(1)               DEFAULT (0),
  PMARGIN_ID            NUMBER(10)              DEFAULT (0),
  SHAPE_FROM_SORT_ID    NUMBER(10)              DEFAULT (0),
  SHAPE_TO_SORT_ID      NUMBER(10)              DEFAULT (0),
  CLARITY_FROM_SORT_ID  NUMBER(10)              DEFAULT (0),
  CLARITY_TO_SORT_ID    NUMBER(10)              DEFAULT (0),
  COLOR_FROM_SORT_ID    NUMBER(10)              DEFAULT (0),
  COLOR_TO_SORT_ID      NUMBER(10)              DEFAULT (0),
  FCOLOR_FROM_SORT_ID   NUMBER(10)              DEFAULT (0),
  FCOLOR_TO_SORT_ID     NUMBER(10)              DEFAULT (0),
  CUT_FROM_SORT_ID      NUMBER(10)              DEFAULT (0),
  CUT_TO_SORT_ID        NUMBER(10)              DEFAULT (0),
  DATE_MODIFY           VARCHAR2(150 BYTE),
  MARGIN_REMARKS        VARCHAR2(150 BYTE),
  OVERWRITTEN_ON        VARCHAR2(150 BYTE),
  OVERWRITTEN_REMARKS   VARCHAR2(150 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_MARGIN_DTL
(
  PK_ID           NUMBER(10),
  MARGIN_ID       NUMBER(10),
  ATTRIB_ID_LIST  VARCHAR2(4000 BYTE),
  FROM_WEIGHT     NUMBER(20,7)                  DEFAULT (0),
  TO_WEIGHT       NUMBER(20,7)                  DEFAULT (0),
  FROM_PRICE      NUMBER(20,7)                  DEFAULT (0),
  TO_PRICE        NUMBER(20,7)                  DEFAULT (0)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_WISHLIST
(
  PK_ID             NUMBER(10),
  PARTY_ID          NUMBER(10),
  PARTY_CONTACT_ID  NUMBER(10),
  BRANCH_ID         NUMBER(10),
  STOCK_CODE        VARCHAR2(75 BYTE),
  WISHLIST_TYPE     NUMBER(1),
  CREATION_DATE     DATE,
  VALIDATE_DATE     DATE
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_INQUIRY_DTL
(
  PK_ID             NUMBER(10),
  PARTY_ID          NUMBER(10),
  PARTY_CONTACT_ID  NUMBER(10),
  BRANCH_ID         NUMBER(10),
  REMARKS           VARCHAR2(1500 BYTE),
  INQUIRER_NAME     VARCHAR2(250 BYTE),
  INQUIRER_EMAIL    VARCHAR2(250 BYTE),
  CREATION_DATE     DATE                        DEFAULT SYSDATE,
  STATUS            NUMBER(1),
  FILE_NAME         VARCHAR2(500 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_EMAIL_SETTINGS
(
  PK_ID        NUMBER(10),
  EMAIL_TYPE   VARCHAR2(75 BYTE),
  TO_ADDRESS   VARCHAR2(1200 BYTE),
  CC_ADDRESS   VARCHAR2(1200 BYTE),
  BCC_LIST     VARCHAR2(1200 BYTE),
  SUBJECT      VARCHAR2(100 BYTE),
  LOCATION_ID  NUMBER(10)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_OLD_ORDES
(
  TRANS_ID                NUMBER(10),
  TRANS_CATEGORY_LINK_ID  NUMBER(10)            NOT NULL,
  DOC_NO                  VARCHAR2(50 BYTE),
  TRANS_DATE              DATE,
  TRANS_TYPE              VARCHAR2(3 BYTE)      NOT NULL,
  TRANS_CATEGORY          VARCHAR2(100 BYTE),
  PARTY_CODE              VARCHAR2(50 BYTE),
  PARTY_NAME              VARCHAR2(250 BYTE),
  SALES_AGENT             VARCHAR2(601 BYTE),
  BRANCH                  VARCHAR2(100 BYTE),
  BILL_ADD_1              VARCHAR2(250 BYTE),
  BILL_ADD_2              VARCHAR2(100 BYTE),
  BILL_ADDRESS            VARCHAR2(4000 BYTE),
  BILL_CITY               VARCHAR2(3999 BYTE),
  BILL_STATE              VARCHAR2(3999 BYTE),
  BILL_COUNTRY            VARCHAR2(3999 BYTE),
  BILL_ZIPCODE            VARCHAR2(20 BYTE),
  BILL_EMAIL              VARCHAR2(100 BYTE),
  PARTY_EMAIL             VARCHAR2(100 BYTE),
  FIRST_NAME              VARCHAR2(100 BYTE),
  LAST_NAME               VARCHAR2(100 BYTE),
  SHIP_ADD_1              VARCHAR2(250 BYTE),
  SHIP_ADD_2              VARCHAR2(100 BYTE),
  SHIP_ADDRESS            VARCHAR2(4000 BYTE),
  SHIP_CITY               VARCHAR2(3999 BYTE),
  SHIP_STATE              VARCHAR2(3999 BYTE),
  SHIP_COUNTRY            VARCHAR2(3999 BYTE),
  SHIP_ZIPCODE            VARCHAR2(20 BYTE),
  STOCK_CODE              VARCHAR2(75 BYTE),
  QUANTITY                NUMBER(20,7),
  TRANS_RATE              NUMBER(20,7),
  TRANS_AMOUNT            NUMBER(20,7)          NOT NULL,
  RETAIL_PRICE            NUMBER(20,7)          NOT NULL,
  TRANS_REMARK            VARCHAR2(500 BYTE),
  PARTY_ID                NUMBER(10),
  PARTY_CONTACT_ID        NUMBER(10),
  BRANCH_ID               NUMBER(10),
  TOTAL_AMOUNT            NUMBER,
  DIAMOND_SHAPE           VARCHAR2(4000 BYTE),
  DIAMOND_COLOR           VARCHAR2(4000 BYTE),
  DIAMOND_SIZE            VARCHAR2(4000 BYTE),
  DIAMOND_CLARITY         VARCHAR2(4000 BYTE),
  FAMILY_COLOR            VARCHAR2(4000 BYTE),
  CERTIFICATION_LAB       VARCHAR2(250 BYTE),
  DIAMOND_CUT             VARCHAR2(4000 BYTE),
  DIAMOND_CUT_CODE        VARCHAR2(4000 BYTE),
  POLISH_NAME             VARCHAR2(4000 BYTE),
  POLISH_NAME_CODE        VARCHAR2(4000 BYTE),
  SYMMETRY_NAME           VARCHAR2(4000 BYTE),
  SYMMETRY_NAME_CODE      VARCHAR2(4000 BYTE),
  FLUORESCENCE_NAME       VARCHAR2(4000 BYTE),
  GIRDLE                  VARCHAR2(4000 BYTE),
  LENGTH                  VARCHAR2(4000 BYTE),
  WIDTH                   VARCHAR2(4000 BYTE),
  HEIGHT                  VARCHAR2(4000 BYTE),
  DEPTH_PERCENT           VARCHAR2(4000 BYTE),
  DEPTH                   VARCHAR2(4000 BYTE),
  TABLE_PERCENT           VARCHAR2(4000 BYTE),
  CULET                   VARCHAR2(4000 BYTE),
  NATIVE_SHADE            VARCHAR2(4000 BYTE),
  SERIES                  VARCHAR2(4000 BYTE),
  HEARTS_ARROWS           VARCHAR2(4000 BYTE),
  CERTIFICATE_NO          VARCHAR2(100 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_SITE_ATTRIB_CONFIG
(
  ATTRIB_TYPE_ID       NUMBER,
  ATTRIB_ID            NUMBER,
  ATTRIB_CODE          VARCHAR2(75 BYTE),
  ATTRIB_DESC          VARCHAR2(250 BYTE),
  PATTRIB_ID           NUMBER,
  PATTRIB_DESC         VARCHAR2(100 BYTE),
  SORT_IND             NUMBER,
  IMAGE_FILE_NAME      VARCHAR2(150 BYTE),
  IMAGE_FILE_NAME_APP  VARCHAR2(200 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_MEMO_STOCK
(
  SESSION_ID  NUMBER(10),
  STOCK_CODE  VARCHAR2(75 BYTE),
  MEMO_TYPE   NUMBER(1)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE TABLE T_PGD_PARTY_WCGROUP_MAPPING
(
  PK_ID       NUMBER(10)                        DEFAULT (0),
  PARTY_ID    NUMBER(10)                        DEFAULT (0),
  WCGROUP_ID  NUMBER(10)                        DEFAULT (0)
)
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


ALTER TABLE T_PGD_INQUIRY_DTL ADD (
  CONSTRAINT PK_PGD_INQUIRY
 PRIMARY KEY
 (PK_ID));


ALTER TABLE T_PGD_WISHLIST ADD (
  CONSTRAINT FK_PID_PW_PM 
 FOREIGN KEY (PARTY_ID) 
 REFERENCES T_PARTY_MASTER (PARTY_ID));

ALTER TABLE T_PGD_WISHLIST ADD (
  CONSTRAINT FK_PCID_PW_PM 
 FOREIGN KEY (PARTY_CONTACT_ID) 
 REFERENCES T_PARTY_CONTACT_MASTER (PARTY_CONTACT_ID));

ALTER TABLE T_PGD_WISHLIST ADD (
  CONSTRAINT FK_BID_PW_PBM 
 FOREIGN KEY (BRANCH_ID) 
 REFERENCES T_PARTY_BRANCH_DETAILS (PK_ID));


ALTER TABLE T_PGD_INQUIRY_DTL ADD (
  CONSTRAINT FK_INQ_PB 
 FOREIGN KEY (BRANCH_ID) 
 REFERENCES T_PARTY_BRANCH_DETAILS (PK_ID));

ALTER TABLE T_PGD_INQUIRY_DTL ADD (
  CONSTRAINT FK_INQ_PM 
 FOREIGN KEY (PARTY_ID) 
 REFERENCES T_PARTY_MASTER (PARTY_ID));

ALTER TABLE T_PGD_INQUIRY_DTL ADD (
  CONSTRAINT FK_INQ_PCM 
 FOREIGN KEY (PARTY_CONTACT_ID) 
 REFERENCES T_PARTY_CONTACT_MASTER (PARTY_CONTACT_ID));

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 726, 'CHECK-CSC-FIRST-IN-STD-PO-UTILITY', '0', NULL, 0); 
COMMIT;
CREATE TABLE T_PG_REPORT_DATA
(
  WCGROUP_ID         NUMBER(10),
  PARTY_ID           NUMBER(10),
  WC_ID              NUMBER(10),
  LOCATION_ID        NUMBER(10),
  STOCK_ID           NUMBER(10),
  MAIN_VARIANT_ID    NUMBER(10),
  STATE              VARCHAR2(5 BYTE),
  VARIANT_ID         NUMBER(10),
  BATCH_ID           NUMBER(10),
  STOCK_CODE         VARCHAR2(75 BYTE),
  CS_ID              NUMBER(10),
  SOR_TRANS_ITEM_ID  NUMBER(10),
  OWNER_PARTY_ID     NUMBER(10),
  STOCK_STATUS_ID    NUMBER(10),
  QUANTITY           NUMBER(23,5),
  QUANTITY_1         NUMBER(23,5),
  STOCK_VALUE        NUMBER(23,5),
  LABOUR_VALUE       NUMBER(23,5),
  SESSION_ID         NUMBER(10)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE INDEX TPRD_IDX_1 ON T_PG_REPORT_DATA
(SESSION_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;
CREATE TABLE ORDER_STATUS_TEMP
(
  TRANS_ID               NUMBER(10),
  BATCH_DATE             DATE,
  ORDER_LOCATION_CODE    VARCHAR2(750 BYTE),
  CLIENT_REQUESTED_DATE  DATE,
  BUNCH_CREATED_DATE     DATE,
  BUYER_NAME             VARCHAR2(750 BYTE),
  METAL_TYPE             VARCHAR2(750 BYTE),
  PO_NO                  VARCHAR2(750 BYTE),
  SHIPMENT_DATE          DATE,
  DIAMOND_DATE           DATE,
  TRANS_CATEGORY         VARCHAR2(750 BYTE),
  REGION                 VARCHAR2(3999 BYTE),
  DOC_NO                 VARCHAR2(750 BYTE),
  TRANS_DATE             DATE                   NOT NULL,
  PARTY_NAME             VARCHAR2(750 BYTE),
  PARTY_CODE             VARCHAR2(750 BYTE),
  PO                     VARCHAR2(750 BYTE),
  SALES_PERSON           VARCHAR2(750 BYTE),
  GRADING_INSTRUCTION    VARCHAR2(750 BYTE),
  ORDER_QUANTITY         NUMBER(20,7),
  INV_QTY                NUMBER(20,7),
  CNCL_QTY               NUMBER(20,7),
  BAG_QTY                NUMBER(20,7),
  BALANCE_BAG_QTY        NUMBER(20,7),
  BUNCH_QTY              NUMBER(20,7),
  BALANCE_BUNCH_QTY      NUMBER(20,7),
  CLOSE_QTY              NUMBER(20,7),
  BALANCE_QTY            NUMBER(20,7)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;
ALTER TABLE T_STOCK_BATCH_MISC_INFO ADD SETTING_TYPE_ID NUMBER(10);

ALTER TABLE T_STOCK_BATCH_MISC_INFO ADD (
  CONSTRAINT PK_SBMI_SBD
  PRIMARY KEY
  (BATCH_ID)
  ENABLE VALIDATE);
UPDATE T_CONFIG_QUERY_SETTING SET QRY_FILE_NAME = REPLACE(QRY_FILE_NAME,'.XML','.xml') WHERE QRY_FETCH_IND = 'F';
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING )
VALUES ( 737, 'MERGE-METAL-IN-STOCK', '0', NULL, 0); 
COMMIT;
CREATE TABLE T_PARTY_WASTAGE_LABOUR
(
    PK_ID           NUMBER(10),
    PARTY_ID        NUMBER(10),
    OPERATION_ID    NUMBER(10),
    WASTAGE_PER     NUMBER(20,7),
    LABOUR_RATE     NUMBER(20,7)
) TABLESPACE SEA_TB_TRANS; 
ALTER TABLE T_PARTY_MASTER ADD CREATION_TIME DATE;
ALTER TABLE T_MAIL_TEMPLATE
MODIFY (TO_EMAIL VARCHAR2(500 BYTE), TO_CCEMAIL VARCHAR2(500 BYTE), EMAIL_SUBJECT VARCHAR2(2000 BYTE), EMAIL_BODY VARCHAR2(3200 BYTE));

UPDATE T_MISC_COMMON_DATA_MASTER SET FROM_DATE = TO_DATE(DATA_CODE,'DD/MM/YYYY') WHERE DATA_TYPE_ID = 2216;
COMMIT;
CREATE GLOBAL TEMPORARY TABLE GT_FTDO
(
  "FATransDtlID"    NUMBER(10),
  "PartyID"         NUMBER(10),
  "AdjModeInd"      NUMBER(10),
  "ItemGroupID"     NUMBER(10),
  "StockID"         NUMBER(10),
  "VariantID"       NUMBER(10),
  "VariantName"     VARCHAR2(100),
  "Quantity"        NUMBER(20,7),
  "ItemRate"        NUMBER(20,7),
  "ItemAmount"      NUMBER(20,7),
  "StockValue"      NUMBER(20,7),
  "ReverseModeInd"  NUMBER(1),
  "RecordStatus"    VARCHAR2(1)
)
ON COMMIT DELETE ROWS
NOCACHE;

CREATE TABLE T_TEMP_RC
(
  PARTY_ID          NUMBER(10),
  PARTY_NAME        VARCHAR2(100),
  ACCOUNT_ID        NUMBER(10),
  ACCOUNT_SYS_CODE  VARCHAR2(10),
  ITEM_GROUP_ID     NUMBER(10),
  ITEM_GROUP        VARCHAR2(100),
  METAL_OP          NUMBER(20,7),
  METAL_CURR        NUMBER(20,7),
  METAL_RC          NUMBER(20,7),
  METAL_BAL         NUMBER(20,7),
  LEDGER_OP         NUMBER(20,7),
  LEDGER_CURR       NUMBER(20,7),
  LEDGER_RC         NUMBER(20,7),
  LEDGER_BAL        NUMBER(20,7),
  CALL_MODE_IND     NUMBER(1),
  GUID              VARCHAR2(50)
)
TABLESPACE SEA_TB_MISC;

CREATE UNIQUE INDEX UNQ_RC_GUID ON T_TEMP_RC(GUID);

CREATE TABLE T_TEMP_FTDO
(
  "ItemGroupID"  NUMBER(10) DEFAULT 0,
  "ItemGroup"    VARCHAR2(100),
  "Quantity"     NUMBER(20,7) DEFAULT 0,
  "ItemRate"     NUMBER(20,7) DEFAULT 0,
  "ItemAmount"   NUMBER(20,7) DEFAULT 0,
  "Identity"     VARCHAR2(100),
  "Guid"         VARCHAR2(50)
)
TABLESPACE SEA_TB_MISC;

CREATE UNIQUE INDEX UNQ_FTDO_IDGUID ON T_TEMP_FTDO("Identity", "Guid");
CREATE GLOBAL TEMPORARY TABLE GT_ITEM_XML
(
  FILE_POINTER       VARCHAR2(100 BYTE),
  ITEM_DATA          CLOB
)
ON COMMIT PRESERVE ROWS
NOCACHE;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (740, 'RETURN-ITEM-DATA-IN-XML-TABLE', '0', 0);
COMMIT;

CREATE TABLE T_USER_PARTY_MAPPING
(
    PK_ID           NUMBER(10),
    EMPLOYEE_ID     NUMBER(10),
    PARTY_ID        NUMBER(10),
    PARTY_TYPE_ID   NUMBER(10)
);

CREATE UNIQUE INDEX PK_UPM_PKID ON T_USER_PARTY_MAPPING (PK_ID);

ALTER TABLE T_USER_PARTY_MAPPING ADD CONSTRAINT PK_UPM_PKID PRIMARY KEY (PK_ID);
               
ALTER TABLE T_USER_PARTY_MAPPING ADD CONSTRAINT FK_UPM_EID_AEM FOREIGN KEY (EMPLOYEE_ID) REFERENCES T_AUTH_EMPLOYEE_MASTER (EMPLOYEE_ID);

ALTER TABLE T_USER_PARTY_MAPPING ADD CONSTRAINT FK_UPM_PID_PAM FOREIGN KEY (PARTY_ID) REFERENCES T_PARTY_MASTER (PARTY_ID);

ALTER TABLE T_USER_PARTY_MAPPING ADD CONSTRAINT FK_UPM_PTID_CFD FOREIGN KEY (PARTY_TYPE_ID) REFERENCES T_CONFIG_FIXED_DATA (CONFIG_ID);

CREATE SEQUENCE USER_PARTY_MAPPING
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD TOLERANCE_UP NUMBER(20,7);
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR ADD TOLERANCE_DOWN NUMBER(20,7);

ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD TOLERANCE_UP NUMBER(20,7);
ALTER TABLE T_FORMULA_WASTAGE_N_LABOUR_BKP ADD TOLERANCE_DOWN NUMBER(20,7);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,CAN_CHANGE_SETTING ) 
VALUES ( 743, 'RECO-ADJ-GRWT-TOLERANCE', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES (744, 'SHOW-VARIANT-ATTRIB-FILTER-IN-PROCUREMENT', '0', NULL, 0);
COMMIT;
UPDATE T_CONFIG_FIXED_DATA SET CONFIG_VALUE = 'KEEP' WHERE CONFIG_ID = 1446;
COMMIT;
INSERT INTO T_CONFIG_GLOBAL 
(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES (745, 'KEEP-ITEM-IN-BATCH-AFTER-SLG', '0', NULL, 0);
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 748, 'CHECK-VALID-UP-TO-DATE-IN-INWARD', '0', NULL, 0); 
COMMIT;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES (749, 'CHECK-BATCH-QC-IN-SLG-AND-ILO', '0', NULL, 0); 
COMMIT;
CREATE TABLE T_ORD_CATEGORY_AMOUNT
(
  PK_ID         NUMBER(10),
  TRANSCATG_ID  NUMBER(10),
  AMOUNT        NUMBER(23,7),
  PERCENTAGE    NUMBER(23,7),
  ROW_STATUS    NUMBER(1),
  REMARK        VARCHAR2(100 BYTE)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE UNIQUE INDEX PK_TOCA ON T_ORD_CATEGORY_AMOUNT
(PK_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL; 

CREATE UNIQUE INDEX UNQ_TOCA ON T_ORD_CATEGORY_AMOUNT
(TRANSCATG_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL; 

ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT NN_OCA_AMT
 CHECK (AMOUNT IS NOT NULL AND AMOUNT >= 0));

ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT NN_OCA_PER
 CHECK (PERCENTAGE IS NOT NULL AND PERCENTAGE >= 0));

ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT CHK_AMT_PER_INTEGRITY
 CHECK (
        (PK_ID = 0) OR
        (AMOUNT > 0 AND PERCENTAGE = 0 ) OR
        (AMOUNT = 0 AND PERCENTAGE > 0 ) 
    ));

ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT PK_ID_OCA
 PRIMARY KEY
 (PK_ID));

ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT UNQ_TOCA
 UNIQUE (TRANSCATG_ID)
    USING INDEX 
    TABLESPACE SEA_TB_MISC
    PCTFREE    10
    INITRANS   2
    MAXTRANS   255
    STORAGE    (
                INITIAL          64K
                NEXT             1M
                MINEXTENTS       1
                MAXEXTENTS       2147483645
                PCTINCREASE      0
               ));


ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT FK_OCA_TC 
 FOREIGN KEY (TRANSCATG_ID) 
 REFERENCES T_CONFIG_TRANS_CATEGORY_LINK (TRANS_CATEGORY_LINK_ID));
DROP SEQUENCE T_ORD_CATEGORY_AMOUNT;

CREATE SEQUENCE ORD_CATEGORY_AMOUNT
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
  
ALTER TABLE T_ORD_CATEGORY_AMOUNT ADD (
  CONSTRAINT UNQ_TOCA
 UNIQUE (TRANSCATG_ID));

CREATE TABLE T_BATCH_QC
(
  PK_ID        NUMBER(10),
  BATCH_ID     NUMBER(10),
  QC_PARAM_ID  NUMBER(10)
);

CREATE UNIQUE INDEX PK_BQ_PKID ON T_BATCH_QC(PK_ID);

ALTER TABLE T_BATCH_QC ADD (CONSTRAINT FK_BQ_BATCHID  FOREIGN KEY (BATCH_ID)  REFERENCES T_STOCK_BATCH_DTL (BATCH_ID));

CREATE SEQUENCE BATCH_QC
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES (750, 'SHOW-PARTY-FROM-USER-PARTY-MAPPING', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_PLANNER_RANGE_ALLOCATION_DTL ADD MIN_VALUE NUMBER(23,5) DEFAULT 0 CONSTRAINT NN_PRAD_MINV NOT NULL;
ALTER TABLE T_PLANNER_RANGE_ALLOCATION_DTL ADD MAX_VALUE NUMBER(23,5) DEFAULT 0 CONSTRAINT NN_PRAD_MAXV NOT NULL;
ALTER TABLE T_PLANNER_RANGE_ALLOCATION_DTL ADD AVG_VALUE NUMBER(23,5) DEFAULT 0 CONSTRAINT NN_PRAD_AVGV NOT NULL;
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
751, 'GET-ORDERADVANCE-APPROVAL', '1', NULL, 0); 
COMMIT;

INSERT INTO T_CONFIG_GLOBAL
(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES (752, 'CHECK-METAL-RATE-TOLERANCE', '0', NULL, 0);
COMMIT;
ALTER TABLE T_TEMP_REPORT MODIFY FIELD11 VARCHAR2(500);

CREATE TABLE T_TRANS_ITEM_SERVICING_DTL
(
  SERVICE_ID             NUMBER(10),
  PSERVICE_ID            NUMBER(10),
  TRANS_ITEM_ID          NUMBER(10),
  SERVICE_COUNTER        NUMBER(3),
  SERVICE_ALLOC_DATE     DATE,
  SERVICE_START_DATE     DATE,
  SERVICE_END_DATE       DATE,
  SERVICE_ENGINEER_ID    NUMBER(10),
  SERVICE_STATUS         NUMBER(1) DEFAULT 0, --0=PENDING,1=COMPLETED SATISFIED,2=COMPLETED UNSATISFIED,-1=COMPLAINT RAISED,3=POST PONDED
  SERVICE_SATIS_NO       NUMBER(6),
  SERVICE_UNSATIS_NO     NUMBER(6),
  SERVICE_RATING         NUMBER(1), --RATING OUT OF 5. 5 BEING BEST,1 BEING WORST
  SERVICE_REMARK         VARCHAR2(500)
)
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


ALTER TABLE T_TRANS_ITEM_SERVICING_DTL ADD (
  CONSTRAINT PK_TISD
  PRIMARY KEY
  (SERVICE_ID)
);

ALTER TABLE T_TRANS_ITEM_SERVICING_DTL ADD (
  CONSTRAINT FK_TISD_TID_TID 
  FOREIGN KEY (TRANS_ITEM_ID) 
  REFERENCES T_TRANS_ITEM_DTL (TRANS_ITEM_ID)
  ENABLE VALIDATE
);

CREATE SEQUENCE TRANS_ITEM_SERVICING_DTL
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  NOORDER;

ALTER TABLE T_MISC_ADDRESS_MASTER ADD OTP_VALID_TILL DATE;
CREATE TABLE T_STOCK_BATCH_WEIGHING_DETAILS
(
    PK_ID               NUMBER(10)  DEFAULT(0),
    BATCH_ID            NUMBER(10)  DEFAULT(0),
    GROSS_WEIGHT        NUMBER(20,7)DEFAULT(0),
    ISSUE_TRANS_ID      NUMBER(10)  DEFAULT(0),
    RETURN_TRANS_ID     NUMBER(10)  DEFAULT(0),
    STATUS              NUMBER(1)   DEFAULT(0),
    SESSION_ID          NUMBER(10)  DEFAULT(0),
    ENYRY_DATE          DATE        DEFAULT(SYSDATE)    
) TABLESPACE SEA_TB_TRANS;


ALTER TABLE T_STOCK_BATCH_WEIGHING_DETAILS ADD CONSTRAINT PK_SBWD PRIMARY KEY(PK_ID);
ALTER TABLE T_STOCK_BATCH_WEIGHING_DETAILS ADD CONSTRAINT FK_SBWD_BID FOREIGN KEY(BATCH_ID) REFERENCES T_STOCK_BATCH_DTL(BATCH_ID);
ALTER TABLE T_STOCK_BATCH_WEIGHING_DETAILS ADD CONSTRAINT FK_SBWD_ISSID FOREIGN KEY(ISSUE_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);
ALTER TABLE T_STOCK_BATCH_WEIGHING_DETAILS ADD CONSTRAINT FK_SBWD_RTNID FOREIGN KEY(RETURN_TRANS_ID) REFERENCES T_TRANS_HDR(TRANS_ID);



CREATE SEQUENCE STOCK_BATCH_WEIGHING_DETAILS
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
DROP TABLE T_TRANS_ITEM_SERVICING_DTL;


CREATE TABLE T_TRANS_ITEM_SERVICING_DTL
(
  SERVICE_ID           NUMBER(10),
  PSERVICE_ID          NUMBER(10),
  TRANS_ITEM_ID        NUMBER(10),
  SERVICE_COUNTER      NUMBER(3),
  SERVICE_PREF_DATE   DATE,
  SERVICE_ALLOC_DATE   DATE,
  SERVICE_START_DATE   DATE,
  SERVICE_END_DATE     DATE,
  SERVICE_TEAM_ID      NUMBER(10),
  NO_OF_KITS           NUMBER(2),
  CUST_ACCEPTANCE       NUMBER(1),
  TEAM_ACCEPTANCE       NUMBER(1),
  SERVICE_STATUS       NUMBER(6)                DEFAULT 0,
  SERVICE_SATIS_NO     NUMBER(6),
  SERVICE_UNSATIS_NO   NUMBER(6),
  SERVICE_RATING       NUMBER(1),
  SERVICE_REMARK       VARCHAR2(500 BYTE)
)
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX PK_TISD ON T_TRANS_ITEM_SERVICING_DTL
(SERVICE_ID)
LOGGING;

ALTER TABLE T_TRANS_ITEM_SERVICING_DTL ADD (
  CONSTRAINT PK_TISD
  PRIMARY KEY
  (SERVICE_ID)
  USING INDEX PK_TISD
  ENABLE VALIDATE);

ALTER TABLE T_TRANS_ITEM_SERVICING_DTL ADD (
  CONSTRAINT FK_TISD_TID_TID 
  FOREIGN KEY (TRANS_ITEM_ID) 
  REFERENCES T_TRANS_ITEM_DTL (TRANS_ITEM_ID)
  ENABLE VALIDATE);

CREATE TABLE T_SHIFT_WCGROUP_LINK
(
  PK_ID         NUMBER(10),
  SHIFT_ID      NUMBER(10),
  WCGROUP_ID    NUMBER(10),
  ROW_STATUS    NUMBER(1)
)
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE UNIQUE INDEX PK_SWL ON T_SHIFT_WCGROUP_LINK
(PK_ID)
LOGGING;

ALTER TABLE T_SHIFT_WCGROUP_LINK ADD (
  CONSTRAINT PK_SWL
  PRIMARY KEY
  (PK_ID)
  USING INDEX PK_SWL
  ENABLE VALIDATE);

ALTER TABLE T_SHIFT_WCGROUP_LINK ADD (
  CONSTRAINT UNQ_SWL_1
  UNIQUE (SHIFT_ID,WCGROUP_ID,ROW_STATUS));

CREATE SEQUENCE SHIFT_WCGROUP_LINK
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
 
CREATE TABLE T_MISC_ZONE_HDR
(
  ZONE_ID         NUMBER(10),
  ZONE_NAME      VARCHAR2(100),
  ROW_STATUS    NUMBER(1)
)
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

ALTER TABLE T_MISC_ZONE_HDR ADD (
  CONSTRAINT PK_MZH
  PRIMARY KEY
  (ZONE_ID));


CREATE TABLE T_MISC_ZONE_DTL
(
  PIN_CODE     NUMBER(10),
  ZONE_ID   NUMBER(10)
)
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


ALTER TABLE T_MISC_ZONE_DTL ADD (
  CONSTRAINT PK_MZD
  PRIMARY KEY
  (PIN_CODE)
  ENABLE VALIDATE);

CREATE TABLE T_MISC_ZONE_TEAM_LINK
(
  PK_ID         NUMBER(10),
  ZONE_ID         NUMBER(10),
  WCGROUP_ID      NUMBER(10)
)
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

ALTER TABLE T_MISC_ZONE_TEAM_LINK ADD (
  CONSTRAINT PK_MZTL
  PRIMARY KEY
  (PK_ID));


CREATE SEQUENCE MISC_ZONE_HDR
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

CREATE SEQUENCE MISC_ZONE_DTL
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

CREATE SEQUENCE MISC_ZONE_TEAM_LINK
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
 
ALTER TABLE T_SHIFT_MASTER ADD START_TIME DATE;
ALTER TABLE T_SHIFT_MASTER ADD END_TIME DATE;
ALTER TABLE T_TRANS_ITEM_SERVICING_DTL ADD PREF_TIME NUMBER(2);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING ) 
VALUES ( 753, 'CHECK-BATCH-WEIGHING-DETAILS', '0', NULL, 0); 
COMMIT;
ALTER TABLE T_DAILY_TRANS ADD REF_POSTING_AMOUNT NUMBER (23,5) ;
ALTER TABLE T_DAILY_TRANS ADD STOCK_ID NUMBER (10) ;
CREATE TABLE T_OPERATION_WC_MAPPING
(
    PK_ID                   NUMBER(10),
    OPERATION_ID            NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_OPID NOT NULL,
    WC_ID                   NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_WCID NOT NULL,
    BARCODE                 VARCHAR2(50),
    RTN_TRANS_ITEM_ID       NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_RTID NOT NULL,
    CREATED_SESSION_ID      NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_CSID NOT NULL,
    UPDATED_SESSION_ID      NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_USID NOT NULL
);

CREATE UNIQUE INDEX PK_OWM_PKID ON T_OPERATION_WC_MAPPING (PK_ID);

ALTER TABLE T_OPERATION_WC_MAPPING ADD CONSTRAINT PK_OWM_PKID PRIMARY KEY (PK_ID);

ALTER TABLE T_OPERATION_WC_MAPPING ADD (CONSTRAINT FK_OWM_OPID_OMID  FOREIGN KEY (OPERATION_ID) REFERENCES T_OPERATION_MASTER (OPERATION_ID));

ALTER TABLE T_OPERATION_WC_MAPPING ADD (CONSTRAINT FK_OWM_WCID_WMID  FOREIGN KEY (WC_ID) REFERENCES T_WORKCENTER_MASTER (WC_ID));

CREATE SEQUENCE OPERATION_WC_MAPPING
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

ALTER TABLE T_OPERATION_WC_MAPPING ADD RTN_TRANS_ITEM_BOM_ID NUMBER(10) DEFAULT 0 CONSTRAINT NN_OWM_RTIB NOT NULL;
ALTER TABLE GT_TID ADD "Pieces1003" NUMBER(10);
ALTER TABLE GT_TID ADD "Weight1003" NUMBER(20,7);
ALTER TABLE GT_TID_EXTD ADD "Purity" NUMBER(3);

ALTER TABLE T_SESSION_ACTIVITY ADD PK_ID NUMBER(10);

CREATE SEQUENCE SESSION_ACTIVITY
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_SESSION_ACTIVITY SET PK_ID = SESSION_ACTIVITY.NEXTVAL;

COMMIT;

ALTER TABLE T_SESSION_ACTIVITY ADD CONSTRAINT PK_SESSION_ACTIVITY PRIMARY KEY(PK_ID); 

--======================================
ALTER TABLE T_TRANS_ITEM_MISC_INFO_DTL ADD CONSTRAINT PK_TRANS_ITEM_MISC_INFO_DTL PRIMARY KEY(TRANS_ITEM_ID);
--======================================

CREATE SEQUENCE TRANS_ITEM_MISC_INFO
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_TRANS_ITEM_MISC_INFO SET TRANS_ITEM_ID = TRANS_ITEM_MISC_INFO.NEXTVAL;

COMMIT;

ALTER TABLE T_TRANS_ITEM_MISC_INFO ADD CONSTRAINT PK_TRANS_ITEM_MISC_INFO PRIMARY KEY(TRANS_ITEM_ID);

--=================


ALTER TABLE T_TRANS_REF_ISSUE ADD PK_ID NUMBER(10);

CREATE SEQUENCE TRANS_REF_ISSUE
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_TRANS_REF_ISSUE SET PK_ID = TRANS_REF_ISSUE.NEXTVAL;

COMMIT;

ALTER TABLE T_TRANS_REF_ISSUE ADD CONSTRAINT PK_TRANS_REF_ISSUE PRIMARY KEY(PK_ID); 

--==================

ALTER TABLE T_TRANS_ITEM_BOM_FORMULA_DTL ADD CONSTRAINT PK_TRANS_ITEM_BOM_FORMULA_DTL PRIMARY KEY(TRANS_ITEM_BOM_FORMULA_DTL_ID);

--=====================


ALTER TABLE T_TRANS_INWARD_ISSUE ADD PK_ID NUMBER(10);

CREATE SEQUENCE TRANS_INWARD_ISSUE
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_TRANS_INWARD_ISSUE SET PK_ID = TRANS_INWARD_ISSUE.NEXTVAL;

COMMIT;

ALTER TABLE T_TRANS_INWARD_ISSUE ADD CONSTRAINT PK_TRANS_INWARD_ISSUE PRIMARY KEY(PK_ID);
--=============

ALTER TABLE T_TRANS_HDR_DISPATCH_DTL ADD CONSTRAINT PK_TRANS_HDR_DISPATCH_DTL PRIMARY KEY(TRANS_ID);

--============

ALTER TABLE T_TRANS_CHECK_DUPLICATE ADD PK_ID NUMBER(10);

CREATE SEQUENCE TRANS_CHECK_DUPLICATE
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_TRANS_CHECK_DUPLICATE SET PK_ID = TRANS_CHECK_DUPLICATE.NEXTVAL;

COMMIT;

ALTER TABLE T_TRANS_CHECK_DUPLICATE ADD CONSTRAINT PK_TRANS_CHECK_DUPLICATE PRIMARY KEY(PK_ID); 

--==================

TRUNCATE TABLE T_DEBUG;
TRUNCATE TABLE T_SESSION_REPORT_EXECUTION;
TRUNCATE TABLE T_SESSION_REPORT_ACTIVITY;
TRUNCATE TABLE T_SESSION_DELETE_LOG;


ALTER TABLE T_REPORT_PROCESSED ADD CONSTRAINT PK_REPORT_PROCESSED PRIMARY KEY(PK_ID);

ALTER TABLE T_REPORT_PROCESSING ADD CONSTRAINT PK_REPORT_PROCESSING PRIMARY KEY(PK_ID);

ALTER TABLE T_REPORT_SESSION_INFO ADD CONSTRAINT PK_REPORT_SESSION_INFO PRIMARY KEY(PK_ID);


--==================

ALTER TABLE T_SESSION_REPORT_EXECUTION ADD PK_ID NUMBER(10);

CREATE SEQUENCE SESSION_REPORT_EXECUTION
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_SESSION_REPORT_EXECUTION SET PK_ID = SESSION_REPORT_EXECUTION.NEXTVAL;

COMMIT;

ALTER TABLE T_SESSION_REPORT_EXECUTION ADD CONSTRAINT PK_SESSION_REPORT_EXECUTION PRIMARY KEY(PK_ID); 


--==================

ALTER TABLE T_SESSION_REPORT_ACTIVITY ADD PK_ID NUMBER(10);

CREATE SEQUENCE SESSION_REPORT_ACTIVITY
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_SESSION_REPORT_ACTIVITY SET PK_ID = SESSION_REPORT_ACTIVITY.NEXTVAL;

COMMIT;

ALTER TABLE T_SESSION_REPORT_ACTIVITY ADD CONSTRAINT PK_SESSION_REPORT_ACTIVITY PRIMARY KEY(PK_ID); 


---------=========

ALTER TABLE T_SESSION_DELETE_LOG ADD PK_ID NUMBER(10);

CREATE SEQUENCE SESSION_DELETE_LOG
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_SESSION_DELETE_LOG SET PK_ID = SESSION_DELETE_LOG.NEXTVAL;

COMMIT;

ALTER TABLE T_SESSION_DELETE_LOG ADD CONSTRAINT PK_SESSION_DELETE_LOG PRIMARY KEY(PK_ID); 


--===============
 
ALTER TABLE T_DEBUG ADD PK_ID VARCHAR2(150);


UPDATE T_DEBUG SET PK_ID = SYS_GUID();

COMMIT;

ALTER TABLE T_DEBUG ADD CONSTRAINT PK_DEBUG PRIMARY KEY(PK_ID);

TRUNCATE TABLE T_TEMP_BATCH_DATA;
TRUNCATE TABLE T_TEMP_ISSUE_CASTING_DATA;
TRUNCATE TABLE T_TEMP_ISSUE_BATCH_DATA;

ALTER TABLE T_TEMP_ISSUE_CASTING_DATA ADD PK_ID VARCHAR2(150);

UPDATE T_TEMP_ISSUE_CASTING_DATA SET PK_ID = SYS_GUID();

COMMIT;

ALTER TABLE T_TEMP_ISSUE_CASTING_DATA ADD CONSTRAINT PK_TEMP_ISSUE_CASTING_DATA PRIMARY KEY(PK_ID);

ALTER TABLE T_TEMP_BATCH_DATA ADD PK_ID VARCHAR2(150);

UPDATE T_TEMP_BATCH_DATA SET PK_ID = SYS_GUID();

COMMIT;

ALTER TABLE T_TEMP_BATCH_DATA ADD CONSTRAINT PK_TEMP_BATCH_DATA PRIMARY KEY(PK_ID);

ALTER TABLE T_TEMP_ISSUE_BATCH_DATA ADD PK_ID VARCHAR2(150);

UPDATE T_TEMP_ISSUE_BATCH_DATA SET PK_ID = SYS_GUID();

COMMIT;

ALTER TABLE T_TEMP_ISSUE_BATCH_DATA ADD CONSTRAINT PK_TEMP_ISSUE_BATCH_DATA PRIMARY KEY(PK_ID);

--==========

TRUNCATE TABLE T_SMRY_STYLE_MIS_CLOSING;

ALTER TABLE T_SMRY_STYLE_MIS_CLOSING ADD PK_ID VARCHAR2(150);

UPDATE T_SMRY_STYLE_MIS_CLOSING SET PK_ID = SYS_GUID();

COMMIT;

ALTER TABLE T_SMRY_STYLE_MIS_CLOSING ADD CONSTRAINT PK_SMRY_STYLE_MIS_CLOSING PRIMARY KEY(PK_ID);


--===============

DROP TABLE COMPARE_MIS CASCADE CONSTRAINTS;

CREATE TABLE COMPARE_MIS
(
    CLOSING_DATE  DATE,
    TYPE          CHAR(7 BYTE),
    ITEM_GROUP    VARCHAR2(100 BYTE),
    QUANTITY      NUMBER(20,7),
    STOCK_VALUE   NUMBER(20,7),
    LAB           NUMBER(20,7),
    PK_ID         VARCHAR2(15) CONSTRAINT PK_COMPARE_MIS PRIMARY KEY  
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

--===========================

ALTER TABLE T_WORKFLOW_DTL ADD CONSTRAINT PK_WORKFLOW_DTL PRIMARY KEY(WF_DTL_ID);

--===========================

ALTER TABLE T_VARIANT_STOCK_VAL_HISTORY ADD PK_ID NUMBER(10);

CREATE SEQUENCE VARIANT_STOCK_VAL_HISTORY
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_VARIANT_STOCK_VAL_HISTORY SET PK_ID = VARIANT_STOCK_VAL_HISTORY.NEXTVAL;

COMMIT;

ALTER TABLE T_VARIANT_STOCK_VAL_HISTORY ADD CONSTRAINT PK_VARIANT_STOCK_VAL_HISTORY PRIMARY KEY(PK_ID);

--===========================

ALTER TABLE T_VARIANT_STOCK_VAL_SMRY ADD PK_ID NUMBER(10);

CREATE SEQUENCE VARIANT_STOCK_VAL_SMRY
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_VARIANT_STOCK_VAL_SMRY SET PK_ID = VARIANT_STOCK_VAL_SMRY.NEXTVAL;

COMMIT;

ALTER TABLE T_VARIANT_STOCK_VAL_SMRY ADD CONSTRAINT PK_VARIANT_STOCK_VAL_SMRY PRIMARY KEY(PK_ID);

--===========================

ALTER TABLE T_TRANS_ITEM_BOM_DTL_MISC ADD PK_ID NUMBER(10);

CREATE SEQUENCE TRANS_ITEM_BOM_DTL_MISC
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_TRANS_ITEM_BOM_DTL_MISC SET PK_ID = TRANS_ITEM_BOM_DTL_MISC.NEXTVAL;

COMMIT;

ALTER TABLE T_TRANS_ITEM_BOM_DTL_MISC ADD CONSTRAINT PK_TRANS_ITEM_BOM_DTL_MISC PRIMARY KEY(PK_ID);
ALTER TABLE T_TRANS_ITEM_ATTRIB_DTL ADD CONSTRAINT PK_TRANS_ITEM_ATTRIB_DTL PRIMARY KEY(TRANS_ITEM_ATTRIB_DTL_ID);
ALTER TABLE T_TRANS_HISTORY ADD CONSTRAINT PK_TRANS_HISTORY PRIMARY KEY(ROW_ID);
ALTER TABLE T_TRANS_DEFAULT_REPORT_MAPPING ADD CONSTRAINT PK_TRANS_DEF_REPORT_MAPPING PRIMARY KEY(PK_ID);

--==============
ALTER TABLE T_SMRY_CUSTOMER_STOCK ADD PK_ID NUMBER(10);

CREATE SEQUENCE SMRY_CUSTOMER_STOCK
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;

UPDATE T_SMRY_CUSTOMER_STOCK SET PK_ID = SMRY_CUSTOMER_STOCK.NEXTVAL;

COMMIT;

ALTER TABLE T_SMRY_CUSTOMER_STOCK ADD CONSTRAINT PK_SMRY_CUSTOMER_STOCK PRIMARY KEY(PK_ID);
ALTER TABLE T_SEA_SERVICE ADD CONSTRAINT PK_SEA_SERVICE PRIMARY KEY(PK_ID);
ALTER TABLE T_SCRAP_LOSS_DTL ADD CONSTRAINT PK_SCRAP_LOSS_DTL PRIMARY KEY(SCRAP_COLL_HDR_ID);
ALTER TABLE T_SMS_HISTORY ADD CONSTRAINT PK_SMS_HISTORY PRIMARY KEY(HISTORY_ID);
ALTER TABLE T_RPT_STOCK_IN_OUT_DTL ADD CONSTRAINT PK_RPT_STOCK_IN_OUT_DTL PRIMARY KEY(STOCK_IN_OUT_DTL_ID);
ALTER TABLE T_REGION_LOCATION_MAPPING ADD CONSTRAINT PK_REGION_LOCATION_MAPPING PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_WISHLIST ADD CONSTRAINT PK_PGD_WISHLIST PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_PARTY_WCGROUP_MAPPING ADD CONSTRAINT PK_PGD_PARTY_WCGROUP_MAPPING PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_MARGIN_DTL ADD CONSTRAINT PK_PGD_MARGIN_DTL PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_EMAIL_SETTINGS ADD CONSTRAINT PK_PGD_EMAIL_SETTINGS PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_ATTRIBUTE_PARAMETER ADD CONSTRAINT PK_PGD_ATTRIBUTE_PARAMETER PRIMARY KEY(PK_ID);
ALTER TABLE T_PGD_ATTRIBUTE_PARAMETER_DTL ADD CONSTRAINT PK_PGD_ATTRIBUTE_PARAMETER_DTL PRIMARY KEY(PK_ID);
ALTER TABLE T_PARTY_FEED_INFO ADD CONSTRAINT PK_PARTY_FEED_INFO PRIMARY KEY(PARTY_ID);
ALTER TABLE T_MISC_FESTIVAL_MASTER ADD CONSTRAINT PK_MISC_FESTIVAL_MASTER PRIMARY KEY(PK_ID);
ALTER TABLE T_ITEM_N_STYLE_LINK ADD CONSTRAINT PK_ITEM_N_STYLE_LINK PRIMARY KEY(PK_ID);
ALTER TABLE T_LOCATION_SITE_WCGROUP_LINK ADD CONSTRAINT PK_LOCATION_SITE_WCGROUP_LINK PRIMARY KEY(PK_ID);
ALTER TABLE T_MAIL_SERVICE_HISTORY ADD CONSTRAINT PK_MAIL_SERVICE_HISTORY PRIMARY KEY(PK_ID);
ALTER TABLE T_FEED_UPLOAD_STATUS ADD CONSTRAINT PK_FEED_UPLOAD_STATUS PRIMARY KEY(PK_ID);
ALTER TABLE T_FA_TRANS_HDR_EXTD_DTL ADD CONSTRAINT PK_FA_TRANS_HDR_EXTD_DTL PRIMARY KEY(FA_TRANS_ID);
ALTER TABLE SIOD_TEMP ADD CONSTRAINT PK_SIOD_TEMP PRIMARY KEY(STOCK_IN_OUT_DTL_ID);
--==============
ALTER TABLE T_DAILY_TRANS DROP CONSTRAINT UNQ_DT;
DROP INDEX UNQ_DT;
DROP INDEX DT_TR_ID;
CREATE INDEX IDX_DTA ON T_DAILY_TRANS (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS ADD CONSTRAINT PK_DTALL PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX PK_DAILY_TRANS_ALL ON T_DAILY_TRANS_ALL (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ALL ADD CONSTRAINT PK_DTA PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX PK_DAILY_TRANS_ALL_FORMULA ON T_DAILY_TRANS_ALL_FORMULA (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ALL_FORMULA ADD CONSTRAINT PK_DTAF PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTC ON T_DAILY_TRANS_CUSTOMER (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_CUSTOMER ADD CONSTRAINT PK_DTC PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_MFGR_INOUT DROP CONSTRAINT UNQ_DTM_INOUT;
CREATE INDEX INDX_DTM_INOUT ON T_DAILY_TRANS_MFGR_INOUT (STOCK_IN_OUT_DTL_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_MFGR_INOUT ADD CONSTRAINT PK_DTMI PRIMARY KEY (STOCK_IN_OUT_DTL_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_ORDER DROP CONSTRAINT UNQ_DTORD;
CREATE INDEX IDX_DTO ON T_DAILY_TRANS_ORDER (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ORDER ADD CONSTRAINT PK_DTO PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTOB ON T_DAILY_TRANS_ORDER_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ORDER_BOM ADD CONSTRAINT PK_DTOB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;
/* IN CASE THE ABOVE SCRIPT GIVES ERROR THEN EXECUTE THE FOLLOWING
        TRUNCATE TABLE T_DAILY_TRANS_ORDER_BOM DROP STORAGE;

        INSERT INTO T_DAILY_TRANS_ORDER_BOM
        SELECT
        TIBD.TRANS_ITEM_BOM_ID, TIBD.TRANS_ITEM_ID, TIBD.BOM_VARIANT_ID, TIBD.QUANTITY, TIBD.CONVERSION_FACTOR, TIBD.TRANS_BOM_RATE, TIBD.TRANS_BOM_AMOUNT, 
        IVD.ITEM_GROUP, IVD.ITEM_NAME, IVD.VARIANT_NAME, IVD.ITEM_STOCK_UOM_CODE, IVD.ITEM_TYPE_ID, IVD.ITEM_GROUP_ID, IVD.BASE_ITEM_GROUP_ID, IVD.FINENESS
        FROM V_ITEM_VARIANT_RTN_DTL IVD,V_TRANS_ITEM_BOM_DTL TIBD,T_TRANS_HDR_EXTD EXTD,T_TRANS_ITEM_DTL TID,T_TRANS_HDR TH
        WHERE
        EXTD.TRANS_ID = TH.TRANS_ID 
        AND TID.TRANS_ID = TH.TRANS_ID
        AND TIBD.BOM_VARIANT_ID = IVD.VARIANT_ID
        AND TIBD.TRANS_ITEM_ID = TID.TRANS_ITEM_ID 
        AND TH.ROW_STATUS = 1
        AND TID.ROW_STATUS = 1
        AND EXISTS (SELECT 1 FROM T_DAILY_TRANS_ORDER DUO WHERE TIBD.TRANS_ITEM_ID = DUO.TRANS_ITEM_ID);

        COMMIT;
        
        DROP INDEX IDX_DTOB;
        
        EXECUTE THE ABOVE UNEXECUTED SCRIPT
*/


ALTER TABLE T_DAILY_TRANS_OTHER DROP CONSTRAINT UNQ_DTOTH;
CREATE INDEX IDX_DTOTH ON T_DAILY_TRANS_OTHER (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_OTHER ADD CONSTRAINT PK_DTOTH PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTOTHB ON T_DAILY_TRANS_OTHER_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_OTHER_BOM ADD CONSTRAINT PK_DTOTHB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

CREATE INDEX IDX_DTOTHB ON T_DAILY_TRANS_ORDER_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ORDER_BOM ADD CONSTRAINT PK_DTOTHB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_PRODUCTION DROP CONSTRAINT UNQ_DTPROD;
CREATE INDEX IDX_DTPROD ON T_DAILY_TRANS_PRODUCTION (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_PRODUCTION ADD CONSTRAINT PK_DTPROD PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTPRODB ON T_DAILY_TRANS_PRODUCTION_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_PRODUCTION_BOM ADD CONSTRAINT PK_DTPRODB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

CREATE INDEX IDX_DTPRODB ON T_DAILY_TRANS_ORDER_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_ORDER_BOM ADD CONSTRAINT PK_DTPRODB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_PURCHASE DROP CONSTRAINT UNQ_DTPUR;
CREATE INDEX IDX_DTPUR ON T_DAILY_TRANS_PURCHASE (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_PURCHASE ADD CONSTRAINT PK_DTPUR PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTPB ON T_DAILY_TRANS_PURCHASE_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_PURCHASE_BOM ADD CONSTRAINT PK_DTPURB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_SALES DROP CONSTRAINT UNQ_DTS;
CREATE INDEX IDX_DTS ON T_DAILY_TRANS_SALES (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_SALES ADD CONSTRAINT PK_DTS PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTSB ON T_DAILY_TRANS_SALES_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD CONSTRAINT PK_DTSB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;
/* IN CASE THE ABOVE SCRIPT GIVES ERROR THEN EXECUTE THE FOLLOWING
        TRUNCATE TABLE T_DAILY_TRANS_SALES_BOM DROP STORAGE;
        
        INSERT INTO T_DAILY_TRANS_SALES_BOM
        SELECT
        TIBD.TRANS_ITEM_BOM_ID, TIBD.TRANS_ITEM_ID, TIBD.BOM_VARIANT_ID, TIBD.QUANTITY, TIBD.CONVERSION_FACTOR, TIBD.STOCK_VALUE, TIBDE.TRANS_BOM_RATE, TIBDE.TRANS_BOM_AMOUNT, 
        IVD.ITEM_GROUP, IVD.ITEM_NAME, IVD.VARIANT_NAME, IVD.ITEM_STOCK_UOM_CODE, IVD.ITEM_TYPE_ID, IVD.ITEM_GROUP_ID, IVD.BASE_ITEM_GROUP_ID, IVD.FINENESS, TIBDE.PTRANS_ITEM_BOM_ID, 
        TIBDE.INWARD_TRANS_ITEM_ID, TIBD.SOR_TRANS_ITEM_BOM_ID, TIBD.SRC_STOCK_BOM_ID,TID.ROW_STATUS,0 AS WASTAGE_PER,TIBDE.INWARD_TRANS_ITEM_BOM_ID,0 AS ORG_METAL_RATE,0 AS APPLIED_METAL_RATE
        FROM V_ITEM_VARIANT_RTN_SMRY IVD,T_TRANS_ITEM_BOM_DTL_EXTD TIBDE,T_TRANS_ITEM_BOM_DTL TIBD,T_TRANS_HDR_EXTD EXTD,T_TRANS_ITEM_DTL_EXTD TIDE,T_TRANS_ITEM_DTL TID,T_TRANS_HDR TH
        WHERE
        EXTD.TRANS_ID = TH.TRANS_ID 
        AND TID.TRANS_ID = TH.TRANS_ID
        AND TIBD.TRANS_ITEM_BOM_ID = TIBDE.TRANS_ITEM_BOM_ID
        AND TIBD.BOM_VARIANT_ID = IVD.VARIANT_ID
        AND TIBD.TRANS_ITEM_ID = TID.TRANS_ITEM_ID
        AND TID.TRANS_ITEM_ID = TIDE.TRANS_ITEM_ID
        AND TID.ROW_STATUS IN (1,-2)
        AND TH.ROW_STATUS = 1
        AND EXISTS (SELECT 1 FROM T_DAILY_TRANS_SALES DUS WHERE TIBD.TRANS_ITEM_ID = DUS.TRANS_ITEM_ID);

        UPDATE T_DAILY_TRANS_SALES_BOM DTSB
        SET WASTAGE_PER = NVL((SELECT AVG(TIBFD.ROW_VALUE) FROM T_TRANS_ITEM_BOM_FORMULA_DTL TIBFD,V_FORMULA_PROCEDURE_DTL FPD WHERE DTSB.TRANS_ITEM_BOM_ID = TIBFD.TRANS_ITEM_BOM_ID AND TIBFD.PROCEDURE_ID = FPD.PROCEDURE_ID AND TIBFD.ROW_NO = FPD.ROW_NO AND FPD.ROW_TYPE_ID = 1442),0)
        WHERE EXISTS (SELECT 1 FROM T_DAILY_TRANS_SALES DTS WHERE DTSB.TRANS_ITEM_ID = DTS.TRANS_ITEM_ID);

        UPDATE T_DAILY_TRANS_SALES_BOM DTSB
        SET ORG_METAL_RATE = NVL((SELECT AVG(TIBFD.ROW_VALUE) FROM T_TRANS_ITEM_BOM_FORMULA_DTL TIBFD,V_FORMULA_PROCEDURE_DTL FPD WHERE DTSB.TRANS_ITEM_BOM_ID = TIBFD.TRANS_ITEM_BOM_ID AND TIBFD.PROCEDURE_ID = FPD.PROCEDURE_ID AND TIBFD.ROW_NO = FPD.ROW_NO AND FPD.ROW_TYPE_ID = 1455),0)
        WHERE EXISTS (SELECT 1 FROM T_DAILY_TRANS_SALES DTS WHERE DTSB.TRANS_ITEM_ID = DTS.TRANS_ITEM_ID);
 
        UPDATE T_DAILY_TRANS_SALES_BOM DTSB
        SET APPLIED_METAL_RATE = NVL((SELECT AVG(TIBFD.ROW_VALUE) FROM T_TRANS_ITEM_BOM_FORMULA_DTL TIBFD,V_FORMULA_PROCEDURE_DTL FPD WHERE DTSB.TRANS_ITEM_BOM_ID = TIBFD.TRANS_ITEM_BOM_ID AND TIBFD.PROCEDURE_ID = FPD.PROCEDURE_ID AND TIBFD.ROW_NO = FPD.ROW_NO AND FPD.ROW_TYPE_ID = 1341),0)
        WHERE EXISTS (SELECT 1 FROM T_DAILY_TRANS_SALES DTS WHERE DTSB.TRANS_ITEM_ID = DTS.TRANS_ITEM_ID);

        COMMIT;

        DROP INDEX IDX_DTSB;

        EXECUTE THE ABOVE UNEXECUTED SCRIPT
*/


ALTER TABLE T_DAILY_TRANS_TRANSFER DROP CONSTRAINT UNQ_DTTRN;
CREATE INDEX IDX_DTRN ON T_DAILY_TRANS_TRANSFER (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_TRANSFER ADD CONSTRAINT PK_DTRN PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTTB ON T_DAILY_TRANS_TRANSFER_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_TRANSFER_BOM ADD CONSTRAINT PK_DTTB PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;

ALTER TABLE T_DAILY_TRANS_MFGR DROP CONSTRAINT UNQ_DTM;
CREATE INDEX IDX_DTMFGR ON T_DAILY_TRANS_MFGR (TRANS_ITEM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_MFGR ADD CONSTRAINT PK_DTMFGR PRIMARY KEY (TRANS_ITEM_ID) USING INDEX;

CREATE INDEX IDX_DTMFGRBOM ON T_DAILY_TRANS_MFGR_BOM (TRANS_ITEM_BOM_ID) TABLESPACE LIVE_INDEX_2;
ALTER TABLE T_DAILY_TRANS_MFGR_BOM ADD CONSTRAINT PK_DTMFGRBOM PRIMARY KEY (TRANS_ITEM_BOM_ID) USING INDEX;



ALTER TABLE T_STOCK_CERTIFICATE_DTL DROP CONSTRAINT UNQ_SCD_CS;
ALTER TABLE T_STOCK_CERTIFICATE_DTL ADD CONSTRAINT PK_SCD PRIMARY KEY (CERTIFICATE_ID,STOCK_ID) USING INDEX;

ALTER TABLE T_STOCK_BOM_CERTIFICATE_DTL DROP CONSTRAINT UNQ_SBCD_CSB;
ALTER TABLE T_STOCK_BOM_CERTIFICATE_DTL ADD CONSTRAINT PK_SBCD PRIMARY KEY (CERTIFICATE_ID,STOCK_BOM_ID) USING INDEX;

ALTER TABLE T_TRANS_HDR_ACTIONS_DTL DROP CONSTRAINT UNQ_THAD_1;
ALTER TABLE T_TRANS_HDR_ACTIONS_DTL ADD CONSTRAINT PK_THAD PRIMARY KEY (PK_ID);

TRUNCATE TABLE T_SESSION_SAVE_INFO DROP STORAGE;
ALTER TABLE T_SESSION_SAVE_INFO ADD PK_ID VARCHAR2(150) PRIMARY KEY;
UPDATE T_SESSION_SAVE_INFO SET PK_ID = SYS_GUID();

CREATE OR REPLACE TRIGGER SESSION_SAVE_INFO_BEF
BEFORE INSERT ON T_SESSION_SAVE_INFO FOR EACH ROW
DECLARE

BEGIN

    :NEW.PK_ID := SYS_GUID();
             
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        NULL;
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR (-20999, SUBSTR(SQLERRM,1,500)||DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
END;
/

TRUNCATE TABLE T_SESSION_ISSUE_DATA DROP STORAGE;
ALTER TABLE T_SESSION_ISSUE_DATA ADD PK_ID VARCHAR2(150) PRIMARY KEY;
UPDATE T_SESSION_ISSUE_DATA SET PK_ID = SYS_GUID();

CREATE OR REPLACE TRIGGER SESSION_ISSUE_DATA_BEF
BEFORE INSERT ON T_SESSION_ISSUE_DATA FOR EACH ROW
DECLARE

BEGIN

    :NEW.PK_ID := SYS_GUID();
             
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        NULL;
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR (-20999, SUBSTR(SQLERRM,1,500)||DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
END;
/


ALTER TABLE T_TRANS_ITEM_EDIT_VALIDATE DROP CONSTRAINT UNQ_TIEV;
ALTER TABLE T_TRANS_ITEM_EDIT_VALIDATE ADD CONSTRAINT PK_TIEV PRIMARY KEY(TRANS_ITEM_ID) USING INDEX;

ALTER TABLE T_STOCK_ATTRIB_DTL ADD CONSTRAINT PK_SATTRD PRIMARY KEY(STOCK_ATTRIB_DTL_ID) USING INDEX;


ALTER TABLE T_SESSION_ERROR_LOG ADD PK_ID VARCHAR2(150) PRIMARY KEY;
UPDATE T_SESSION_ERROR_LOG SET PK_ID = SYS_GUID();

CREATE OR REPLACE TRIGGER SESSION_ERROR_LOG_BEF
BEFORE INSERT ON T_SESSION_ERROR_LOG FOR EACH ROW
DECLARE

BEGIN

    :NEW.PK_ID := SYS_GUID();
             
EXCEPTION
    WHEN NO_DATA_FOUND THEN
        NULL;
    WHEN OTHERS THEN
        RAISE_APPLICATION_ERROR (-20999, SUBSTR(SQLERRM,1,500)||DBMS_UTILITY.FORMAT_ERROR_BACKTRACE);
END;
/

ALTER TABLE T_ORDER_API_TH DROP CONSTRAINT UNQ_DOCNO;
ALTER TABLE T_ORDER_API_TH ADD CONSTRAINT PK_OAT PRIMARY KEY(DOC_NO) USING INDEX;

ALTER TABLE T_MISC_API_LOG ADD PK_ID VARCHAR2(150);

TRUNCATE TABLE T_ECO_WEB_SERVICE_STATUS DROP STORAGE;

ALTER TABLE T_ECO_WEB_SERVICE_STATUS ADD CONSTRAINT PK_EWSS PRIMARY KEY(PK_ID);

ALTER TABLE T_JEWELR_LOG ADD CONSTRAINT PK_JL PRIMARY KEY(REQUEST_ID);

ALTER TABLE T_ORDER_API_TID ADD CONSTRAINT PK_OATID PRIMARY KEY(REF_NO);

ALTER TABLE T_ILO_ILI_API_LOG ADD CONSTRAINT PK_IIAL PRIMARY KEY(REQ_GUID);


ALTER TABLE T_INVOICE_API_LOG ADD CONSTRAINT PK_IAL PRIMARY KEY(REQ_GUID);

ALTER TABLE T_ORDER_API_FTRH ADD CONSTRAINT PK_OAF PRIMARY KEY(REF_NO);

ALTER TABLE T_UPDATE_VARIANT_NOTIFICATION ADD PK_ID VARCHAR2(150);

ALTER TABLE T_UPDATE_VARIANT_NOTIFICATION ADD CONSTRAINT PK_UVN PRIMARY KEY(pk_id);
UPDATE T_CONFIG_QUERY_SETTING SET QRY_FILE_NAME = REPLACE(QRY_FILE_NAME,'.XML','.xml') WHERE QRY_FETCH_IND = 'F';
COMMIT;
ALTER TABLE GT_TH ADD "WCGroupID" NUMBER(10);
ALTER TABLE GT_TH ADD "WCID" NUMBER(10);
TRUNCATE TABLE COMPARE_MIS DROP STORAGE;

ALTER TABLE COMPARE_MIS MODIFY PK_ID VARCHAR2(150);
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
728, 'XML-BUCKET-NAME', 'sspl-xml/PRISM', NULL, NULL); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
729, 'TEMP-BUCKET-NAME', 'sspl-client-temp/PRISM', NULL, NULL); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
730, 'IMAGE-BUCKET-NAME', 'sspl-client/PRISM/IMAGE', NULL, NULL); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
731, 'FILE-BUCKET-NAME', 'sspl-client/PRISM/FILE', NULL, NULL); 
INSERT INTO T_CONFIG_GLOBAL ( CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS,
CAN_CHANGE_SETTING ) VALUES ( 
732, 'CLIENT-TEMP-REPORTS-BUCKET-NAME', 'sspl-client-report/PRISM', NULL, NULL); 
COMMIT;

update t_config_global set config_value = 'http://app.awssynergics.local/MailService/MailService.asmx?wsdl'
where config_id = 552;
COMMIT;

ALTER TABLE T_STOCK_ARCHIVE ADD PK_ID NUMBER(10);

UPDATE T_STOCK_ARCHIVE SET PK_ID = ROWNUM;
COMMIT;

CREATE INDEX PK_SA ON T_STOCK_ARCHIVE (PK_ID);

SELECT MAX(PK_ID) FROM T_STOCK_ARCHIVE

CREATE SEQUENCE STOCK_ARCHIVE
  START WITH 64226226
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER;
  
CREATE INDEX IDX_SA_PKID ON T_STOCK_ARCHIVE(PK_ID) TABLESPACE LIVE_INDEX_2;

ALTER TABLE T_STOCK_ARCHIVE ADD CONSTRAINT PK_SA PRIMARY KEY(PK_ID) USING INDEX;
  
ALTER TABLE T_SMRY_STOCK_DAILY_CLOSING ADD PK_ID VARCHAR2(150);

UPDATE T_SMRY_STOCK_DAILY_CLOSING SET PK_ID = SYS_GUID();
COMMIT;

CREATE INDEX IDX_SSDC_PKID ON T_SMRY_STOCK_DAILY_CLOSING(PK_ID) TABLESPACE LIVE_INDEX_2;

ALTER TABLE T_SMRY_STOCK_DAILY_CLOSING ADD CONSTRAINT PK_SSDC PRIMARY KEY(PK_ID) USING INDEX;


UPDATE T_CONFIG_GLOBAL SET CONFIG_VALUE = '1' WHERE CONFIG_ID = 740;
COMMIT;

UPDATE T_CONFIG_GLOBAL SET CONFIG_VALUE = 'http://app.awssynergics.local/MailService/MailService.asmx?wsdl' WHERE CONFIG_ID = 552;
COMMIT;
ALTER TABLE T_DAILY_TRANS_ALL_FORMULA ADD CONSTRAINT PK_DTAF_TIID PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_MFGR_LOSS ADD PK_ID VARCHAR2(150);
UPDATE T_DAILY_TRANS_MFGR_LOSS SET PK_ID = SYS_GUID();
ALTER TABLE T_DAILY_TRANS_MFGR_LOSS ADD CONSTRAINT PK_DTML_PKID PRIMARY KEY(PK_ID);

ALTER TABLE T_DAILY_TRANS_MFGR_SCRAP ADD PK_ID VARCHAR2(150);
UPDATE T_DAILY_TRANS_MFGR_SCRAP SET PK_ID = SYS_GUID();
ALTER TABLE T_DAILY_TRANS_MFGR_SCRAP ADD CONSTRAINT PK_DTMS_PKID PRIMARY KEY(PK_ID);

ALTER TABLE T_MISC_ADDRESS_DTL DROP CONSTRAINT UNQ_ADDID;
ALTER TABLE T_MISC_ADDRESS_DTL ADD CONSTRAINT PK_MIADDTL_ADDID PRIMARY KEY(ADDRESS_ID);

ALTER TABLE T_SMRY_STOCK_MONTH_CLOSING ADD CONSTRAINT PK_SSMC PRIMARY KEY(PK_ID);

ALTER TABLE T_DAILY_TRANS_CUSTOMER ADD CONSTRAINT PK_DTC PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_FORMULA ADD CONSTRAINT PK_DTF_TIID PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_MFGR ADD CONSTRAINT PK_DTMFGR PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_MFGR_BOM ADD CONSTRAINT PK_DTMFGRBOM PRIMARY KEY(TRANS_ITEM_BOM_ID);

ALTER TABLE T_DAILY_TRANS_ORDER ADD CONSTRAINT PK_DTO PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_ORDER_BOM ADD CONSTRAINT PK_DTOB PRIMARY KEY(TRANS_ITEM_BOM_ID);

ALTER TABLE T_DAILY_TRANS_PURCHASE ADD CONSTRAINT PK_DTPUR PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_PURCHASE_BOM ADD CONSTRAINT PK_DTPURB PRIMARY KEY(TRANS_ITEM_BOM_ID);

ALTER TABLE T_DAILY_TRANS_SALES ADD CONSTRAINT PK_DTS PRIMARY KEY(TRANS_ITEM_ID);

ALTER TABLE T_DAILY_TRANS_SALES_BOM ADD CONSTRAINT PK_DTSB PRIMARY KEY(TRANS_ITEM_BOM_ID);

ALTER TABLE T_TRANS_ITEM_MISC_INFO ADD PK_ID NUMBER(10);
CREATE SEQUENCE TRANS_ITEM_MISC_INFO START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
UPDATE T_TRANS_ITEM_MISC_INFO SET PK_ID = TRANS_ITEM_MISC_INFO.NEXTVAL;
ALTER TABLE T_TRANS_ITEM_MISC_INFO ADD CONSTRAINT PK_TRANS_ITEM_MISC_INFO PRIMARY KEY(PK_ID);

ALTER TABLE T_SESSION_ACTIVITY ADD PK_ID NUMBER(10);
CREATE SEQUENCE SESSION_ACTIVITY START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER;
UPDATE T_SESSION_ACTIVITY SET PK_ID = SESSION_ACTIVITY.NEXTVAL;
ALTER TABLE T_SESSION_ACTIVITY ADD CONSTRAINT PK_SESSION_ACTIVITY PRIMARY KEY(PK_ID);

ALTER TABLE GT_SAVE_STOCK_LIST ADD (
  CONSTRAINT UNQ_GT_SAVE_STOCK_LIST
 UNIQUE (BATCH_ID, STOCK_ID, STOCK_BOM_ID, LOCATION_ID, WCGROUP_ID, PARTY_ID, ITEM_GROUP_ID, TRANSIT_IND, QUANTITY, STOCK_VALUE, ROW_IDENTITY, LABOUR_VALUE));

ALTER TABLE T_OPERATION_WC_MAPPING ADD CONSTRAINT UNQ_OWM_BRCD UNIQUE (BARCODE);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(758, 'LOCK-USER-ON-FAILED-LOGIN-ATTEMPS', '0', '0 = NO, 1 = YES', 0);
COMMIT;

CREATE TABLE T_BATCH_REPORT_DATA
(
  STOCK_ID                  NUMBER(10),
  WCGROUP_ID                NUMBER,
  PARTY_ID                  NUMBER,
  WC_ID                     NUMBER,
  LOCATION_ID               NUMBER,
  BATCH_ID                  NUMBER(10),
  BATCH_NO                  VARCHAR2(50 BYTE),
  BATCH_TYPE_ID             NUMBER(1)           NOT NULL,
  BATCH_CATEGORY_ID         NUMBER(10),
  TRANSIT_IND               NUMBER,
  PBATCH_ID                 NUMBER(10),
  BATCH_QTY                 NUMBER(20,7),
  ROW_STATUS                NUMBER(1)           NOT NULL,
  PBATCH_NO                 VARCHAR2(50 BYTE),
  PBATCH_TYPE_ID            NUMBER(1)           NOT NULL,
  PROW_STATUS               NUMBER(1)           NOT NULL,
  PBATCH_QTY                NUMBER(20,7),
  VARIANT_ID                NUMBER(10),
  STOCK_CODE                VARCHAR2(75 BYTE),
  SOR_TRANS_ITEM_ID         NUMBER(10),
  INWARD_TRANS_ITEM_ID      NUMBER(10),
  SOR_TRANS_ITEM_BOM_ID     NUMBER(10),
  ISSUE_TRANS_ID            NUMBER(10)          NOT NULL,
  LAST_ACROSS_WCG_TRANS_ID  NUMBER(10),
  LAST_PERFORMED_TRANS_ID   NUMBER(10),
  OWNER_PARTY_ID            NUMBER(10),
  STOCK_STATUS_ID           NUMBER(10),
  QUANTITY                  NUMBER(20,7),
  QUANTITY_1                NUMBER,
  STOCK_VALUE               NUMBER(20,7),
  LABOUR_VALUE              NUMBER(20,7),
  SESSION_ID                NUMBER
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
NOPARALLEL
MONITORING;


CREATE INDEX TBRD_IDX_1 ON T_BATCH_REPORT_DATA
(SESSION_ID)
LOGGING
TABLESPACE SEA_TB_INDX_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;
ALTER TABLE T_TEMP_REPORT ADD SESSION_ID NUMBER(10);
ALTER TABLE T_TEMP_REPORT ADD RUN_DATE DATE;

ALTER TABLE T_BATCH_REPORT_DATA ADD RUN_DATE DATE;
ALTER TABLE T_PG_REPORT_DATA ADD RUN_DATE DATE;
DROP INDEX TPRD_IDX_2; 
CREATE INDEX TPRD_IDX_2 ON T_PG_REPORT_DATA
(VARIANT_ID)
LOGGING
TABLESPACE SEA_TB_INDX_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );
           

DROP INDEX TPRD_IDX_3; 
CREATE INDEX TPRD_IDX_3 ON T_PG_REPORT_DATA
(BATCH_ID)
LOGGING
TABLESPACE SEA_TB_INDX_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           );
update t_config_global set CONFIG_REMARKS = '5001#P: PARTY, PG: PARTY GROUP' where CONFIG_ID = 605;
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(762, 'REPLACE-VARIANT-OF-SAME-ITEMGROUP-IN-ITEM-SUMMARY', '0', NULL, 0);
COMMIT;
ALTER TABLE T_SESSION_INFO MODIFY MACHINE_IP_ADDRESS VARCHAR2(150);
DROP TABLE ORDER_REQ_RC;

CREATE TABLE T_TEMP_ORDER_REQ_RC
(
  VARIANT_ID            NUMBER(10),
  KARAT                 VARCHAR2(100 BYTE),
  ODRER_VARIANT_NAME    VARCHAR2(100 BYTE),
  STYLE_VARIANT         VARCHAR2(100 BYTE),
  ORDER_PCS             NUMBER(10)              DEFAULT (0),
  ORDER_WT              NUMBER(20,7)            DEFAULT (0),
  MIN_STOCK_QUANTITY    NUMBER(20,7)            DEFAULT (0),
  RE_ORDER_QUANTITY     NUMBER(20,7)            DEFAULT (0),
  STOCK_QUANTITY        NUMBER(20,7),
  STOCK_ORDER_QUANTITY  NUMBER(20,7)            DEFAULT (0),
  MASTER_AVG_WT         NUMBER(20,7)            DEFAULT (0),
  PK_ID                 VARCHAR2(150 Byte)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;


CREATE INDEX TEMP_ORDER_REQ_RC_1 ON T_TEMP_ORDER_REQ_RC(PK_ID) TABLESPACE SEA_TB_INDX_MISC;

DROP TABLE ORDER_STATUS_RC;

CREATE TABLE T_TEMP_ORDER_STATUS_RC
(
  SESSION_ID          NUMBER(10),
  ROWNO               NUMBER(5),
  DOC_NO              VARCHAR2(50 BYTE),
  TRANS_DATE          DATE,
  BATCH_NO            VARCHAR2(50 BYTE),
  VARIANT_NAME        VARCHAR2(100 BYTE),
  ORDER_TYPE          VARCHAR2(20 BYTE),
  ITEM_GROUP          VARCHAR2(50 BYTE),
  PARENT_KARAT        VARCHAR2(100 BYTE),
  ORDER_KARAT         VARCHAR2(50 BYTE),
  ODRER_VARIANT_NAME  VARCHAR2(100 BYTE),
  STYLE_VARIANT       VARCHAR2(100 BYTE),
  ORDER_PCS           NUMBER(10)                DEFAULT (0),
  ORDER_WT            NUMBER(20,7)              DEFAULT (0),
  BAG_PCS             NUMBER(10)                DEFAULT (0),
  BAG_WT              NUMBER(20,7)              DEFAULT (0),
  RESERVE_PCS         NUMBER(10)                DEFAULT (0),
  RESERVE_WT          NUMBER(20,7)              DEFAULT (0),
  STOCK_PCS           NUMBER(10)                DEFAULT (0),
  STOCK_WT            NUMBER(20,7)              DEFAULT (0),
  DEPARTMENT          VARCHAR2(250 BYTE),
  WORKER              VARCHAR2(100 BYTE),
  TRANS_ID            NUMBER(10),
  TRANS_ITEM_ID       NUMBER(10),
  TRANS_ITEM_BOM_ID   NUMBER(10),
  BATCH_ID            NUMBER(10),
  VARIANT_ID          NUMBER(10),
  MAIN_BATCH_NO       VARCHAR2(50 BYTE),
  MAIN_BATCH_ID       VARCHAR2(50 BYTE)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;

CREATE INDEX TEMP_ORDER_STATUS_RC ON T_TEMP_ORDER_STATUS_RC(SESSION_ID) TABLESPACE SEA_TB_INDX_MISC;
CREATE TABLE GT_XML
(
    FILE_NAME           VARCHAR2(150),
    BIND_VARIABLE_LIST  VARCHAR2(750), 
    XML_DATA            CLOB,
    QUERY_VALUES        VARCHAR2(750)
);

DROP TABLE GT_CLOB;

CREATE GLOBAL TEMPORARY TABLE GT_CLOB
(
  XML_DATA            CLOB,
  BIND_VARIABLE_LIST  VARCHAR2(750 BYTE),
  QUERY_VALUES        VARCHAR2(750 BYTE)
)
ON COMMIT PRESERVE ROWS
NOCACHE;


SET DEFINE OFF;
Insert into T_CONFIG_QUERY_DATA
   (QUERY_DATA_ID, QUERY_DATA, BIND_VARIABLE_LIST, QUERY_DATA_REMARK)
 Values
   (0, NULL, NULL, NULL);
COMMIT;

UPDATE T_CONFIG_QUERY_SETTING SET QUERY_DATA_ID = 0 WHERE QUERY_DATA_ID IS NULL;
COMMIT;

Insert into T_CONFIG_QUERY_DATA
   (QUERY_DATA_ID, QUERY_DATA, BIND_VARIABLE_LIST, QUERY_DATA_REMARK)
 Values
   (50071, 'SELECT VARIANT_LINK_ID, VARIANT_ID1, VARIANT_ID2, QUANTITY, LINK_TYPE 
FROM T_ITEM_VARIANT_LINK LNK 
WHERE LNK.QUANTITY >0 AND LNK.LINK_TYPE = ''R''
AND VARIANT_ID1 IN(SELECT VARIANT_ID FROM V_ITEM_VARIANT_RTN_DTL WHERE ITEM_TYPE_ID = 1004 AND VARIANT_ID = BASE_VARIANT_ID) 
UNION
SELECT VARIANT_LINK_ID, VARIANT_ID1, VARIANT_ID2, QUANTITY, LINK_TYPE 
FROM T_ITEM_VARIANT_LINK LNK 
WHERE LNK.QUANTITY >0 AND LNK.LINK_TYPE = ''R''
AND VARIANT_ID2 IN(SELECT VARIANT_ID FROM V_ITEM_VARIANT_RTN_DTL WHERE ITEM_TYPE_ID = 1004 AND VARIANT_ID = BASE_VARIANT_ID);', NULL, 'ITEM VARIANT LINK');
COMMIT;

UPDATE T_CONFIG_QUERY_SETTING SET QRY_FETCH_IND = 'C'  WHERE PROC_COUNTER	= 73;
COMMIT; 

DROP TABLE GT_FOR_SEARCH_CRITERIA;

CREATE GLOBAL TEMPORARY TABLE GT_FOR_SEARCH_CRITERIA
(
  "VariantId"            NUMBER(10)             DEFAULT 0,
  "TransId"              NUMBER(10)             DEFAULT 0,
  "TransItemId"          NUMBER(10)             DEFAULT 0,
  "TransItemBomId"       NUMBER(10)             DEFAULT 0,
  "StockId"              NUMBER(10)             DEFAULT 0,
  "EmptyBatchId"         NUMBER(10)             DEFAULT 0,
  "FieldBatchId"         NUMBER(10)             DEFAULT 0,
  "GroupBatchId"         NUMBER(10)             DEFAULT 0,
  "BunchIdInsideBatch"   NUMBER(10)             DEFAULT 0,
  "BunchIdOutsideBatch"  NUMBER(10)             DEFAULT 0,
  "StockCode"            VARCHAR2(100 BYTE)     DEFAULT NULL,
  "VariantName"          VARCHAR2(100 BYTE)     DEFAULT NULL,
  "RowNo"                NUMBER(10)
)
ON COMMIT PRESERVE ROWS
NOCACHE;


CREATE INDEX SEARCH_1 ON GT_FOR_SEARCH_CRITERIA
("TransItemId");

CREATE INDEX SEARCH_2 ON GT_FOR_SEARCH_CRITERIA
("TransItemBomId");

CREATE INDEX SEARCH_3 ON GT_FOR_SEARCH_CRITERIA
("StockId");

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (763, 'SEND-MIS-MAIL', '0', NULL, 0);
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (764, 'CALCULATE-FORMULA-AWS', '0', NULL, 0);
COMMIT;

CREATE TABLE T_IMPORT_ORDER_ERROR_LOG
(
CALL_TYPE   VARCHAR2(100),
ERROR_LOG   CLOB
);
ALTER TABLE T_OPERATION_WC_MAPPING ADD OPERATION_TYPE_ID NUMBER(10) DEFAULT 0;
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (767, 'GENERATE-92-IN-SMRY-DAILY-CLOSING', '0', 0);
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (768, 'GENERATE-SMRY-IN-REPLICA-DB', '0', 0);
COMMIT;

SET DEFINE OFF;
ALTER TABLE T_TEMP_FORMULA_DTL add RateAsPerFormula NUMBER (20,7);

CREATE TABLE T_TEMP_S3_TASK_STATUS
(
  PK_ID             VARCHAR2(150 BYTE),
  START_TASK_TIME   DATE,
  TASK_ID           VARCHAR2(75 BYTE),
  S3_MODE           VARCHAR2(75 BYTE),
  GUID              VARCHAR2(75 BYTE),
  BUCKETNAME        VARCHAR2(75 BYTE),
  FOLDERNAME        VARCHAR2(75 BYTE),
  STATUS            NUMBER(1),
  END_TASK_TIME     DATE,
  ORCL_SID          NUMBER(35)
)
TABLESPACE SEA_TB_MISC
PCTUSED    0
PCTFREE    10
INITRANS   1
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       UNLIMITED
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
LOGGING 
NOCOMPRESS 
NOCACHE
MONITORING;
CREATE TABLE T_SCM_STATUS
(
  SELECTED_IND   NUMBER(1),
  LOCATION_ID    NUMBER(10),
  COMPLETED_IND  NUMBER(1),
  STATUS         VARCHAR2(2000),
  START_TIME     DATE,
  END_TIME       DATE
)
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_SCM_STATUS ADD CONSTRAINT PK_SCMS_LID PRIMARY KEY(LOCATION_ID);
ALTER TABLE T_SCM_STATUS ADD CONSTRAINT FK_SCMS_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);

INSERT INTO T_SCM_STATUS
SELECT 0 AS SELECTED_IND, LOCATION_ID, 0 AS COMPLETED_IND, NULL AS STATUS, NULL AS START_TIME, NULL AS END_TIME
FROM T_APP_LOCATION_MASTER
WHERE ROW_STATUS = 1 AND LOCATION_STATUS = 1;
COMMIT;
ALTER TABLE T_STOCK_LOCATION_SP
  DROP CONSTRAINT UNQ_SLS_S;
ALTER TABLE T_STOCK_LOCATION_SP ADD (
  CONSTRAINT UNQ_SLS_S
  UNIQUE (STOCK_ID)
  ENABLE VALIDATE);
ALTER TABLE T_STOCK_BOM_LOCATION_SP
  DROP CONSTRAINT UNQ_SBLS_S;
ALTER TABLE T_STOCK_BOM_LOCATION_SP ADD (
  CONSTRAINT UNQ_SBLS_S
  UNIQUE (STOCK_BOM_ID)
  ENABLE VALIDATE);
ALTER TABLE T_CONFIG_TAG ADD PROCEDURE_CONFIG VARCHAR2(10);
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(770, 'AWS_FOLDER_NAME', 'DNETTMPL', NULL, 0);
COMMIT;
CREATE TABLE T_ITEM_VARIANT_MIN_MAX  
(
PK_ID           NUMBER(10),
CRE_DATE        DATE                       DEFAULT SYSDATE,
VARIANT_ID      NUMBER(10),
MIN_QTY         NUMBER(23,5),
MAX_QTY         NUMBER(23,5),
ROW_STATUS      NUMBER(1)
) ; 
CREATE UNIQUE INDEX PK_TIVMM ON T_ITEM_VARIANT_MIN_MAX  
(PK_ID)
LOGGING
TABLESPACE SEA_TB_MISC
PCTFREE    10
INITRANS   2
MAXTRANS   255
STORAGE    (
            INITIAL          64K
            NEXT             1M
            MINEXTENTS       1
            MAXEXTENTS       2147483645
            PCTINCREASE      0
            BUFFER_POOL      DEFAULT
           )
NOPARALLEL;  
ALTER TABLE T_ITEM_VARIANT_MIN_MAX  ADD (
  CONSTRAINT FK_IVMM_IVM
 FOREIGN KEY (VARIANT_ID) 
 REFERENCES T_ITEM_VARIANT_MASTER (VARIANT_ID)); 
 
DROP SEQUENCE ITEM_VARIANT_MIN_MAX ; 
CREATE SEQUENCE ITEM_VARIANT_MIN_MAX
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER; 
CREATE TABLE T_API_SESSION_DATA
(
  SESSION_DATA_ID   NUMBER(10),
  LOCATION_ID       NUMBER(10) CONSTRAINT NN_ASD_LID NOT NULL,
  YEAR_ID           NUMBER(10) CONSTRAINT NN_ASD_YID NOT NULL,
  SESSION_ID        NUMBER(10) CONSTRAINT NN_ASD_SID NOT NULL
)
TABLESPACE SEA_TB_MISC;

ALTER TABLE T_API_SESSION_DATA ADD CONSTRAINT PK_ASD_SDID PRIMARY KEY(SESSION_DATA_ID);

ALTER TABLE T_API_SESSION_DATA ADD CONSTRAINT FK_ASD_LID_ALM FOREIGN KEY(LOCATION_ID) REFERENCES T_APP_LOCATION_MASTER(LOCATION_ID);
ALTER TABLE T_API_SESSION_DATA ADD CONSTRAINT FK_ASD_YID_AFY FOREIGN KEY(YEAR_ID) REFERENCES T_APP_FINANCIAL_YEAR(YEAR_ID);
ALTER TABLE T_API_SESSION_DATA ADD CONSTRAINT FK_ASD_SID_SI FOREIGN KEY(SESSION_ID) REFERENCES T_SESSION_INFO(SESSION_ID);

CREATE SEQUENCE API_SESSION_DATA START WITH 1 MAXVALUE 999999999999999999999999999 MINVALUE 1 NOCYCLE NOCACHE ORDER NOKEEP GLOBAL;

ALTER TABLE T_OPERATION_ROUTING_DTL
  DROP CONSTRAINT UNQ_ORD_VAR_OPN;V
ALTER TABLE T_OPERATION_ROUTING_DTL ADD (
  CONSTRAINT UNQ_ORD_VAR_OPN
  UNIQUE (ROUTING_ID, VARIANT_ID, OPERATION_ID, OP_ROUTING_ID,WCGROUP_ID)
  ENABLE VALIDATE);

Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CAN_CHANGE_SETTING)
 Values
   (771, 'STUD-FROM-DIFF-VARIANT-BUT-CARRY-ORDER-STONE-INFO', '1', 0);
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (761, 'ALWAYS-INSERT-IN-PROCESSING', '0', NULL, 0);
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (769, 'TAG-PRINT-FROM-GT', '0', NULL, 0);
COMMIT;

SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (772, 'AUTOCHECK-BULKCHECKBOX-IN-TRANS', '0', NULL, 0);
COMMIT;

ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD REMARK1 VARCHAR2(250);
ALTER TABLE T_SCHEME_PARTY_LINK_HDR ADD REMARK2 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD31 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD32 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD33 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD34 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD35 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD36 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD37 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD38 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD39 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD40 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD41 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD42 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD43 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD44 VARCHAR2(250);
ALTER TABLE T_TEMP_REPORT ADD FIELD45 VARCHAR2(250);

DROP TABLE T_DAILY_TRANS_OTHER;
DROP TABLE T_DAILY_TRANS_OTHER_BOM;
DROP TABLE T_DAILY_TRANS_PRODUCTION;
DROP TABLE T_DAILY_TRANS_PRODUCTION_BOM;
DROP TABLE T_DAILY_TRANS_TRANSFER;
DROP TABLE T_DAILY_TRANS_TRANSFER_BOM;
DROP TABLE T_DAILY_TRANS_MFGR;
DROP TABLE T_DAILY_TRANS_MFGR_BOM;
DROP TABLE T_DAILY_UPDATE_TRANSFER;
DROP TABLE T_DAILY_UPDATE_STOCK;
DROP TABLE T_DAILY_UPDATE_FOR_REPORTDB;
DROP TABLE T_DAILY_UPDATE_MFGR_RPTDB;
CREATE TABLE T_GENERATE_IRN_API_LOG
(
  TRANS_ID      NUMBER(10),
  JSON_DATA     CLOB,
  STATUS        VARCHAR2(100),
  ERROR_MESSAGE VARCHAR2(2000),
  CALL_TIME     DATE
);

ALTER TABLE T_GENERATE_IRN_API_LOG ADD CONSTRAINT CHK_GIAL_JD CHECK(JSON_DATA IS JSON(STRICT));
ALTER TABLE GT_FA_LEDGER_REPORT MODIFY REMARK VARCHAR2(255) ;
ALTER TABLE T_OPERATION_WC_MAPPING ADD ROW_STATUS NUMBER(1);
ALTER TABLE T_PARTY_CONTACT_MASTER MODIFY TWITTER_URL VARCHAR2(350);
ALTER TABLE T_PARTY_CONTACT_MASTER MODIFY FACEBOOK_URL VARCHAR2(350);

CREATE TABLE T_APPROVAL_LEVEL_MAPPING
(
    PK_ID           NUMBER(10),
    LOCATION_ID     NUMBER(10),
    LEVEL_ID        NUMBER(10),
    EMAIL_ID        VARCHAR2(250),
    MOBILE_NO       VARCHAR2(100),
    ROW_STATUS      NUMBER(1) DEFAULT 1
);

CREATE UNIQUE INDEX PK_ALM ON T_APPROVAL_LEVEL_MAPPING (PK_ID);

ALTER TABLE T_APPROVAL_LEVEL_MAPPING ADD (CONSTRAINT PK_ALM PRIMARY KEY (PK_ID) USING INDEX PK_ALM ENABLE VALIDATE);

ALTER TABLE T_APPROVAL_LEVEL_MAPPING ADD (CONSTRAINT UNQ_ALM_LCID_LVLID UNIQUE (LOCATION_ID, LEVEL_ID) ENABLE VALIDATE);


CREATE SEQUENCE APPROVAL_LEVEL_MAPPING
  START WITH 1
  MAXVALUE 999999999999999999999999999
  MINVALUE 1
  NOCYCLE
  NOCACHE
  ORDER
  NOKEEP
  GLOBAL;
ALTER TABLE GT_ITEM_XML ADD BLOB_DATA BLOB;
INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(779, 'ALLOW-ZERO-BOM-RATE-IN-BARCODE', '0', NULL, 0);
COMMIT;
CREATE TABLE T_PASSBOOK_CONFIG
(
    CONFIG_ID       NUMBER(10),
    PASSBOOK_NAME   VARCHAR2(100),
    ROW_STATUS      NUMBER(1) DEFAULT 1,
    CLIENT_ID       NUMBER(10)        
);

CREATE UNIQUE INDEX PK_PC ON T_PASSBOOK_CONFIG (CONFIG_ID);

ALTER TABLE T_PASSBOOK_CONFIG ADD (CONSTRAINT PK_PC PRIMARY KEY (CONFIG_ID) USING INDEX PK_PC ENABLE VALIDATE);

CREATE TABLE T_PASSBOOK_CONFIG_DTL
(
    CONFIG_DTL_ID   NUMBER(10),
    CONFIG_ID       NUMBER(10),
    ROW_NO          NUMBER(10),
    COL_NO          NUMBER(10),
    X_POS           NUMBER(10,5),
    Y_POS           NUMBER(10,5),
    COLUMN_DATA     VARCHAR2(100)    
);

CREATE UNIQUE INDEX PK_PCDTL ON T_PASSBOOK_CONFIG_DTL (CONFIG_DTL_ID);

ALTER TABLE T_PASSBOOK_CONFIG_DTL ADD (CONSTRAINT PK_PCDTL PRIMARY KEY (CONFIG_DTL_ID) USING INDEX PK_PCDTL ENABLE VALIDATE);

ALTER TABLE T_PASSBOOK_CONFIG_DTL ADD (CONSTRAINT FK_PCD_CID_CID FOREIGN KEY (CONFIG_ID) REFERENCES T_PASSBOOK_CONFIG (CONFIG_ID) ENABLE VALIDATE);
ALTER TABLE T_SCHEME_PARTY_LINK_DTL ADD IS_PRINTED NUMBER(1) DEFAULT 0 CONSTRAINT NN_SPLD_IP NOT NULL;
ALTER TABLE T_MISC_ADDRESS_DTL ADD STATE_ID NUMBER(10) DEFAULT 0;
UPDATE T_MISC_ADDRESS_MASTER SET CITY_ID = CITY_ID;
COMMIT;

ALTER TABLE GT_TH MODIFY "PaymentSource" VARCHAR2(500);
SET DEFINE OFF;
Insert into T_CONFIG_GLOBAL
   (CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
 Values
   (782, 'CONFIRM-ONBEFORE-LOSS-RETURN-SAVE', '0', NULL, 0);
COMMIT;

INSERT INTO T_CONFIG_GLOBAL(CONFIG_ID, CONFIG_CODE, CONFIG_VALUE, CONFIG_REMARKS, CAN_CHANGE_SETTING)
VALUES(759, 'METAL-RATE-FOR-FA-ADVANCE', '0', '0 = NO, 1 = YES', 0);
COMMIT;

ALTER TABLE T_FA_BILL_RESERVATION ADD METAL_RATE NUMBER(20, 7) DEFAULT 0 CONSTRAINT NN_FBR_MR NOT NULL;
ALTER TABLE T_FA_BILL_RESERVATION ADD METAL_QTY NUMBER(20, 7) DEFAULT 0 CONSTRAINT NN_FBR_QTY NOT NULL;
